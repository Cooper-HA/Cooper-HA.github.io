(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function qm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bu={exports:{}},rs={},$u={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function n0(){if(kp)return ue;kp=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function R(k,b,ae){this.props=k,this.context=b,this.refs=N,this.updater=ae||x}R.prototype.isReactComponent={},R.prototype.setState=function(k,b){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,b,"setState")},R.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function D(){}D.prototype=R.prototype;function M(k,b,ae){this.props=k,this.context=b,this.refs=N,this.updater=ae||x}var z=M.prototype=new D;z.constructor=M,E(z,R.prototype),z.isPureReactComponent=!0;var $=Array.isArray,H=Object.prototype.hasOwnProperty,Q={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function ie(k,b,ae){var fe,ge={},ye=null,xe=null;if(b!=null)for(fe in b.ref!==void 0&&(xe=b.ref),b.key!==void 0&&(ye=""+b.key),b)H.call(b,fe)&&!Z.hasOwnProperty(fe)&&(ge[fe]=b[fe]);var we=arguments.length-2;if(we===1)ge.children=ae;else if(1<we){for(var Oe=Array(we),kt=0;kt<we;kt++)Oe[kt]=arguments[kt+2];ge.children=Oe}if(k&&k.defaultProps)for(fe in we=k.defaultProps,we)ge[fe]===void 0&&(ge[fe]=we[fe]);return{$$typeof:n,type:k,key:ye,ref:xe,props:ge,_owner:Q.current}}function se(k,b){return{$$typeof:n,type:k.type,key:b,ref:k.ref,props:k.props,_owner:k._owner}}function de(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function Ce(k){var b={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return b[ae]})}var $e=/\/+/g;function tt(k,b){return typeof k=="object"&&k!==null&&k.key!=null?Ce(""+k.key):b.toString(36)}function Ot(k,b,ae,fe,ge){var ye=typeof k;(ye==="undefined"||ye==="boolean")&&(k=null);var xe=!1;if(k===null)xe=!0;else switch(ye){case"string":case"number":xe=!0;break;case"object":switch(k.$$typeof){case n:case e:xe=!0}}if(xe)return xe=k,ge=ge(xe),k=fe===""?"."+tt(xe,0):fe,$(ge)?(ae="",k!=null&&(ae=k.replace($e,"$&/")+"/"),Ot(ge,b,ae,"",function(kt){return kt})):ge!=null&&(de(ge)&&(ge=se(ge,ae+(!ge.key||xe&&xe.key===ge.key?"":(""+ge.key).replace($e,"$&/")+"/")+k)),b.push(ge)),1;if(xe=0,fe=fe===""?".":fe+":",$(k))for(var we=0;we<k.length;we++){ye=k[we];var Oe=fe+tt(ye,we);xe+=Ot(ye,b,ae,Oe,ge)}else if(Oe=v(k),typeof Oe=="function")for(k=Oe.call(k),we=0;!(ye=k.next()).done;)ye=ye.value,Oe=fe+tt(ye,we++),xe+=Ot(ye,b,ae,Oe,ge);else if(ye==="object")throw b=String(k),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return xe}function At(k,b,ae){if(k==null)return k;var fe=[],ge=0;return Ot(k,fe,"","",function(ye){return b.call(ae,ye,ge++)}),fe}function gt(k){if(k._status===-1){var b=k._result;b=b(),b.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=b)}if(k._status===1)return k._result.default;throw k._result}var Fe={current:null},q={transition:null},ne={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:q,ReactCurrentOwner:Q};function K(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:At,forEach:function(k,b,ae){At(k,function(){b.apply(this,arguments)},ae)},count:function(k){var b=0;return At(k,function(){b++}),b},toArray:function(k){return At(k,function(b){return b})||[]},only:function(k){if(!de(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ue.Component=R,ue.Fragment=r,ue.Profiler=l,ue.PureComponent=M,ue.StrictMode=s,ue.Suspense=p,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ue.act=K,ue.cloneElement=function(k,b,ae){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var fe=E({},k.props),ge=k.key,ye=k.ref,xe=k._owner;if(b!=null){if(b.ref!==void 0&&(ye=b.ref,xe=Q.current),b.key!==void 0&&(ge=""+b.key),k.type&&k.type.defaultProps)var we=k.type.defaultProps;for(Oe in b)H.call(b,Oe)&&!Z.hasOwnProperty(Oe)&&(fe[Oe]=b[Oe]===void 0&&we!==void 0?we[Oe]:b[Oe])}var Oe=arguments.length-2;if(Oe===1)fe.children=ae;else if(1<Oe){we=Array(Oe);for(var kt=0;kt<Oe;kt++)we[kt]=arguments[kt+2];fe.children=we}return{$$typeof:n,type:k.type,key:ge,ref:ye,props:fe,_owner:xe}},ue.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:u,_context:k},k.Consumer=k},ue.createElement=ie,ue.createFactory=function(k){var b=ie.bind(null,k);return b.type=k,b},ue.createRef=function(){return{current:null}},ue.forwardRef=function(k){return{$$typeof:h,render:k}},ue.isValidElement=de,ue.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:gt}},ue.memo=function(k,b){return{$$typeof:m,type:k,compare:b===void 0?null:b}},ue.startTransition=function(k){var b=q.transition;q.transition={};try{k()}finally{q.transition=b}},ue.unstable_act=K,ue.useCallback=function(k,b){return Fe.current.useCallback(k,b)},ue.useContext=function(k){return Fe.current.useContext(k)},ue.useDebugValue=function(){},ue.useDeferredValue=function(k){return Fe.current.useDeferredValue(k)},ue.useEffect=function(k,b){return Fe.current.useEffect(k,b)},ue.useId=function(){return Fe.current.useId()},ue.useImperativeHandle=function(k,b,ae){return Fe.current.useImperativeHandle(k,b,ae)},ue.useInsertionEffect=function(k,b){return Fe.current.useInsertionEffect(k,b)},ue.useLayoutEffect=function(k,b){return Fe.current.useLayoutEffect(k,b)},ue.useMemo=function(k,b){return Fe.current.useMemo(k,b)},ue.useReducer=function(k,b,ae){return Fe.current.useReducer(k,b,ae)},ue.useRef=function(k){return Fe.current.useRef(k)},ue.useState=function(k){return Fe.current.useState(k)},ue.useSyncExternalStore=function(k,b,ae){return Fe.current.useSyncExternalStore(k,b,ae)},ue.useTransition=function(){return Fe.current.useTransition()},ue.version="18.3.1",ue}var Tp;function Fc(){return Tp||(Tp=1,$u.exports=n0()),$u.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function r0(){if(Rp)return rs;Rp=1;var n=Fc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var y,_={},v=null,x=null;m!==void 0&&(v=""+m),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(x=p.ref);for(y in p)s.call(p,y)&&!u.hasOwnProperty(y)&&(_[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)_[y]===void 0&&(_[y]=p[y]);return{$$typeof:e,type:h,key:v,ref:x,props:_,_owner:l.current}}return rs.Fragment=r,rs.jsx=c,rs.jsxs=c,rs}var Np;function i0(){return Np||(Np=1,Bu.exports=r0()),Bu.exports}var P=i0(),O=Fc();const s0=qm(O);var el={},Wu={exports:{}},Ct={},Hu={exports:{}},qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function o0(){return Ip||(Ip=1,function(n){function e(q,ne){var K=q.length;q.push(ne);e:for(;0<K;){var k=K-1>>>1,b=q[k];if(0<l(b,ne))q[k]=ne,q[K]=b,K=k;else break e}}function r(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ne=q[0],K=q.pop();if(K!==ne){q[0]=K;e:for(var k=0,b=q.length,ae=b>>>1;k<ae;){var fe=2*(k+1)-1,ge=q[fe],ye=fe+1,xe=q[ye];if(0>l(ge,K))ye<b&&0>l(xe,ge)?(q[k]=xe,q[ye]=K,k=ye):(q[k]=ge,q[fe]=K,k=fe);else if(ye<b&&0>l(xe,K))q[k]=xe,q[ye]=K,k=ye;else break e}}return ne}function l(q,ne){var K=q.sortIndex-ne.sortIndex;return K!==0?K:q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,_=null,v=3,x=!1,E=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(q){for(var ne=r(m);ne!==null;){if(ne.callback===null)s(m);else if(ne.startTime<=q)s(m),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=r(m)}}function $(q){if(N=!1,z(q),!E)if(r(p)!==null)E=!0,gt(H);else{var ne=r(m);ne!==null&&Fe($,ne.startTime-q)}}function H(q,ne){E=!1,N&&(N=!1,D(ie),ie=-1),x=!0;var K=v;try{for(z(ne),_=r(p);_!==null&&(!(_.expirationTime>ne)||q&&!Ce());){var k=_.callback;if(typeof k=="function"){_.callback=null,v=_.priorityLevel;var b=k(_.expirationTime<=ne);ne=n.unstable_now(),typeof b=="function"?_.callback=b:_===r(p)&&s(p),z(ne)}else s(p);_=r(p)}if(_!==null)var ae=!0;else{var fe=r(m);fe!==null&&Fe($,fe.startTime-ne),ae=!1}return ae}finally{_=null,v=K,x=!1}}var Q=!1,Z=null,ie=-1,se=5,de=-1;function Ce(){return!(n.unstable_now()-de<se)}function $e(){if(Z!==null){var q=n.unstable_now();de=q;var ne=!0;try{ne=Z(!0,q)}finally{ne?tt():(Q=!1,Z=null)}}else Q=!1}var tt;if(typeof M=="function")tt=function(){M($e)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,At=Ot.port2;Ot.port1.onmessage=$e,tt=function(){At.postMessage(null)}}else tt=function(){R($e,0)};function gt(q){Z=q,Q||(Q=!0,tt())}function Fe(q,ne){ie=R(function(){q(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){E||x||(E=!0,gt(H))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return r(p)},n.unstable_next=function(q){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var K=v;v=ne;try{return q()}finally{v=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=v;v=q;try{return ne()}finally{v=K}},n.unstable_scheduleCallback=function(q,ne,K){var k=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?k+K:k):K=k,q){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=K+b,q={id:y++,callback:ne,priorityLevel:q,startTime:K,expirationTime:b,sortIndex:-1},K>k?(q.sortIndex=K,e(m,q),r(p)===null&&q===r(m)&&(N?(D(ie),ie=-1):N=!0,Fe($,K-k))):(q.sortIndex=b,e(p,q),E||x||(E=!0,gt(H))),q},n.unstable_shouldYield=Ce,n.unstable_wrapCallback=function(q){var ne=v;return function(){var K=v;v=ne;try{return q.apply(this,arguments)}finally{v=K}}}}(qu)),qu}var Pp;function l0(){return Pp||(Pp=1,Hu.exports=o0()),Hu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function a0(){if(Op)return Ct;Op=1;var n=Fc(),e=l0();function r(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,i){c(t,i),c(t+"Capture",i)}function c(t,i){for(l[t]=i,t=0;t<i.length;t++)s.add(i[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function v(t){return p.call(_,t)?!0:p.call(y,t)?!1:m.test(t)?_[t]=!0:(y[t]=!0,!1)}function x(t,i,o,a){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,i,o,a){if(i===null||typeof i>"u"||x(t,i,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(t,i,o,a,d,f,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=i,this.sanitizeURL=f,this.removeEmptyString=g}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){R[t]=new N(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];R[i]=new N(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){R[t]=new N(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){R[t]=new N(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){R[t]=new N(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){R[t]=new N(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){R[t]=new N(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){R[t]=new N(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){R[t]=new N(t,5,!1,t.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function M(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(D,M);R[i]=new N(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(D,M);R[i]=new N(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(D,M);R[i]=new N(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){R[t]=new N(t,1,!1,t.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){R[t]=new N(t,1,!1,t.toLowerCase(),null,!0,!0)});function z(t,i,o,a){var d=R.hasOwnProperty(i)?R[i]:null;(d!==null?d.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,o,d,a)&&(o=null),a||d===null?v(i)&&(o===null?t.removeAttribute(i):t.setAttribute(i,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(i=d.attributeName,a=d.attributeNamespace,o===null?t.removeAttribute(i):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,a?t.setAttributeNS(a,i,o):t.setAttribute(i,o))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),Q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),q=Symbol.iterator;function ne(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var K=Object.assign,k;function b(t){if(k===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||""}return`
`+k+t}var ae=!1;function fe(t,i){if(!t||ae)return"";ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(A){var a=A}Reflect.construct(t,[],i)}else{try{i.call()}catch(A){a=A}t.call(i.prototype)}else{try{throw Error()}catch(A){a=A}t()}}catch(A){if(A&&a&&typeof A.stack=="string"){for(var d=A.stack.split(`
`),f=a.stack.split(`
`),g=d.length-1,w=f.length-1;1<=g&&0<=w&&d[g]!==f[w];)w--;for(;1<=g&&0<=w;g--,w--)if(d[g]!==f[w]){if(g!==1||w!==1)do if(g--,w--,0>w||d[g]!==f[w]){var C=`
`+d[g].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=g&&0<=w);break}}}finally{ae=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?b(t):""}function ge(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=fe(t.type,!1),t;case 11:return t=fe(t.type.render,!1),t;case 1:return t=fe(t.type,!0),t;default:return""}}function ye(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case Q:return"Portal";case se:return"Profiler";case ie:return"StrictMode";case tt:return"Suspense";case Ot:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ce:return(t.displayName||"Context")+".Consumer";case de:return(t._context.displayName||"Context")+".Provider";case $e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case At:return i=t.displayName||null,i!==null?i:ye(t.type)||"Memo";case gt:i=t._payload,t=t._init;try{return ye(t(i))}catch{}}return null}function xe(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(i);case 8:return i===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function we(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oe(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kt(t){var i=Oe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),a=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ws(t){t._valueTracker||(t._valueTracker=kt(t))}function Pd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),a="";return t&&(a=Oe(t)?t.checked?"true":"false":t.value),t=a,t!==o?(i.setValue(t),!0):!1}function Hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gl(t,i){var o=i.checked;return K({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Od(t,i){var o=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;o=we(i.value!=null?i.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ad(t,i){i=i.checked,i!=null&&z(t,"checked",i,!1)}function Kl(t,i){Ad(t,i);var o=we(i.value),a=i.type;if(o!=null)a==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?Yl(t,i.type,o):i.hasOwnProperty("defaultValue")&&Yl(t,i.type,we(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Dd(t,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,o||i===t.value||(t.value=i),t.defaultValue=i}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Yl(t,i,o){(i!=="number"||Hs(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var _i=Array.isArray;function Nr(t,i,o,a){if(t=t.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=i.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&a&&(t[o].defaultSelected=!0)}else{for(o=""+we(o),i=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,a&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Jl(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ld(t,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(r(92));if(_i(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),o=i}t._wrapperState={initialValue:we(o)}}function Md(t,i){var o=we(i.value),a=we(i.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),i.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),a!=null&&(t.defaultValue=""+a)}function Fd(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function bd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xl(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?bd(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qs,jd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,a,d){MSApp.execUnsafeLocalFunction(function(){return t(i,o,a,d)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=qs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function vi(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o_=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(t){o_.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),wi[i]=wi[t]})});function zd(t,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||wi.hasOwnProperty(t)&&wi[t]?(""+i).trim():i+"px"}function Ud(t,i){t=t.style;for(var o in i)if(i.hasOwnProperty(o)){var a=o.indexOf("--")===0,d=zd(o,i[o],a);o==="float"&&(o="cssFloat"),a?t.setProperty(o,d):t[o]=d}}var l_=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(t,i){if(i){if(l_[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function ea(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function na(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ra=null,Ir=null,Pr=null;function Bd(t){if(t=$i(t)){if(typeof ra!="function")throw Error(r(280));var i=t.stateNode;i&&(i=mo(i),ra(t.stateNode,t.type,i))}}function $d(t){Ir?Pr?Pr.push(t):Pr=[t]:Ir=t}function Wd(){if(Ir){var t=Ir,i=Pr;if(Pr=Ir=null,Bd(t),i)for(t=0;t<i.length;t++)Bd(i[t])}}function Hd(t,i){return t(i)}function qd(){}var ia=!1;function Vd(t,i,o){if(ia)return t(i,o);ia=!0;try{return Hd(t,i,o)}finally{ia=!1,(Ir!==null||Pr!==null)&&(qd(),Wd())}}function Ei(t,i){var o=t.stateNode;if(o===null)return null;var a=mo(o);if(a===null)return null;o=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var sa=!1;if(h)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{sa=!1}function a_(t,i,o,a,d,f,g,w,C){var A=Array.prototype.slice.call(arguments,3);try{i.apply(o,A)}catch(j){this.onError(j)}}var Si=!1,Vs=null,Qs=!1,oa=null,u_={onError:function(t){Si=!0,Vs=t}};function c_(t,i,o,a,d,f,g,w,C){Si=!1,Vs=null,a_.apply(u_,arguments)}function d_(t,i,o,a,d,f,g,w,C){if(c_.apply(this,arguments),Si){if(Si){var A=Vs;Si=!1,Vs=null}else throw Error(r(198));Qs||(Qs=!0,oa=A)}}function rr(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function Qd(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Gd(t){if(rr(t)!==t)throw Error(r(188))}function f_(t){var i=t.alternate;if(!i){if(i=rr(t),i===null)throw Error(r(188));return i!==t?null:t}for(var o=t,a=i;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(a=d.return,a!==null){o=a;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return Gd(d),t;if(f===a)return Gd(d),i;f=f.sibling}throw Error(r(188))}if(o.return!==a.return)o=d,a=f;else{for(var g=!1,w=d.child;w;){if(w===o){g=!0,o=d,a=f;break}if(w===a){g=!0,a=d,o=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===o){g=!0,o=f,a=d;break}if(w===a){g=!0,a=f,o=d;break}w=w.sibling}if(!g)throw Error(r(189))}}if(o.alternate!==a)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:i}function Kd(t){return t=f_(t),t!==null?Yd(t):null}function Yd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=Yd(t);if(i!==null)return i;t=t.sibling}return null}var Jd=e.unstable_scheduleCallback,Xd=e.unstable_cancelCallback,h_=e.unstable_shouldYield,p_=e.unstable_requestPaint,Ue=e.unstable_now,m_=e.unstable_getCurrentPriorityLevel,la=e.unstable_ImmediatePriority,Zd=e.unstable_UserBlockingPriority,Gs=e.unstable_NormalPriority,g_=e.unstable_LowPriority,ef=e.unstable_IdlePriority,Ks=null,en=null;function y_(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ks,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:w_,__=Math.log,v_=Math.LN2;function w_(t){return t>>>=0,t===0?32:31-(__(t)/v_|0)|0}var Ys=64,Js=4194304;function xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xs(t,i){var o=t.pendingLanes;if(o===0)return 0;var a=0,d=t.suspendedLanes,f=t.pingedLanes,g=o&268435455;if(g!==0){var w=g&~d;w!==0?a=xi(w):(f&=g,f!==0&&(a=xi(f)))}else g=o&~d,g!==0?a=xi(g):f!==0&&(a=xi(f));if(a===0)return 0;if(i!==0&&i!==a&&!(i&d)&&(d=a&-a,f=i&-i,d>=f||d===16&&(f&4194240)!==0))return i;if(a&4&&(a|=o&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=a;0<i;)o=31-Bt(i),d=1<<o,a|=t[o],i&=~d;return a}function E_(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C_(t,i){for(var o=t.suspendedLanes,a=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes;0<f;){var g=31-Bt(f),w=1<<g,C=d[g];C===-1?(!(w&o)||w&a)&&(d[g]=E_(w,i)):C<=i&&(t.expiredLanes|=w),f&=~w}}function aa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tf(){var t=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),t}function ua(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function ki(t,i,o){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Bt(i),t[i]=o}function S_(t,i){var o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Bt(o),f=1<<d;i[d]=0,a[d]=-1,t[d]=-1,o&=~f}}function ca(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var a=31-Bt(o),d=1<<a;d&i|t[a]&i&&(t[a]|=i),o&=~d}}var Ee=0;function nf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rf,da,sf,of,lf,fa=!1,Zs=[],Rn=null,Nn=null,In=null,Ti=new Map,Ri=new Map,Pn=[],x_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function af(t,i){switch(t){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Ti.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(i.pointerId)}}function Ni(t,i,o,a,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:o,eventSystemFlags:a,nativeEvent:f,targetContainers:[d]},i!==null&&(i=$i(i),i!==null&&da(i)),t):(t.eventSystemFlags|=a,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function k_(t,i,o,a,d){switch(i){case"focusin":return Rn=Ni(Rn,t,i,o,a,d),!0;case"dragenter":return Nn=Ni(Nn,t,i,o,a,d),!0;case"mouseover":return In=Ni(In,t,i,o,a,d),!0;case"pointerover":var f=d.pointerId;return Ti.set(f,Ni(Ti.get(f)||null,t,i,o,a,d)),!0;case"gotpointercapture":return f=d.pointerId,Ri.set(f,Ni(Ri.get(f)||null,t,i,o,a,d)),!0}return!1}function uf(t){var i=ir(t.target);if(i!==null){var o=rr(i);if(o!==null){if(i=o.tag,i===13){if(i=Qd(o),i!==null){t.blockedOn=i,lf(t.priority,function(){sf(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eo(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=pa(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var a=new o.constructor(o.type,o);ta=a,o.target.dispatchEvent(a),ta=null}else return i=$i(o),i!==null&&da(i),t.blockedOn=o,!1;i.shift()}return!0}function cf(t,i,o){eo(t)&&o.delete(i)}function T_(){fa=!1,Rn!==null&&eo(Rn)&&(Rn=null),Nn!==null&&eo(Nn)&&(Nn=null),In!==null&&eo(In)&&(In=null),Ti.forEach(cf),Ri.forEach(cf)}function Ii(t,i){t.blockedOn===i&&(t.blockedOn=null,fa||(fa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,T_)))}function Pi(t){function i(d){return Ii(d,t)}if(0<Zs.length){Ii(Zs[0],t);for(var o=1;o<Zs.length;o++){var a=Zs[o];a.blockedOn===t&&(a.blockedOn=null)}}for(Rn!==null&&Ii(Rn,t),Nn!==null&&Ii(Nn,t),In!==null&&Ii(In,t),Ti.forEach(i),Ri.forEach(i),o=0;o<Pn.length;o++)a=Pn[o],a.blockedOn===t&&(a.blockedOn=null);for(;0<Pn.length&&(o=Pn[0],o.blockedOn===null);)uf(o),o.blockedOn===null&&Pn.shift()}var Or=$.ReactCurrentBatchConfig,to=!0;function R_(t,i,o,a){var d=Ee,f=Or.transition;Or.transition=null;try{Ee=1,ha(t,i,o,a)}finally{Ee=d,Or.transition=f}}function N_(t,i,o,a){var d=Ee,f=Or.transition;Or.transition=null;try{Ee=4,ha(t,i,o,a)}finally{Ee=d,Or.transition=f}}function ha(t,i,o,a){if(to){var d=pa(t,i,o,a);if(d===null)Oa(t,i,a,no,o),af(t,a);else if(k_(d,t,i,o,a))a.stopPropagation();else if(af(t,a),i&4&&-1<x_.indexOf(t)){for(;d!==null;){var f=$i(d);if(f!==null&&rf(f),f=pa(t,i,o,a),f===null&&Oa(t,i,a,no,o),f===d)break;d=f}d!==null&&a.stopPropagation()}else Oa(t,i,a,null,o)}}var no=null;function pa(t,i,o,a){if(no=null,t=na(a),t=ir(t),t!==null)if(i=rr(t),i===null)t=null;else if(o=i.tag,o===13){if(t=Qd(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return no=t,null}function df(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m_()){case la:return 1;case Zd:return 4;case Gs:case g_:return 16;case ef:return 536870912;default:return 16}default:return 16}}var On=null,ma=null,ro=null;function ff(){if(ro)return ro;var t,i=ma,o=i.length,a,d="value"in On?On.value:On.textContent,f=d.length;for(t=0;t<o&&i[t]===d[t];t++);var g=o-t;for(a=1;a<=g&&i[o-a]===d[f-a];a++);return ro=d.slice(t,1<a?1-a:void 0)}function io(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function hf(){return!1}function Tt(t){function i(o,a,d,f,g){this._reactName=o,this._targetInst=d,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?so:hf,this.isPropagationStopped=hf,this}return K(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),i}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Tt(Ar),Oi=K({},Ar,{view:0,detail:0}),I_=Tt(Oi),ya,_a,Ai,oo=K({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(ya=t.screenX-Ai.screenX,_a=t.screenY-Ai.screenY):_a=ya=0,Ai=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),pf=Tt(oo),P_=K({},oo,{dataTransfer:0}),O_=Tt(P_),A_=K({},Oi,{relatedTarget:0}),va=Tt(A_),D_=K({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=Tt(D_),M_=K({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F_=Tt(M_),b_=K({},Ar,{data:0}),mf=Tt(b_),j_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B_(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=U_[t])?!!i[t]:!1}function wa(){return B_}var $_=K({},Oi,{key:function(t){if(t.key){var i=j_[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=io(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(t){return t.type==="keypress"?io(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?io(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W_=Tt($_),H_=K({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gf=Tt(H_),q_=K({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),V_=Tt(q_),Q_=K({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),G_=Tt(Q_),K_=K({},oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y_=Tt(K_),J_=[9,13,27,32],Ea=h&&"CompositionEvent"in window,Di=null;h&&"documentMode"in document&&(Di=document.documentMode);var X_=h&&"TextEvent"in window&&!Di,yf=h&&(!Ea||Di&&8<Di&&11>=Di),_f=" ",vf=!1;function wf(t,i){switch(t){case"keyup":return J_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function Z_(t,i){switch(t){case"compositionend":return Ef(i);case"keypress":return i.which!==32?null:(vf=!0,_f);case"textInput":return t=i.data,t===_f&&vf?null:t;default:return null}}function ev(t,i){if(Dr)return t==="compositionend"||!Ea&&wf(t,i)?(t=ff(),ro=ma=On=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yf&&i.locale!=="ko"?null:i.data;default:return null}}var tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!tv[t.type]:i==="textarea"}function Sf(t,i,o,a){$d(a),i=fo(i,"onChange"),0<i.length&&(o=new ga("onChange","change",null,o,a),t.push({event:o,listeners:i}))}var Li=null,Mi=null;function nv(t){Bf(t,0)}function lo(t){var i=jr(t);if(Pd(i))return t}function rv(t,i){if(t==="change")return i}var xf=!1;if(h){var Ca;if(h){var Sa="oninput"in document;if(!Sa){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),Sa=typeof kf.oninput=="function"}Ca=Sa}else Ca=!1;xf=Ca&&(!document.documentMode||9<document.documentMode)}function Tf(){Li&&(Li.detachEvent("onpropertychange",Rf),Mi=Li=null)}function Rf(t){if(t.propertyName==="value"&&lo(Mi)){var i=[];Sf(i,Mi,t,na(t)),Vd(nv,i)}}function iv(t,i,o){t==="focusin"?(Tf(),Li=i,Mi=o,Li.attachEvent("onpropertychange",Rf)):t==="focusout"&&Tf()}function sv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lo(Mi)}function ov(t,i){if(t==="click")return lo(i)}function lv(t,i){if(t==="input"||t==="change")return lo(i)}function av(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var $t=typeof Object.is=="function"?Object.is:av;function Fi(t,i){if($t(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),a=Object.keys(i);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var d=o[a];if(!p.call(i,d)||!$t(t[d],i[d]))return!1}return!0}function Nf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function If(t,i){var o=Nf(t);t=0;for(var a;o;){if(o.nodeType===3){if(a=t+o.textContent.length,t<=i&&a>=i)return{node:o,offset:i-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Nf(o)}}function Pf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Pf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Of(){for(var t=window,i=Hs();i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=Hs(t.document)}return i}function xa(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function uv(t){var i=Of(),o=t.focusedElem,a=t.selectionRange;if(i!==o&&o&&o.ownerDocument&&Pf(o.ownerDocument.documentElement,o)){if(a!==null&&xa(o)){if(i=a.start,t=a.end,t===void 0&&(t=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(t,o.value.length);else if(t=(i=o.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,f=Math.min(a.start,d);a=a.end===void 0?f:Math.min(a.end,d),!t.extend&&f>a&&(d=a,a=f,f=d),d=If(o,f);var g=If(o,a);d&&g&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==g.node||t.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),t.removeAllRanges(),f>a?(t.addRange(i),t.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),t.addRange(i)))}}for(i=[],t=o;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)t=i[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cv=h&&"documentMode"in document&&11>=document.documentMode,Lr=null,ka=null,bi=null,Ta=!1;function Af(t,i,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ta||Lr==null||Lr!==Hs(a)||(a=Lr,"selectionStart"in a&&xa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),bi&&Fi(bi,a)||(bi=a,a=fo(ka,"onSelect"),0<a.length&&(i=new ga("onSelect","select",null,i,o),t.push({event:i,listeners:a}),i.target=Lr)))}function ao(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Mr={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},Ra={},Df={};h&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function uo(t){if(Ra[t])return Ra[t];if(!Mr[t])return t;var i=Mr[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Df)return Ra[t]=i[o];return t}var Lf=uo("animationend"),Mf=uo("animationiteration"),Ff=uo("animationstart"),bf=uo("transitionend"),jf=new Map,zf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,i){jf.set(t,i),u(i,[t])}for(var Na=0;Na<zf.length;Na++){var Ia=zf[Na],dv=Ia.toLowerCase(),fv=Ia[0].toUpperCase()+Ia.slice(1);An(dv,"on"+fv)}An(Lf,"onAnimationEnd"),An(Mf,"onAnimationIteration"),An(Ff,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(bf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function Uf(t,i,o){var a=t.type||"unknown-event";t.currentTarget=o,d_(a,i,void 0,t),t.currentTarget=null}function Bf(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var a=t[o],d=a.event;a=a.listeners;e:{var f=void 0;if(i)for(var g=a.length-1;0<=g;g--){var w=a[g],C=w.instance,A=w.currentTarget;if(w=w.listener,C!==f&&d.isPropagationStopped())break e;Uf(d,w,A),f=C}else for(g=0;g<a.length;g++){if(w=a[g],C=w.instance,A=w.currentTarget,w=w.listener,C!==f&&d.isPropagationStopped())break e;Uf(d,w,A),f=C}}}if(Qs)throw t=oa,Qs=!1,oa=null,t}function Ie(t,i){var o=i[ba];o===void 0&&(o=i[ba]=new Set);var a=t+"__bubble";o.has(a)||($f(i,t,2,!1),o.add(a))}function Pa(t,i,o){var a=0;i&&(a|=4),$f(o,t,a,i)}var co="_reactListening"+Math.random().toString(36).slice(2);function zi(t){if(!t[co]){t[co]=!0,s.forEach(function(o){o!=="selectionchange"&&(hv.has(o)||Pa(o,!1,t),Pa(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[co]||(i[co]=!0,Pa("selectionchange",!1,i))}}function $f(t,i,o,a){switch(df(i)){case 1:var d=R_;break;case 4:d=N_;break;default:d=ha}o=d.bind(null,i,o,t),d=void 0,!sa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),a?d!==void 0?t.addEventListener(i,o,{capture:!0,passive:d}):t.addEventListener(i,o,!0):d!==void 0?t.addEventListener(i,o,{passive:d}):t.addEventListener(i,o,!1)}function Oa(t,i,o,a,d){var f=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var w=a.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(g===4)for(g=a.return;g!==null;){var C=g.tag;if((C===3||C===4)&&(C=g.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;g=g.return}for(;w!==null;){if(g=ir(w),g===null)return;if(C=g.tag,C===5||C===6){a=f=g;continue e}w=w.parentNode}}a=a.return}Vd(function(){var A=f,j=na(o),U=[];e:{var F=jf.get(t);if(F!==void 0){var V=ga,Y=t;switch(t){case"keypress":if(io(o)===0)break e;case"keydown":case"keyup":V=W_;break;case"focusin":Y="focus",V=va;break;case"focusout":Y="blur",V=va;break;case"beforeblur":case"afterblur":V=va;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=O_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=V_;break;case Lf:case Mf:case Ff:V=L_;break;case bf:V=G_;break;case"scroll":V=I_;break;case"wheel":V=Y_;break;case"copy":case"cut":case"paste":V=F_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=gf}var J=(i&4)!==0,Be=!J&&t==="scroll",T=J?F!==null?F+"Capture":null:F;J=[];for(var S=A,I;S!==null;){I=S;var B=I.stateNode;if(I.tag===5&&B!==null&&(I=B,T!==null&&(B=Ei(S,T),B!=null&&J.push(Ui(S,B,I)))),Be)break;S=S.return}0<J.length&&(F=new V(F,Y,null,o,j),U.push({event:F,listeners:J}))}}if(!(i&7)){e:{if(F=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",F&&o!==ta&&(Y=o.relatedTarget||o.fromElement)&&(ir(Y)||Y[cn]))break e;if((V||F)&&(F=j.window===j?j:(F=j.ownerDocument)?F.defaultView||F.parentWindow:window,V?(Y=o.relatedTarget||o.toElement,V=A,Y=Y?ir(Y):null,Y!==null&&(Be=rr(Y),Y!==Be||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(V=null,Y=A),V!==Y)){if(J=pf,B="onMouseLeave",T="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(J=gf,B="onPointerLeave",T="onPointerEnter",S="pointer"),Be=V==null?F:jr(V),I=Y==null?F:jr(Y),F=new J(B,S+"leave",V,o,j),F.target=Be,F.relatedTarget=I,B=null,ir(j)===A&&(J=new J(T,S+"enter",Y,o,j),J.target=I,J.relatedTarget=Be,B=J),Be=B,V&&Y)t:{for(J=V,T=Y,S=0,I=J;I;I=Fr(I))S++;for(I=0,B=T;B;B=Fr(B))I++;for(;0<S-I;)J=Fr(J),S--;for(;0<I-S;)T=Fr(T),I--;for(;S--;){if(J===T||T!==null&&J===T.alternate)break t;J=Fr(J),T=Fr(T)}J=null}else J=null;V!==null&&Wf(U,F,V,J,!1),Y!==null&&Be!==null&&Wf(U,Be,Y,J,!0)}}e:{if(F=A?jr(A):window,V=F.nodeName&&F.nodeName.toLowerCase(),V==="select"||V==="input"&&F.type==="file")var X=rv;else if(Cf(F))if(xf)X=lv;else{X=sv;var ee=iv}else(V=F.nodeName)&&V.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(X=ov);if(X&&(X=X(t,A))){Sf(U,X,o,j);break e}ee&&ee(t,F,A),t==="focusout"&&(ee=F._wrapperState)&&ee.controlled&&F.type==="number"&&Yl(F,"number",F.value)}switch(ee=A?jr(A):window,t){case"focusin":(Cf(ee)||ee.contentEditable==="true")&&(Lr=ee,ka=A,bi=null);break;case"focusout":bi=ka=Lr=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,Af(U,o,j);break;case"selectionchange":if(cv)break;case"keydown":case"keyup":Af(U,o,j)}var te;if(Ea)e:{switch(t){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else Dr?wf(t,o)&&(oe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(oe="onCompositionStart");oe&&(yf&&o.locale!=="ko"&&(Dr||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&Dr&&(te=ff()):(On=j,ma="value"in On?On.value:On.textContent,Dr=!0)),ee=fo(A,oe),0<ee.length&&(oe=new mf(oe,t,null,o,j),U.push({event:oe,listeners:ee}),te?oe.data=te:(te=Ef(o),te!==null&&(oe.data=te)))),(te=X_?Z_(t,o):ev(t,o))&&(A=fo(A,"onBeforeInput"),0<A.length&&(j=new mf("onBeforeInput","beforeinput",null,o,j),U.push({event:j,listeners:A}),j.data=te))}Bf(U,i)})}function Ui(t,i,o){return{instance:t,listener:i,currentTarget:o}}function fo(t,i){for(var o=i+"Capture",a=[];t!==null;){var d=t,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Ei(t,o),f!=null&&a.unshift(Ui(t,f,d)),f=Ei(t,i),f!=null&&a.push(Ui(t,f,d))),t=t.return}return a}function Fr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wf(t,i,o,a,d){for(var f=i._reactName,g=[];o!==null&&o!==a;){var w=o,C=w.alternate,A=w.stateNode;if(C!==null&&C===a)break;w.tag===5&&A!==null&&(w=A,d?(C=Ei(o,f),C!=null&&g.unshift(Ui(o,C,w))):d||(C=Ei(o,f),C!=null&&g.push(Ui(o,C,w)))),o=o.return}g.length!==0&&t.push({event:i,listeners:g})}var pv=/\r\n?/g,mv=/\u0000|\uFFFD/g;function Hf(t){return(typeof t=="string"?t:""+t).replace(pv,`
`).replace(mv,"")}function ho(t,i,o){if(i=Hf(i),Hf(t)!==i&&o)throw Error(r(425))}function po(){}var Aa=null,Da=null;function La(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ma=typeof setTimeout=="function"?setTimeout:void 0,gv=typeof clearTimeout=="function"?clearTimeout:void 0,qf=typeof Promise=="function"?Promise:void 0,yv=typeof queueMicrotask=="function"?queueMicrotask:typeof qf<"u"?function(t){return qf.resolve(null).then(t).catch(_v)}:Ma;function _v(t){setTimeout(function(){throw t})}function Fa(t,i){var o=i,a=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(a===0){t.removeChild(d),Pi(i);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=d}while(o);Pi(i)}function Dn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Vf(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}var br=Math.random().toString(36).slice(2),tn="__reactFiber$"+br,Bi="__reactProps$"+br,cn="__reactContainer$"+br,ba="__reactEvents$"+br,vv="__reactListeners$"+br,wv="__reactHandles$"+br;function ir(t){var i=t[tn];if(i)return i;for(var o=t.parentNode;o;){if(i=o[cn]||o[tn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Vf(t);t!==null;){if(o=t[tn])return o;t=Vf(t)}return i}t=o,o=t.parentNode}return null}function $i(t){return t=t[tn]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function mo(t){return t[Bi]||null}var ja=[],zr=-1;function Ln(t){return{current:t}}function Pe(t){0>zr||(t.current=ja[zr],ja[zr]=null,zr--)}function ke(t,i){zr++,ja[zr]=t.current,t.current=i}var Mn={},ot=Ln(Mn),yt=Ln(!1),sr=Mn;function Ur(t,i){var o=t.type.contextTypes;if(!o)return Mn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=i[f];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=d),d}function _t(t){return t=t.childContextTypes,t!=null}function go(){Pe(yt),Pe(ot)}function Qf(t,i,o){if(ot.current!==Mn)throw Error(r(168));ke(ot,i),ke(yt,o)}function Gf(t,i,o){var a=t.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var d in a)if(!(d in i))throw Error(r(108,xe(t)||"Unknown",d));return K({},o,a)}function yo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,sr=ot.current,ke(ot,t),ke(yt,yt.current),!0}function Kf(t,i,o){var a=t.stateNode;if(!a)throw Error(r(169));o?(t=Gf(t,i,sr),a.__reactInternalMemoizedMergedChildContext=t,Pe(yt),Pe(ot),ke(ot,t)):Pe(yt),ke(yt,o)}var dn=null,_o=!1,za=!1;function Yf(t){dn===null?dn=[t]:dn.push(t)}function Ev(t){_o=!0,Yf(t)}function Fn(){if(!za&&dn!==null){za=!0;var t=0,i=Ee;try{var o=dn;for(Ee=1;t<o.length;t++){var a=o[t];do a=a(!0);while(a!==null)}dn=null,_o=!1}catch(d){throw dn!==null&&(dn=dn.slice(t+1)),Jd(la,Fn),d}finally{Ee=i,za=!1}}return null}var Br=[],$r=0,vo=null,wo=0,Dt=[],Lt=0,or=null,fn=1,hn="";function lr(t,i){Br[$r++]=wo,Br[$r++]=vo,vo=t,wo=i}function Jf(t,i,o){Dt[Lt++]=fn,Dt[Lt++]=hn,Dt[Lt++]=or,or=t;var a=fn;t=hn;var d=32-Bt(a)-1;a&=~(1<<d),o+=1;var f=32-Bt(i)+d;if(30<f){var g=d-d%5;f=(a&(1<<g)-1).toString(32),a>>=g,d-=g,fn=1<<32-Bt(i)+d|o<<d|a,hn=f+t}else fn=1<<f|o<<d|a,hn=t}function Ua(t){t.return!==null&&(lr(t,1),Jf(t,1,0))}function Ba(t){for(;t===vo;)vo=Br[--$r],Br[$r]=null,wo=Br[--$r],Br[$r]=null;for(;t===or;)or=Dt[--Lt],Dt[Lt]=null,hn=Dt[--Lt],Dt[Lt]=null,fn=Dt[--Lt],Dt[Lt]=null}var Rt=null,Nt=null,Ae=!1,Wt=null;function Xf(t,i){var o=jt(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=t,i=t.deletions,i===null?(t.deletions=[o],t.flags|=16):i.push(o)}function Zf(t,i){switch(t.tag){case 5:var o=t.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Rt=t,Nt=Dn(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Rt=t,Nt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=or!==null?{id:fn,overflow:hn}:null,t.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=jt(18,null,null,0),o.stateNode=i,o.return=t,t.child=o,Rt=t,Nt=null,!0):!1;default:return!1}}function $a(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wa(t){if(Ae){var i=Nt;if(i){var o=i;if(!Zf(t,i)){if($a(t))throw Error(r(418));i=Dn(o.nextSibling);var a=Rt;i&&Zf(t,i)?Xf(a,o):(t.flags=t.flags&-4097|2,Ae=!1,Rt=t)}}else{if($a(t))throw Error(r(418));t.flags=t.flags&-4097|2,Ae=!1,Rt=t}}}function eh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function Eo(t){if(t!==Rt)return!1;if(!Ae)return eh(t),Ae=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!La(t.type,t.memoizedProps)),i&&(i=Nt)){if($a(t))throw th(),Error(r(418));for(;i;)Xf(t,i),i=Dn(i.nextSibling)}if(eh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(i===0){Nt=Dn(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}t=t.nextSibling}Nt=null}}else Nt=Rt?Dn(t.stateNode.nextSibling):null;return!0}function th(){for(var t=Nt;t;)t=Dn(t.nextSibling)}function Wr(){Nt=Rt=null,Ae=!1}function Ha(t){Wt===null?Wt=[t]:Wt.push(t)}var Cv=$.ReactCurrentBatchConfig;function Wi(t,i,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var a=o.stateNode}if(!a)throw Error(r(147,t));var d=a,f=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(g){var w=d.refs;g===null?delete w[f]:w[f]=g},i._stringRef=f,i)}if(typeof t!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,t))}return t}function Co(t,i){throw t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function nh(t){var i=t._init;return i(t._payload)}function rh(t){function i(T,S){if(t){var I=T.deletions;I===null?(T.deletions=[S],T.flags|=16):I.push(S)}}function o(T,S){if(!t)return null;for(;S!==null;)i(T,S),S=S.sibling;return null}function a(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function d(T,S){return T=Hn(T,S),T.index=0,T.sibling=null,T}function f(T,S,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<S?(T.flags|=2,S):I):(T.flags|=2,S)):(T.flags|=1048576,S)}function g(T){return t&&T.alternate===null&&(T.flags|=2),T}function w(T,S,I,B){return S===null||S.tag!==6?(S=Mu(I,T.mode,B),S.return=T,S):(S=d(S,I),S.return=T,S)}function C(T,S,I,B){var X=I.type;return X===Z?j(T,S,I.props.children,B,I.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===gt&&nh(X)===S.type)?(B=d(S,I.props),B.ref=Wi(T,S,I),B.return=T,B):(B=Vo(I.type,I.key,I.props,null,T.mode,B),B.ref=Wi(T,S,I),B.return=T,B)}function A(T,S,I,B){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=Fu(I,T.mode,B),S.return=T,S):(S=d(S,I.children||[]),S.return=T,S)}function j(T,S,I,B,X){return S===null||S.tag!==7?(S=mr(I,T.mode,B,X),S.return=T,S):(S=d(S,I),S.return=T,S)}function U(T,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Mu(""+S,T.mode,I),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case H:return I=Vo(S.type,S.key,S.props,null,T.mode,I),I.ref=Wi(T,null,S),I.return=T,I;case Q:return S=Fu(S,T.mode,I),S.return=T,S;case gt:var B=S._init;return U(T,B(S._payload),I)}if(_i(S)||ne(S))return S=mr(S,T.mode,I,null),S.return=T,S;Co(T,S)}return null}function F(T,S,I,B){var X=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return X!==null?null:w(T,S,""+I,B);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case H:return I.key===X?C(T,S,I,B):null;case Q:return I.key===X?A(T,S,I,B):null;case gt:return X=I._init,F(T,S,X(I._payload),B)}if(_i(I)||ne(I))return X!==null?null:j(T,S,I,B,null);Co(T,I)}return null}function V(T,S,I,B,X){if(typeof B=="string"&&B!==""||typeof B=="number")return T=T.get(I)||null,w(S,T,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case H:return T=T.get(B.key===null?I:B.key)||null,C(S,T,B,X);case Q:return T=T.get(B.key===null?I:B.key)||null,A(S,T,B,X);case gt:var ee=B._init;return V(T,S,I,ee(B._payload),X)}if(_i(B)||ne(B))return T=T.get(I)||null,j(S,T,B,X,null);Co(S,B)}return null}function Y(T,S,I,B){for(var X=null,ee=null,te=S,oe=S=0,Xe=null;te!==null&&oe<I.length;oe++){te.index>oe?(Xe=te,te=null):Xe=te.sibling;var _e=F(T,te,I[oe],B);if(_e===null){te===null&&(te=Xe);break}t&&te&&_e.alternate===null&&i(T,te),S=f(_e,S,oe),ee===null?X=_e:ee.sibling=_e,ee=_e,te=Xe}if(oe===I.length)return o(T,te),Ae&&lr(T,oe),X;if(te===null){for(;oe<I.length;oe++)te=U(T,I[oe],B),te!==null&&(S=f(te,S,oe),ee===null?X=te:ee.sibling=te,ee=te);return Ae&&lr(T,oe),X}for(te=a(T,te);oe<I.length;oe++)Xe=V(te,T,oe,I[oe],B),Xe!==null&&(t&&Xe.alternate!==null&&te.delete(Xe.key===null?oe:Xe.key),S=f(Xe,S,oe),ee===null?X=Xe:ee.sibling=Xe,ee=Xe);return t&&te.forEach(function(qn){return i(T,qn)}),Ae&&lr(T,oe),X}function J(T,S,I,B){var X=ne(I);if(typeof X!="function")throw Error(r(150));if(I=X.call(I),I==null)throw Error(r(151));for(var ee=X=null,te=S,oe=S=0,Xe=null,_e=I.next();te!==null&&!_e.done;oe++,_e=I.next()){te.index>oe?(Xe=te,te=null):Xe=te.sibling;var qn=F(T,te,_e.value,B);if(qn===null){te===null&&(te=Xe);break}t&&te&&qn.alternate===null&&i(T,te),S=f(qn,S,oe),ee===null?X=qn:ee.sibling=qn,ee=qn,te=Xe}if(_e.done)return o(T,te),Ae&&lr(T,oe),X;if(te===null){for(;!_e.done;oe++,_e=I.next())_e=U(T,_e.value,B),_e!==null&&(S=f(_e,S,oe),ee===null?X=_e:ee.sibling=_e,ee=_e);return Ae&&lr(T,oe),X}for(te=a(T,te);!_e.done;oe++,_e=I.next())_e=V(te,T,oe,_e.value,B),_e!==null&&(t&&_e.alternate!==null&&te.delete(_e.key===null?oe:_e.key),S=f(_e,S,oe),ee===null?X=_e:ee.sibling=_e,ee=_e);return t&&te.forEach(function(t0){return i(T,t0)}),Ae&&lr(T,oe),X}function Be(T,S,I,B){if(typeof I=="object"&&I!==null&&I.type===Z&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case H:e:{for(var X=I.key,ee=S;ee!==null;){if(ee.key===X){if(X=I.type,X===Z){if(ee.tag===7){o(T,ee.sibling),S=d(ee,I.props.children),S.return=T,T=S;break e}}else if(ee.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===gt&&nh(X)===ee.type){o(T,ee.sibling),S=d(ee,I.props),S.ref=Wi(T,ee,I),S.return=T,T=S;break e}o(T,ee);break}else i(T,ee);ee=ee.sibling}I.type===Z?(S=mr(I.props.children,T.mode,B,I.key),S.return=T,T=S):(B=Vo(I.type,I.key,I.props,null,T.mode,B),B.ref=Wi(T,S,I),B.return=T,T=B)}return g(T);case Q:e:{for(ee=I.key;S!==null;){if(S.key===ee)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){o(T,S.sibling),S=d(S,I.children||[]),S.return=T,T=S;break e}else{o(T,S);break}else i(T,S);S=S.sibling}S=Fu(I,T.mode,B),S.return=T,T=S}return g(T);case gt:return ee=I._init,Be(T,S,ee(I._payload),B)}if(_i(I))return Y(T,S,I,B);if(ne(I))return J(T,S,I,B);Co(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(o(T,S.sibling),S=d(S,I),S.return=T,T=S):(o(T,S),S=Mu(I,T.mode,B),S.return=T,T=S),g(T)):o(T,S)}return Be}var Hr=rh(!0),ih=rh(!1),So=Ln(null),xo=null,qr=null,qa=null;function Va(){qa=qr=xo=null}function Qa(t){var i=So.current;Pe(So),t._currentValue=i}function Ga(t,i,o){for(;t!==null;){var a=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),t===o)break;t=t.return}}function Vr(t,i){xo=t,qa=qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(vt=!0),t.firstContext=null)}function Mt(t){var i=t._currentValue;if(qa!==t)if(t={context:t,memoizedValue:i,next:null},qr===null){if(xo===null)throw Error(r(308));qr=t,xo.dependencies={lanes:0,firstContext:t}}else qr=qr.next=t;return i}var ar=null;function Ka(t){ar===null?ar=[t]:ar.push(t)}function sh(t,i,o,a){var d=i.interleaved;return d===null?(o.next=o,Ka(i)):(o.next=d.next,d.next=o),i.interleaved=o,pn(t,a)}function pn(t,i){t.lanes|=i;var o=t.alternate;for(o!==null&&(o.lanes|=i),o=t,t=t.return;t!==null;)t.childLanes|=i,o=t.alternate,o!==null&&(o.childLanes|=i),o=t,t=t.return;return o.tag===3?o.stateNode:null}var bn=!1;function Ya(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mn(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function jn(t,i,o){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,me&2){var d=a.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),a.pending=i,pn(t,o)}return d=a.interleaved,d===null?(i.next=i,Ka(a)):(i.next=d.next,d.next=i),a.interleaved=i,pn(t,o)}function ko(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var a=i.lanes;a&=t.pendingLanes,o|=a,i.lanes=o,ca(t,o)}}function lh(t,i){var o=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var g={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=g:f=f.next=g,o=o.next}while(o!==null);f===null?d=f=i:f=f.next=i}else d=f=i;o={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:a.shared,effects:a.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}function To(t,i,o,a){var d=t.updateQueue;bn=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var C=w,A=C.next;C.next=null,g===null?f=A:g.next=A,g=C;var j=t.alternate;j!==null&&(j=j.updateQueue,w=j.lastBaseUpdate,w!==g&&(w===null?j.firstBaseUpdate=A:w.next=A,j.lastBaseUpdate=C))}if(f!==null){var U=d.baseState;g=0,j=A=C=null,w=f;do{var F=w.lane,V=w.eventTime;if((a&F)===F){j!==null&&(j=j.next={eventTime:V,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Y=t,J=w;switch(F=i,V=o,J.tag){case 1:if(Y=J.payload,typeof Y=="function"){U=Y.call(V,U,F);break e}U=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=J.payload,F=typeof Y=="function"?Y.call(V,U,F):Y,F==null)break e;U=K({},U,F);break e;case 2:bn=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,F=d.effects,F===null?d.effects=[w]:F.push(w))}else V={eventTime:V,lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},j===null?(A=j=V,C=U):j=j.next=V,g|=F;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;F=w,w=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);if(j===null&&(C=U),d.baseState=C,d.firstBaseUpdate=A,d.lastBaseUpdate=j,i=d.shared.interleaved,i!==null){d=i;do g|=d.lane,d=d.next;while(d!==i)}else f===null&&(d.shared.lanes=0);dr|=g,t.lanes=g,t.memoizedState=U}}function ah(t,i,o){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var a=t[i],d=a.callback;if(d!==null){if(a.callback=null,a=o,typeof d!="function")throw Error(r(191,d));d.call(a)}}}var Hi={},nn=Ln(Hi),qi=Ln(Hi),Vi=Ln(Hi);function ur(t){if(t===Hi)throw Error(r(174));return t}function Ja(t,i){switch(ke(Vi,i),ke(qi,t),ke(nn,Hi),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Xl(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=Xl(i,t)}Pe(nn),ke(nn,i)}function Qr(){Pe(nn),Pe(qi),Pe(Vi)}function uh(t){ur(Vi.current);var i=ur(nn.current),o=Xl(i,t.type);i!==o&&(ke(qi,t),ke(nn,o))}function Xa(t){qi.current===t&&(Pe(nn),Pe(qi))}var De=Ln(0);function Ro(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Za=[];function eu(){for(var t=0;t<Za.length;t++)Za[t]._workInProgressVersionPrimary=null;Za.length=0}var No=$.ReactCurrentDispatcher,tu=$.ReactCurrentBatchConfig,cr=0,Le=null,Ve=null,Ye=null,Io=!1,Qi=!1,Gi=0,Sv=0;function lt(){throw Error(r(321))}function nu(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!$t(t[o],i[o]))return!1;return!0}function ru(t,i,o,a,d,f){if(cr=f,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,No.current=t===null||t.memoizedState===null?Rv:Nv,t=o(a,d),Qi){f=0;do{if(Qi=!1,Gi=0,25<=f)throw Error(r(301));f+=1,Ye=Ve=null,i.updateQueue=null,No.current=Iv,t=o(a,d)}while(Qi)}if(No.current=Ao,i=Ve!==null&&Ve.next!==null,cr=0,Ye=Ve=Le=null,Io=!1,i)throw Error(r(300));return t}function iu(){var t=Gi!==0;return Gi=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Le.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Ft(){if(Ve===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var i=Ye===null?Le.memoizedState:Ye.next;if(i!==null)Ye=i,Ve=t;else{if(t===null)throw Error(r(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ye===null?Le.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Ki(t,i){return typeof i=="function"?i(t):i}function su(t){var i=Ft(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var a=Ve,d=a.baseQueue,f=o.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}a.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,a=a.baseState;var w=g=null,C=null,A=f;do{var j=A.lane;if((cr&j)===j)C!==null&&(C=C.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),a=A.hasEagerState?A.eagerState:t(a,A.action);else{var U={lane:j,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};C===null?(w=C=U,g=a):C=C.next=U,Le.lanes|=j,dr|=j}A=A.next}while(A!==null&&A!==f);C===null?g=a:C.next=w,$t(a,i.memoizedState)||(vt=!0),i.memoizedState=a,i.baseState=g,i.baseQueue=C,o.lastRenderedState=a}if(t=o.interleaved,t!==null){d=t;do f=d.lane,Le.lanes|=f,dr|=f,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function ou(t){var i=Ft(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var a=o.dispatch,d=o.pending,f=i.memoizedState;if(d!==null){o.pending=null;var g=d=d.next;do f=t(f,g.action),g=g.next;while(g!==d);$t(f,i.memoizedState)||(vt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),o.lastRenderedState=f}return[f,a]}function ch(){}function dh(t,i){var o=Le,a=Ft(),d=i(),f=!$t(a.memoizedState,d);if(f&&(a.memoizedState=d,vt=!0),a=a.queue,lu(ph.bind(null,o,a,t),[t]),a.getSnapshot!==i||f||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Yi(9,hh.bind(null,o,a,d,i),void 0,null),Je===null)throw Error(r(349));cr&30||fh(o,i,d)}return d}function fh(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=Le.updateQueue,i===null?(i={lastEffect:null,stores:null},Le.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function hh(t,i,o,a){i.value=o,i.getSnapshot=a,mh(i)&&gh(t)}function ph(t,i,o){return o(function(){mh(i)&&gh(t)})}function mh(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!$t(t,o)}catch{return!0}}function gh(t){var i=pn(t,1);i!==null&&Qt(i,t,1,-1)}function yh(t){var i=rn();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i.queue=t,t=t.dispatch=Tv.bind(null,Le,t),[i.memoizedState,t]}function Yi(t,i,o,a){return t={tag:t,create:i,destroy:o,deps:a,next:null},i=Le.updateQueue,i===null?(i={lastEffect:null,stores:null},Le.updateQueue=i,i.lastEffect=t.next=t):(o=i.lastEffect,o===null?i.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,i.lastEffect=t)),t}function _h(){return Ft().memoizedState}function Po(t,i,o,a){var d=rn();Le.flags|=t,d.memoizedState=Yi(1|i,o,void 0,a===void 0?null:a)}function Oo(t,i,o,a){var d=Ft();a=a===void 0?null:a;var f=void 0;if(Ve!==null){var g=Ve.memoizedState;if(f=g.destroy,a!==null&&nu(a,g.deps)){d.memoizedState=Yi(i,o,f,a);return}}Le.flags|=t,d.memoizedState=Yi(1|i,o,f,a)}function vh(t,i){return Po(8390656,8,t,i)}function lu(t,i){return Oo(2048,8,t,i)}function wh(t,i){return Oo(4,2,t,i)}function Eh(t,i){return Oo(4,4,t,i)}function Ch(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Sh(t,i,o){return o=o!=null?o.concat([t]):null,Oo(4,4,Ch.bind(null,i,t),o)}function au(){}function xh(t,i){var o=Ft();i=i===void 0?null:i;var a=o.memoizedState;return a!==null&&i!==null&&nu(i,a[1])?a[0]:(o.memoizedState=[t,i],t)}function kh(t,i){var o=Ft();i=i===void 0?null:i;var a=o.memoizedState;return a!==null&&i!==null&&nu(i,a[1])?a[0]:(t=t(),o.memoizedState=[t,i],t)}function Th(t,i,o){return cr&21?($t(o,i)||(o=tf(),Le.lanes|=o,dr|=o,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,vt=!0),t.memoizedState=o)}function xv(t,i){var o=Ee;Ee=o!==0&&4>o?o:4,t(!0);var a=tu.transition;tu.transition={};try{t(!1),i()}finally{Ee=o,tu.transition=a}}function Rh(){return Ft().memoizedState}function kv(t,i,o){var a=$n(t);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Nh(t))Ih(i,o);else if(o=sh(t,i,o,a),o!==null){var d=ft();Qt(o,t,a,d),Ph(o,i,a)}}function Tv(t,i,o){var a=$n(t),d={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nh(t))Ih(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,w=f(g,o);if(d.hasEagerState=!0,d.eagerState=w,$t(w,g)){var C=i.interleaved;C===null?(d.next=d,Ka(i)):(d.next=C.next,C.next=d),i.interleaved=d;return}}catch{}finally{}o=sh(t,i,d,a),o!==null&&(d=ft(),Qt(o,t,a,d),Ph(o,i,a))}}function Nh(t){var i=t.alternate;return t===Le||i!==null&&i===Le}function Ih(t,i){Qi=Io=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Ph(t,i,o){if(o&4194240){var a=i.lanes;a&=t.pendingLanes,o|=a,i.lanes=o,ca(t,o)}}var Ao={readContext:Mt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},Rv={readContext:Mt,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Mt,useEffect:vh,useImperativeHandle:function(t,i,o){return o=o!=null?o.concat([t]):null,Po(4194308,4,Ch.bind(null,i,t),o)},useLayoutEffect:function(t,i){return Po(4194308,4,t,i)},useInsertionEffect:function(t,i){return Po(4,2,t,i)},useMemo:function(t,i){var o=rn();return i=i===void 0?null:i,t=t(),o.memoizedState=[t,i],t},useReducer:function(t,i,o){var a=rn();return i=o!==void 0?o(i):i,a.memoizedState=a.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},a.queue=t,t=t.dispatch=kv.bind(null,Le,t),[a.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:yh,useDebugValue:au,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=yh(!1),i=t[0];return t=xv.bind(null,t[1]),rn().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,o){var a=Le,d=rn();if(Ae){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),Je===null)throw Error(r(349));cr&30||fh(a,i,o)}d.memoizedState=o;var f={value:o,getSnapshot:i};return d.queue=f,vh(ph.bind(null,a,f,t),[t]),a.flags|=2048,Yi(9,hh.bind(null,a,f,o,i),void 0,null),o},useId:function(){var t=rn(),i=Je.identifierPrefix;if(Ae){var o=hn,a=fn;o=(a&~(1<<32-Bt(a)-1)).toString(32)+o,i=":"+i+"R"+o,o=Gi++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=Sv++,i=":"+i+"r"+o.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},Nv={readContext:Mt,useCallback:xh,useContext:Mt,useEffect:lu,useImperativeHandle:Sh,useInsertionEffect:wh,useLayoutEffect:Eh,useMemo:kh,useReducer:su,useRef:_h,useState:function(){return su(Ki)},useDebugValue:au,useDeferredValue:function(t){var i=Ft();return Th(i,Ve.memoizedState,t)},useTransition:function(){var t=su(Ki)[0],i=Ft().memoizedState;return[t,i]},useMutableSource:ch,useSyncExternalStore:dh,useId:Rh,unstable_isNewReconciler:!1},Iv={readContext:Mt,useCallback:xh,useContext:Mt,useEffect:lu,useImperativeHandle:Sh,useInsertionEffect:wh,useLayoutEffect:Eh,useMemo:kh,useReducer:ou,useRef:_h,useState:function(){return ou(Ki)},useDebugValue:au,useDeferredValue:function(t){var i=Ft();return Ve===null?i.memoizedState=t:Th(i,Ve.memoizedState,t)},useTransition:function(){var t=ou(Ki)[0],i=Ft().memoizedState;return[t,i]},useMutableSource:ch,useSyncExternalStore:dh,useId:Rh,unstable_isNewReconciler:!1};function Ht(t,i){if(t&&t.defaultProps){i=K({},i),t=t.defaultProps;for(var o in t)i[o]===void 0&&(i[o]=t[o]);return i}return i}function uu(t,i,o,a){i=t.memoizedState,o=o(a,i),o=o==null?i:K({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Do={isMounted:function(t){return(t=t._reactInternals)?rr(t)===t:!1},enqueueSetState:function(t,i,o){t=t._reactInternals;var a=ft(),d=$n(t),f=mn(a,d);f.payload=i,o!=null&&(f.callback=o),i=jn(t,f,d),i!==null&&(Qt(i,t,d,a),ko(i,t,d))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var a=ft(),d=$n(t),f=mn(a,d);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=jn(t,f,d),i!==null&&(Qt(i,t,d,a),ko(i,t,d))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=ft(),a=$n(t),d=mn(o,a);d.tag=2,i!=null&&(d.callback=i),i=jn(t,d,a),i!==null&&(Qt(i,t,a,o),ko(i,t,a))}};function Oh(t,i,o,a,d,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,g):i.prototype&&i.prototype.isPureReactComponent?!Fi(o,a)||!Fi(d,f):!0}function Ah(t,i,o){var a=!1,d=Mn,f=i.contextType;return typeof f=="object"&&f!==null?f=Mt(f):(d=_t(i)?sr:ot.current,a=i.contextTypes,f=(a=a!=null)?Ur(t,d):Mn),i=new i(o,f),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Do,t.stateNode=i,i._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=f),i}function Dh(t,i,o,a){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,a),i.state!==t&&Do.enqueueReplaceState(i,i.state,null)}function cu(t,i,o,a){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},Ya(t);var f=i.contextType;typeof f=="object"&&f!==null?d.context=Mt(f):(f=_t(i)?sr:ot.current,d.context=Ur(t,f)),d.state=t.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(uu(t,i,f,o),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Do.enqueueReplaceState(d,d.state,null),To(t,o,d,a),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Gr(t,i){try{var o="",a=i;do o+=ge(a),a=a.return;while(a);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:i,stack:d,digest:null}}function du(t,i,o){return{value:t,source:null,stack:o??null,digest:i??null}}function fu(t,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Pv=typeof WeakMap=="function"?WeakMap:Map;function Lh(t,i,o){o=mn(-1,o),o.tag=3,o.payload={element:null};var a=i.value;return o.callback=function(){Uo||(Uo=!0,Ru=a),fu(t,i)},o}function Mh(t,i,o){o=mn(-1,o),o.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var d=i.value;o.payload=function(){return a(d)},o.callback=function(){fu(t,i)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){fu(t,i),typeof a!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),o}function Fh(t,i,o){var a=t.pingCache;if(a===null){a=t.pingCache=new Pv;var d=new Set;a.set(i,d)}else d=a.get(i),d===void 0&&(d=new Set,a.set(i,d));d.has(o)||(d.add(o),t=Hv.bind(null,t,i,o),i.then(t,t))}function bh(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function jh(t,i,o,a,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===i?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=mn(-1,1),i.tag=2,jn(o,i,1))),o.lanes|=1),t)}var Ov=$.ReactCurrentOwner,vt=!1;function dt(t,i,o,a){i.child=t===null?ih(i,null,o,a):Hr(i,t.child,o,a)}function zh(t,i,o,a,d){o=o.render;var f=i.ref;return Vr(i,d),a=ru(t,i,o,a,f,d),o=iu(),t!==null&&!vt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,gn(t,i,d)):(Ae&&o&&Ua(i),i.flags|=1,dt(t,i,a,d),i.child)}function Uh(t,i,o,a,d){if(t===null){var f=o.type;return typeof f=="function"&&!Lu(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=f,Bh(t,i,f,a,d)):(t=Vo(o.type,null,a,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!(t.lanes&d)){var g=f.memoizedProps;if(o=o.compare,o=o!==null?o:Fi,o(g,a)&&t.ref===i.ref)return gn(t,i,d)}return i.flags|=1,t=Hn(f,a),t.ref=i.ref,t.return=i,i.child=t}function Bh(t,i,o,a,d){if(t!==null){var f=t.memoizedProps;if(Fi(f,a)&&t.ref===i.ref)if(vt=!1,i.pendingProps=a=f,(t.lanes&d)!==0)t.flags&131072&&(vt=!0);else return i.lanes=t.lanes,gn(t,i,d)}return hu(t,i,o,a,d)}function $h(t,i,o){var a=i.pendingProps,d=a.children,f=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Yr,It),It|=o;else{if(!(o&1073741824))return t=f!==null?f.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,ke(Yr,It),It|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:o,ke(Yr,It),It|=a}else f!==null?(a=f.baseLanes|o,i.memoizedState=null):a=o,ke(Yr,It),It|=a;return dt(t,i,d,o),i.child}function Wh(t,i){var o=i.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function hu(t,i,o,a,d){var f=_t(o)?sr:ot.current;return f=Ur(i,f),Vr(i,d),o=ru(t,i,o,a,f,d),a=iu(),t!==null&&!vt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,gn(t,i,d)):(Ae&&a&&Ua(i),i.flags|=1,dt(t,i,o,d),i.child)}function Hh(t,i,o,a,d){if(_t(o)){var f=!0;yo(i)}else f=!1;if(Vr(i,d),i.stateNode===null)Mo(t,i),Ah(i,o,a),cu(i,o,a,d),a=!0;else if(t===null){var g=i.stateNode,w=i.memoizedProps;g.props=w;var C=g.context,A=o.contextType;typeof A=="object"&&A!==null?A=Mt(A):(A=_t(o)?sr:ot.current,A=Ur(i,A));var j=o.getDerivedStateFromProps,U=typeof j=="function"||typeof g.getSnapshotBeforeUpdate=="function";U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==a||C!==A)&&Dh(i,g,a,A),bn=!1;var F=i.memoizedState;g.state=F,To(i,a,g,d),C=i.memoizedState,w!==a||F!==C||yt.current||bn?(typeof j=="function"&&(uu(i,o,j,a),C=i.memoizedState),(w=bn||Oh(i,o,w,a,F,C,A))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=C),g.props=a,g.state=C,g.context=A,a=w):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{g=i.stateNode,oh(t,i),w=i.memoizedProps,A=i.type===i.elementType?w:Ht(i.type,w),g.props=A,U=i.pendingProps,F=g.context,C=o.contextType,typeof C=="object"&&C!==null?C=Mt(C):(C=_t(o)?sr:ot.current,C=Ur(i,C));var V=o.getDerivedStateFromProps;(j=typeof V=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==U||F!==C)&&Dh(i,g,a,C),bn=!1,F=i.memoizedState,g.state=F,To(i,a,g,d);var Y=i.memoizedState;w!==U||F!==Y||yt.current||bn?(typeof V=="function"&&(uu(i,o,V,a),Y=i.memoizedState),(A=bn||Oh(i,o,A,a,F,Y,C)||!1)?(j||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Y,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Y,C)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=Y),g.props=a,g.state=Y,g.context=C,a=A):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),a=!1)}return pu(t,i,o,a,f,d)}function pu(t,i,o,a,d,f){Wh(t,i);var g=(i.flags&128)!==0;if(!a&&!g)return d&&Kf(i,o,!1),gn(t,i,f);a=i.stateNode,Ov.current=i;var w=g&&typeof o.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,t!==null&&g?(i.child=Hr(i,t.child,null,f),i.child=Hr(i,null,w,f)):dt(t,i,w,f),i.memoizedState=a.state,d&&Kf(i,o,!0),i.child}function qh(t){var i=t.stateNode;i.pendingContext?Qf(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Qf(t,i.context,!1),Ja(t,i.containerInfo)}function Vh(t,i,o,a,d){return Wr(),Ha(d),i.flags|=256,dt(t,i,o,a),i.child}var mu={dehydrated:null,treeContext:null,retryLane:0};function gu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qh(t,i,o){var a=i.pendingProps,d=De.current,f=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=t!==null&&t.memoizedState===null?!1:(d&2)!==0),w?(f=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),ke(De,d&1),t===null)return Wa(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(g=a.children,t=a.fallback,f?(a=i.mode,f=i.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Qo(g,a,0,null),t=mr(t,a,o,null),f.return=i,t.return=i,f.sibling=t,i.child=f,i.child.memoizedState=gu(o),i.memoizedState=mu,t):yu(i,g));if(d=t.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return Av(t,i,g,a,w,d,o);if(f){f=a.fallback,g=i.mode,d=t.child,w=d.sibling;var C={mode:"hidden",children:a.children};return!(g&1)&&i.child!==d?(a=i.child,a.childLanes=0,a.pendingProps=C,i.deletions=null):(a=Hn(d,C),a.subtreeFlags=d.subtreeFlags&14680064),w!==null?f=Hn(w,f):(f=mr(f,g,o,null),f.flags|=2),f.return=i,a.return=i,a.sibling=f,i.child=a,a=f,f=i.child,g=t.child.memoizedState,g=g===null?gu(o):{baseLanes:g.baseLanes|o,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=t.childLanes&~o,i.memoizedState=mu,a}return f=t.child,t=f.sibling,a=Hn(f,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=o),a.return=i,a.sibling=null,t!==null&&(o=i.deletions,o===null?(i.deletions=[t],i.flags|=16):o.push(t)),i.child=a,i.memoizedState=null,a}function yu(t,i){return i=Qo({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Lo(t,i,o,a){return a!==null&&Ha(a),Hr(i,t.child,null,o),t=yu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Av(t,i,o,a,d,f,g){if(o)return i.flags&256?(i.flags&=-257,a=du(Error(r(422))),Lo(t,i,g,a)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(f=a.fallback,d=i.mode,a=Qo({mode:"visible",children:a.children},d,0,null),f=mr(f,d,g,null),f.flags|=2,a.return=i,f.return=i,a.sibling=f,i.child=a,i.mode&1&&Hr(i,t.child,null,g),i.child.memoizedState=gu(g),i.memoizedState=mu,f);if(!(i.mode&1))return Lo(t,i,g,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var w=a.dgst;return a=w,f=Error(r(419)),a=du(f,a,void 0),Lo(t,i,g,a)}if(w=(g&t.childLanes)!==0,vt||w){if(a=Je,a!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(a.suspendedLanes|g)?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,pn(t,d),Qt(a,t,d,-1))}return Du(),a=du(Error(r(421))),Lo(t,i,g,a)}return d.data==="$?"?(i.flags|=128,i.child=t.child,i=qv.bind(null,t),d._reactRetry=i,null):(t=f.treeContext,Nt=Dn(d.nextSibling),Rt=i,Ae=!0,Wt=null,t!==null&&(Dt[Lt++]=fn,Dt[Lt++]=hn,Dt[Lt++]=or,fn=t.id,hn=t.overflow,or=i),i=yu(i,a.children),i.flags|=4096,i)}function Gh(t,i,o){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i),Ga(t.return,i,o)}function _u(t,i,o,a,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:d}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=o,f.tailMode=d)}function Kh(t,i,o){var a=i.pendingProps,d=a.revealOrder,f=a.tail;if(dt(t,i,a.children,o),a=De.current,a&2)a=a&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gh(t,o,i);else if(t.tag===19)Gh(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(ke(De,a),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(o=i.child,d=null;o!==null;)t=o.alternate,t!==null&&Ro(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),_u(i,!1,d,o,f);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Ro(t)===null){i.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}_u(i,!0,o,null,f);break;case"together":_u(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mo(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function gn(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),dr|=i.lanes,!(o&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,o=Hn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Hn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Dv(t,i,o){switch(i.tag){case 3:qh(i),Wr();break;case 5:uh(i);break;case 1:_t(i.type)&&yo(i);break;case 4:Ja(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,d=i.memoizedProps.value;ke(So,a._currentValue),a._currentValue=d;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(ke(De,De.current&1),i.flags|=128,null):o&i.child.childLanes?Qh(t,i,o):(ke(De,De.current&1),t=gn(t,i,o),t!==null?t.sibling:null);ke(De,De.current&1);break;case 19:if(a=(o&i.childLanes)!==0,t.flags&128){if(a)return Kh(t,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ke(De,De.current),a)break;return null;case 22:case 23:return i.lanes=0,$h(t,i,o)}return gn(t,i,o)}var Yh,vu,Jh,Xh;Yh=function(t,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},vu=function(){},Jh=function(t,i,o,a){var d=t.memoizedProps;if(d!==a){t=i.stateNode,ur(nn.current);var f=null;switch(o){case"input":d=Gl(t,d),a=Gl(t,a),f=[];break;case"select":d=K({},d,{value:void 0}),a=K({},a,{value:void 0}),f=[];break;case"textarea":d=Jl(t,d),a=Jl(t,a),f=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=po)}Zl(o,a);var g;o=null;for(A in d)if(!a.hasOwnProperty(A)&&d.hasOwnProperty(A)&&d[A]!=null)if(A==="style"){var w=d[A];for(g in w)w.hasOwnProperty(g)&&(o||(o={}),o[g]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(l.hasOwnProperty(A)?f||(f=[]):(f=f||[]).push(A,null));for(A in a){var C=a[A];if(w=d!=null?d[A]:void 0,a.hasOwnProperty(A)&&C!==w&&(C!=null||w!=null))if(A==="style")if(w){for(g in w)!w.hasOwnProperty(g)||C&&C.hasOwnProperty(g)||(o||(o={}),o[g]="");for(g in C)C.hasOwnProperty(g)&&w[g]!==C[g]&&(o||(o={}),o[g]=C[g])}else o||(f||(f=[]),f.push(A,o)),o=C;else A==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(f=f||[]).push(A,C)):A==="children"?typeof C!="string"&&typeof C!="number"||(f=f||[]).push(A,""+C):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(l.hasOwnProperty(A)?(C!=null&&A==="onScroll"&&Ie("scroll",t),f||w===C||(f=[])):(f=f||[]).push(A,C))}o&&(f=f||[]).push("style",o);var A=f;(i.updateQueue=A)&&(i.flags|=4)}},Xh=function(t,i,o,a){o!==a&&(i.flags|=4)};function Ji(t,i){if(!Ae)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,a=0;if(i)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=a,t.childLanes=o,i}function Lv(t,i,o){var a=i.pendingProps;switch(Ba(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return _t(i.type)&&go(),at(i),null;case 3:return a=i.stateNode,Qr(),Pe(yt),Pe(ot),eu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Eo(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Wt!==null&&(Pu(Wt),Wt=null))),vu(t,i),at(i),null;case 5:Xa(i);var d=ur(Vi.current);if(o=i.type,t!==null&&i.stateNode!=null)Jh(t,i,o,a,d),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(t=ur(nn.current),Eo(i)){a=i.stateNode,o=i.type;var f=i.memoizedProps;switch(a[tn]=i,a[Bi]=f,t=(i.mode&1)!==0,o){case"dialog":Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":case"embed":Ie("load",a);break;case"video":case"audio":for(d=0;d<ji.length;d++)Ie(ji[d],a);break;case"source":Ie("error",a);break;case"img":case"image":case"link":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"input":Od(a,f),Ie("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ie("invalid",a);break;case"textarea":Ld(a,f),Ie("invalid",a)}Zl(o,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var w=f[g];g==="children"?typeof w=="string"?a.textContent!==w&&(f.suppressHydrationWarning!==!0&&ho(a.textContent,w,t),d=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&ho(a.textContent,w,t),d=["children",""+w]):l.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Ie("scroll",a)}switch(o){case"input":Ws(a),Dd(a,f,!0);break;case"textarea":Ws(a),Fd(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=po)}a=d,i.updateQueue=a,a!==null&&(i.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=g.createElement(o,{is:a.is}):(t=g.createElement(o),o==="select"&&(g=t,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):t=g.createElementNS(t,o),t[tn]=i,t[Bi]=a,Yh(t,i,!1,!1),i.stateNode=t;e:{switch(g=ea(o,a),o){case"dialog":Ie("cancel",t),Ie("close",t),d=a;break;case"iframe":case"object":case"embed":Ie("load",t),d=a;break;case"video":case"audio":for(d=0;d<ji.length;d++)Ie(ji[d],t);d=a;break;case"source":Ie("error",t),d=a;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),d=a;break;case"details":Ie("toggle",t),d=a;break;case"input":Od(t,a),d=Gl(t,a),Ie("invalid",t);break;case"option":d=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},d=K({},a,{value:void 0}),Ie("invalid",t);break;case"textarea":Ld(t,a),d=Jl(t,a),Ie("invalid",t);break;default:d=a}Zl(o,d),w=d;for(f in w)if(w.hasOwnProperty(f)){var C=w[f];f==="style"?Ud(t,C):f==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&jd(t,C)):f==="children"?typeof C=="string"?(o!=="textarea"||C!=="")&&vi(t,C):typeof C=="number"&&vi(t,""+C):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?C!=null&&f==="onScroll"&&Ie("scroll",t):C!=null&&z(t,f,C,g))}switch(o){case"input":Ws(t),Dd(t,a,!1);break;case"textarea":Ws(t),Fd(t);break;case"option":a.value!=null&&t.setAttribute("value",""+we(a.value));break;case"select":t.multiple=!!a.multiple,f=a.value,f!=null?Nr(t,!!a.multiple,f,!1):a.defaultValue!=null&&Nr(t,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=po)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return at(i),null;case 6:if(t&&i.stateNode!=null)Xh(t,i,t.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(r(166));if(o=ur(Vi.current),ur(nn.current),Eo(i)){if(a=i.stateNode,o=i.memoizedProps,a[tn]=i,(f=a.nodeValue!==o)&&(t=Rt,t!==null))switch(t.tag){case 3:ho(a.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ho(a.nodeValue,o,(t.mode&1)!==0)}f&&(i.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[tn]=i,i.stateNode=a}return at(i),null;case 13:if(Pe(De),a=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Nt!==null&&i.mode&1&&!(i.flags&128))th(),Wr(),i.flags|=98560,f=!1;else if(f=Eo(i),a!==null&&a.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[tn]=i}else Wr(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;at(i),f=!1}else Wt!==null&&(Pu(Wt),Wt=null),f=!0;if(!f)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(t===null||De.current&1?Qe===0&&(Qe=3):Du())),i.updateQueue!==null&&(i.flags|=4),at(i),null);case 4:return Qr(),vu(t,i),t===null&&zi(i.stateNode.containerInfo),at(i),null;case 10:return Qa(i.type._context),at(i),null;case 17:return _t(i.type)&&go(),at(i),null;case 19:if(Pe(De),f=i.memoizedState,f===null)return at(i),null;if(a=(i.flags&128)!==0,g=f.rendering,g===null)if(a)Ji(f,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(g=Ro(t),g!==null){for(i.flags|=128,Ji(f,!1),a=g.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=o,o=i.child;o!==null;)f=o,t=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,t=g.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ke(De,De.current&1|2),i.child}t=t.sibling}f.tail!==null&&Ue()>Jr&&(i.flags|=128,a=!0,Ji(f,!1),i.lanes=4194304)}else{if(!a)if(t=Ro(g),t!==null){if(i.flags|=128,a=!0,o=t.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Ji(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ae)return at(i),null}else 2*Ue()-f.renderingStartTime>Jr&&o!==1073741824&&(i.flags|=128,a=!0,Ji(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(o=f.last,o!==null?o.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ue(),i.sibling=null,o=De.current,ke(De,a?o&1|2:o&1),i):(at(i),null);case 22:case 23:return Au(),a=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?It&1073741824&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function Mv(t,i){switch(Ba(i),i.tag){case 1:return _t(i.type)&&go(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qr(),Pe(yt),Pe(ot),eu(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return Xa(i),null;case 13:if(Pe(De),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Wr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Pe(De),null;case 4:return Qr(),null;case 10:return Qa(i.type._context),null;case 22:case 23:return Au(),null;case 24:return null;default:return null}}var Fo=!1,ut=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,G=null;function Kr(t,i){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){be(t,i,a)}else o.current=null}function wu(t,i,o){try{o()}catch(a){be(t,i,a)}}var Zh=!1;function bv(t,i){if(Aa=to,t=Of(),xa(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var d=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var g=0,w=-1,C=-1,A=0,j=0,U=t,F=null;t:for(;;){for(var V;U!==o||d!==0&&U.nodeType!==3||(w=g+d),U!==f||a!==0&&U.nodeType!==3||(C=g+a),U.nodeType===3&&(g+=U.nodeValue.length),(V=U.firstChild)!==null;)F=U,U=V;for(;;){if(U===t)break t;if(F===o&&++A===d&&(w=g),F===f&&++j===a&&(C=g),(V=U.nextSibling)!==null)break;U=F,F=U.parentNode}U=V}o=w===-1||C===-1?null:{start:w,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Da={focusedElem:t,selectionRange:o},to=!1,G=i;G!==null;)if(i=G,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,G=t;else for(;G!==null;){i=G;try{var Y=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var J=Y.memoizedProps,Be=Y.memoizedState,T=i.stateNode,S=T.getSnapshotBeforeUpdate(i.elementType===i.type?J:Ht(i.type,J),Be);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=i.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(B){be(i,i.return,B)}if(t=i.sibling,t!==null){t.return=i.return,G=t;break}G=i.return}return Y=Zh,Zh=!1,Y}function Xi(t,i,o){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&t)===t){var f=d.destroy;d.destroy=void 0,f!==void 0&&wu(i,o,f)}d=d.next}while(d!==a)}}function bo(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var a=o.create;o.destroy=a()}o=o.next}while(o!==i)}}function Eu(t){var i=t.ref;if(i!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof i=="function"?i(t):i.current=t}}function ep(t){var i=t.alternate;i!==null&&(t.alternate=null,ep(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[tn],delete i[Bi],delete i[ba],delete i[vv],delete i[wv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tp(t){return t.tag===5||t.tag===3||t.tag===4}function np(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cu(t,i,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(t,i):o.insertBefore(t,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(t,o)):(i=o,i.appendChild(t)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=po));else if(a!==4&&(t=t.child,t!==null))for(Cu(t,i,o),t=t.sibling;t!==null;)Cu(t,i,o),t=t.sibling}function Su(t,i,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Su(t,i,o),t=t.sibling;t!==null;)Su(t,i,o),t=t.sibling}var nt=null,qt=!1;function zn(t,i,o){for(o=o.child;o!==null;)rp(t,i,o),o=o.sibling}function rp(t,i,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ks,o)}catch{}switch(o.tag){case 5:ut||Kr(o,i);case 6:var a=nt,d=qt;nt=null,zn(t,i,o),nt=a,qt=d,nt!==null&&(qt?(t=nt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):nt.removeChild(o.stateNode));break;case 18:nt!==null&&(qt?(t=nt,o=o.stateNode,t.nodeType===8?Fa(t.parentNode,o):t.nodeType===1&&Fa(t,o),Pi(t)):Fa(nt,o.stateNode));break;case 4:a=nt,d=qt,nt=o.stateNode.containerInfo,qt=!0,zn(t,i,o),nt=a,qt=d;break;case 0:case 11:case 14:case 15:if(!ut&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&wu(o,i,g),d=d.next}while(d!==a)}zn(t,i,o);break;case 1:if(!ut&&(Kr(o,i),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(w){be(o,i,w)}zn(t,i,o);break;case 21:zn(t,i,o);break;case 22:o.mode&1?(ut=(a=ut)||o.memoizedState!==null,zn(t,i,o),ut=a):zn(t,i,o);break;default:zn(t,i,o)}}function ip(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Fv),i.forEach(function(a){var d=Vv.bind(null,t,a);o.has(a)||(o.add(a),a.then(d,d))})}}function Vt(t,i){var o=i.deletions;if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];try{var f=t,g=i,w=g;e:for(;w!==null;){switch(w.tag){case 5:nt=w.stateNode,qt=!1;break e;case 3:nt=w.stateNode.containerInfo,qt=!0;break e;case 4:nt=w.stateNode.containerInfo,qt=!0;break e}w=w.return}if(nt===null)throw Error(r(160));rp(f,g,d),nt=null,qt=!1;var C=d.alternate;C!==null&&(C.return=null),d.return=null}catch(A){be(d,i,A)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)sp(i,t),i=i.sibling}function sp(t,i){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(i,t),sn(t),a&4){try{Xi(3,t,t.return),bo(3,t)}catch(J){be(t,t.return,J)}try{Xi(5,t,t.return)}catch(J){be(t,t.return,J)}}break;case 1:Vt(i,t),sn(t),a&512&&o!==null&&Kr(o,o.return);break;case 5:if(Vt(i,t),sn(t),a&512&&o!==null&&Kr(o,o.return),t.flags&32){var d=t.stateNode;try{vi(d,"")}catch(J){be(t,t.return,J)}}if(a&4&&(d=t.stateNode,d!=null)){var f=t.memoizedProps,g=o!==null?o.memoizedProps:f,w=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&Ad(d,f),ea(w,g);var A=ea(w,f);for(g=0;g<C.length;g+=2){var j=C[g],U=C[g+1];j==="style"?Ud(d,U):j==="dangerouslySetInnerHTML"?jd(d,U):j==="children"?vi(d,U):z(d,j,U,A)}switch(w){case"input":Kl(d,f);break;case"textarea":Md(d,f);break;case"select":var F=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var V=f.value;V!=null?Nr(d,!!f.multiple,V,!1):F!==!!f.multiple&&(f.defaultValue!=null?Nr(d,!!f.multiple,f.defaultValue,!0):Nr(d,!!f.multiple,f.multiple?[]:"",!1))}d[Bi]=f}catch(J){be(t,t.return,J)}}break;case 6:if(Vt(i,t),sn(t),a&4){if(t.stateNode===null)throw Error(r(162));d=t.stateNode,f=t.memoizedProps;try{d.nodeValue=f}catch(J){be(t,t.return,J)}}break;case 3:if(Vt(i,t),sn(t),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Pi(i.containerInfo)}catch(J){be(t,t.return,J)}break;case 4:Vt(i,t),sn(t);break;case 13:Vt(i,t),sn(t),d=t.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Tu=Ue())),a&4&&ip(t);break;case 22:if(j=o!==null&&o.memoizedState!==null,t.mode&1?(ut=(A=ut)||j,Vt(i,t),ut=A):Vt(i,t),sn(t),a&8192){if(A=t.memoizedState!==null,(t.stateNode.isHidden=A)&&!j&&t.mode&1)for(G=t,j=t.child;j!==null;){for(U=G=j;G!==null;){switch(F=G,V=F.child,F.tag){case 0:case 11:case 14:case 15:Xi(4,F,F.return);break;case 1:Kr(F,F.return);var Y=F.stateNode;if(typeof Y.componentWillUnmount=="function"){a=F,o=F.return;try{i=a,Y.props=i.memoizedProps,Y.state=i.memoizedState,Y.componentWillUnmount()}catch(J){be(a,o,J)}}break;case 5:Kr(F,F.return);break;case 22:if(F.memoizedState!==null){ap(U);continue}}V!==null?(V.return=F,G=V):ap(U)}j=j.sibling}e:for(j=null,U=t;;){if(U.tag===5){if(j===null){j=U;try{d=U.stateNode,A?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=U.stateNode,C=U.memoizedProps.style,g=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=zd("display",g))}catch(J){be(t,t.return,J)}}}else if(U.tag===6){if(j===null)try{U.stateNode.nodeValue=A?"":U.memoizedProps}catch(J){be(t,t.return,J)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===t)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===t)break e;for(;U.sibling===null;){if(U.return===null||U.return===t)break e;j===U&&(j=null),U=U.return}j===U&&(j=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Vt(i,t),sn(t),a&4&&ip(t);break;case 21:break;default:Vt(i,t),sn(t)}}function sn(t){var i=t.flags;if(i&2){try{e:{for(var o=t.return;o!==null;){if(tp(o)){var a=o;break e}o=o.return}throw Error(r(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(vi(d,""),a.flags&=-33);var f=np(t);Su(t,f,d);break;case 3:case 4:var g=a.stateNode.containerInfo,w=np(t);Cu(t,w,g);break;default:throw Error(r(161))}}catch(C){be(t,t.return,C)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function jv(t,i,o){G=t,op(t)}function op(t,i,o){for(var a=(t.mode&1)!==0;G!==null;){var d=G,f=d.child;if(d.tag===22&&a){var g=d.memoizedState!==null||Fo;if(!g){var w=d.alternate,C=w!==null&&w.memoizedState!==null||ut;w=Fo;var A=ut;if(Fo=g,(ut=C)&&!A)for(G=d;G!==null;)g=G,C=g.child,g.tag===22&&g.memoizedState!==null?up(d):C!==null?(C.return=g,G=C):up(d);for(;f!==null;)G=f,op(f),f=f.sibling;G=d,Fo=w,ut=A}lp(t)}else d.subtreeFlags&8772&&f!==null?(f.return=d,G=f):lp(t)}}function lp(t){for(;G!==null;){var i=G;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ut||bo(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!ut)if(o===null)a.componentDidMount();else{var d=i.elementType===i.type?o.memoizedProps:Ht(i.type,o.memoizedProps);a.componentDidUpdate(d,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&ah(i,f,a);break;case 3:var g=i.updateQueue;if(g!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}ah(i,g,o)}break;case 5:var w=i.stateNode;if(o===null&&i.flags&4){o=w;var C=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&o.focus();break;case"img":C.src&&(o.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var A=i.alternate;if(A!==null){var j=A.memoizedState;if(j!==null){var U=j.dehydrated;U!==null&&Pi(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ut||i.flags&512&&Eu(i)}catch(F){be(i,i.return,F)}}if(i===t){G=null;break}if(o=i.sibling,o!==null){o.return=i.return,G=o;break}G=i.return}}function ap(t){for(;G!==null;){var i=G;if(i===t){G=null;break}var o=i.sibling;if(o!==null){o.return=i.return,G=o;break}G=i.return}}function up(t){for(;G!==null;){var i=G;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{bo(4,i)}catch(C){be(i,o,C)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var d=i.return;try{a.componentDidMount()}catch(C){be(i,d,C)}}var f=i.return;try{Eu(i)}catch(C){be(i,f,C)}break;case 5:var g=i.return;try{Eu(i)}catch(C){be(i,g,C)}}}catch(C){be(i,i.return,C)}if(i===t){G=null;break}var w=i.sibling;if(w!==null){w.return=i.return,G=w;break}G=i.return}}var zv=Math.ceil,jo=$.ReactCurrentDispatcher,xu=$.ReactCurrentOwner,bt=$.ReactCurrentBatchConfig,me=0,Je=null,We=null,rt=0,It=0,Yr=Ln(0),Qe=0,Zi=null,dr=0,zo=0,ku=0,es=null,wt=null,Tu=0,Jr=1/0,yn=null,Uo=!1,Ru=null,Un=null,Bo=!1,Bn=null,$o=0,ts=0,Nu=null,Wo=-1,Ho=0;function ft(){return me&6?Ue():Wo!==-1?Wo:Wo=Ue()}function $n(t){return t.mode&1?me&2&&rt!==0?rt&-rt:Cv.transition!==null?(Ho===0&&(Ho=tf()),Ho):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:df(t.type)),t):1}function Qt(t,i,o,a){if(50<ts)throw ts=0,Nu=null,Error(r(185));ki(t,o,a),(!(me&2)||t!==Je)&&(t===Je&&(!(me&2)&&(zo|=o),Qe===4&&Wn(t,rt)),Et(t,a),o===1&&me===0&&!(i.mode&1)&&(Jr=Ue()+500,_o&&Fn()))}function Et(t,i){var o=t.callbackNode;C_(t,i);var a=Xs(t,t===Je?rt:0);if(a===0)o!==null&&Xd(o),t.callbackNode=null,t.callbackPriority=0;else if(i=a&-a,t.callbackPriority!==i){if(o!=null&&Xd(o),i===1)t.tag===0?Ev(dp.bind(null,t)):Yf(dp.bind(null,t)),yv(function(){!(me&6)&&Fn()}),o=null;else{switch(nf(a)){case 1:o=la;break;case 4:o=Zd;break;case 16:o=Gs;break;case 536870912:o=ef;break;default:o=Gs}o=vp(o,cp.bind(null,t))}t.callbackPriority=i,t.callbackNode=o}}function cp(t,i){if(Wo=-1,Ho=0,me&6)throw Error(r(327));var o=t.callbackNode;if(Xr()&&t.callbackNode!==o)return null;var a=Xs(t,t===Je?rt:0);if(a===0)return null;if(a&30||a&t.expiredLanes||i)i=qo(t,a);else{i=a;var d=me;me|=2;var f=hp();(Je!==t||rt!==i)&&(yn=null,Jr=Ue()+500,hr(t,i));do try{$v();break}catch(w){fp(t,w)}while(!0);Va(),jo.current=f,me=d,We!==null?i=0:(Je=null,rt=0,i=Qe)}if(i!==0){if(i===2&&(d=aa(t),d!==0&&(a=d,i=Iu(t,d))),i===1)throw o=Zi,hr(t,0),Wn(t,a),Et(t,Ue()),o;if(i===6)Wn(t,a);else{if(d=t.current.alternate,!(a&30)&&!Uv(d)&&(i=qo(t,a),i===2&&(f=aa(t),f!==0&&(a=f,i=Iu(t,f))),i===1))throw o=Zi,hr(t,0),Wn(t,a),Et(t,Ue()),o;switch(t.finishedWork=d,t.finishedLanes=a,i){case 0:case 1:throw Error(r(345));case 2:pr(t,wt,yn);break;case 3:if(Wn(t,a),(a&130023424)===a&&(i=Tu+500-Ue(),10<i)){if(Xs(t,0)!==0)break;if(d=t.suspendedLanes,(d&a)!==a){ft(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Ma(pr.bind(null,t,wt,yn),i);break}pr(t,wt,yn);break;case 4:if(Wn(t,a),(a&4194240)===a)break;for(i=t.eventTimes,d=-1;0<a;){var g=31-Bt(a);f=1<<g,g=i[g],g>d&&(d=g),a&=~f}if(a=d,a=Ue()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*zv(a/1960))-a,10<a){t.timeoutHandle=Ma(pr.bind(null,t,wt,yn),a);break}pr(t,wt,yn);break;case 5:pr(t,wt,yn);break;default:throw Error(r(329))}}}return Et(t,Ue()),t.callbackNode===o?cp.bind(null,t):null}function Iu(t,i){var o=es;return t.current.memoizedState.isDehydrated&&(hr(t,i).flags|=256),t=qo(t,i),t!==2&&(i=wt,wt=o,i!==null&&Pu(i)),t}function Pu(t){wt===null?wt=t:wt.push.apply(wt,t)}function Uv(t){for(var i=t;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var d=o[a],f=d.getSnapshot;d=d.value;try{if(!$t(f(),d))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wn(t,i){for(i&=~ku,i&=~zo,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var o=31-Bt(i),a=1<<o;t[o]=-1,i&=~a}}function dp(t){if(me&6)throw Error(r(327));Xr();var i=Xs(t,0);if(!(i&1))return Et(t,Ue()),null;var o=qo(t,i);if(t.tag!==0&&o===2){var a=aa(t);a!==0&&(i=a,o=Iu(t,a))}if(o===1)throw o=Zi,hr(t,0),Wn(t,i),Et(t,Ue()),o;if(o===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,pr(t,wt,yn),Et(t,Ue()),null}function Ou(t,i){var o=me;me|=1;try{return t(i)}finally{me=o,me===0&&(Jr=Ue()+500,_o&&Fn())}}function fr(t){Bn!==null&&Bn.tag===0&&!(me&6)&&Xr();var i=me;me|=1;var o=bt.transition,a=Ee;try{if(bt.transition=null,Ee=1,t)return t()}finally{Ee=a,bt.transition=o,me=i,!(me&6)&&Fn()}}function Au(){It=Yr.current,Pe(Yr)}function hr(t,i){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,gv(o)),We!==null)for(o=We.return;o!==null;){var a=o;switch(Ba(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&go();break;case 3:Qr(),Pe(yt),Pe(ot),eu();break;case 5:Xa(a);break;case 4:Qr();break;case 13:Pe(De);break;case 19:Pe(De);break;case 10:Qa(a.type._context);break;case 22:case 23:Au()}o=o.return}if(Je=t,We=t=Hn(t.current,null),rt=It=i,Qe=0,Zi=null,ku=zo=dr=0,wt=es=null,ar!==null){for(i=0;i<ar.length;i++)if(o=ar[i],a=o.interleaved,a!==null){o.interleaved=null;var d=a.next,f=o.pending;if(f!==null){var g=f.next;f.next=d,a.next=g}o.pending=a}ar=null}return t}function fp(t,i){do{var o=We;try{if(Va(),No.current=Ao,Io){for(var a=Le.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}Io=!1}if(cr=0,Ye=Ve=Le=null,Qi=!1,Gi=0,xu.current=null,o===null||o.return===null){Qe=1,Zi=i,We=null;break}e:{var f=t,g=o.return,w=o,C=i;if(i=rt,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var A=C,j=w,U=j.tag;if(!(j.mode&1)&&(U===0||U===11||U===15)){var F=j.alternate;F?(j.updateQueue=F.updateQueue,j.memoizedState=F.memoizedState,j.lanes=F.lanes):(j.updateQueue=null,j.memoizedState=null)}var V=bh(g);if(V!==null){V.flags&=-257,jh(V,g,w,f,i),V.mode&1&&Fh(f,A,i),i=V,C=A;var Y=i.updateQueue;if(Y===null){var J=new Set;J.add(C),i.updateQueue=J}else Y.add(C);break e}else{if(!(i&1)){Fh(f,A,i),Du();break e}C=Error(r(426))}}else if(Ae&&w.mode&1){var Be=bh(g);if(Be!==null){!(Be.flags&65536)&&(Be.flags|=256),jh(Be,g,w,f,i),Ha(Gr(C,w));break e}}f=C=Gr(C,w),Qe!==4&&(Qe=2),es===null?es=[f]:es.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var T=Lh(f,C,i);lh(f,T);break e;case 1:w=C;var S=f.type,I=f.stateNode;if(!(f.flags&128)&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Un===null||!Un.has(I)))){f.flags|=65536,i&=-i,f.lanes|=i;var B=Mh(f,w,i);lh(f,B);break e}}f=f.return}while(f!==null)}mp(o)}catch(X){i=X,We===o&&o!==null&&(We=o=o.return);continue}break}while(!0)}function hp(){var t=jo.current;return jo.current=Ao,t===null?Ao:t}function Du(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Je===null||!(dr&268435455)&&!(zo&268435455)||Wn(Je,rt)}function qo(t,i){var o=me;me|=2;var a=hp();(Je!==t||rt!==i)&&(yn=null,hr(t,i));do try{Bv();break}catch(d){fp(t,d)}while(!0);if(Va(),me=o,jo.current=a,We!==null)throw Error(r(261));return Je=null,rt=0,Qe}function Bv(){for(;We!==null;)pp(We)}function $v(){for(;We!==null&&!h_();)pp(We)}function pp(t){var i=_p(t.alternate,t,It);t.memoizedProps=t.pendingProps,i===null?mp(t):We=i,xu.current=null}function mp(t){var i=t;do{var o=i.alternate;if(t=i.return,i.flags&32768){if(o=Mv(o,i),o!==null){o.flags&=32767,We=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,We=null;return}}else if(o=Lv(o,i,It),o!==null){We=o;return}if(i=i.sibling,i!==null){We=i;return}We=i=t}while(i!==null);Qe===0&&(Qe=5)}function pr(t,i,o){var a=Ee,d=bt.transition;try{bt.transition=null,Ee=1,Wv(t,i,o,a)}finally{bt.transition=d,Ee=a}return null}function Wv(t,i,o,a){do Xr();while(Bn!==null);if(me&6)throw Error(r(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(S_(t,f),t===Je&&(We=Je=null,rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Bo||(Bo=!0,vp(Gs,function(){return Xr(),null})),f=(o.flags&15990)!==0,o.subtreeFlags&15990||f){f=bt.transition,bt.transition=null;var g=Ee;Ee=1;var w=me;me|=4,xu.current=null,bv(t,o),sp(o,t),uv(Da),to=!!Aa,Da=Aa=null,t.current=o,jv(o),p_(),me=w,Ee=g,bt.transition=f}else t.current=o;if(Bo&&(Bo=!1,Bn=t,$o=d),f=t.pendingLanes,f===0&&(Un=null),y_(o.stateNode),Et(t,Ue()),i!==null)for(a=t.onRecoverableError,o=0;o<i.length;o++)d=i[o],a(d.value,{componentStack:d.stack,digest:d.digest});if(Uo)throw Uo=!1,t=Ru,Ru=null,t;return $o&1&&t.tag!==0&&Xr(),f=t.pendingLanes,f&1?t===Nu?ts++:(ts=0,Nu=t):ts=0,Fn(),null}function Xr(){if(Bn!==null){var t=nf($o),i=bt.transition,o=Ee;try{if(bt.transition=null,Ee=16>t?16:t,Bn===null)var a=!1;else{if(t=Bn,Bn=null,$o=0,me&6)throw Error(r(331));var d=me;for(me|=4,G=t.current;G!==null;){var f=G,g=f.child;if(G.flags&16){var w=f.deletions;if(w!==null){for(var C=0;C<w.length;C++){var A=w[C];for(G=A;G!==null;){var j=G;switch(j.tag){case 0:case 11:case 15:Xi(8,j,f)}var U=j.child;if(U!==null)U.return=j,G=U;else for(;G!==null;){j=G;var F=j.sibling,V=j.return;if(ep(j),j===A){G=null;break}if(F!==null){F.return=V,G=F;break}G=V}}}var Y=f.alternate;if(Y!==null){var J=Y.child;if(J!==null){Y.child=null;do{var Be=J.sibling;J.sibling=null,J=Be}while(J!==null)}}G=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,G=g;else e:for(;G!==null;){if(f=G,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Xi(9,f,f.return)}var T=f.sibling;if(T!==null){T.return=f.return,G=T;break e}G=f.return}}var S=t.current;for(G=S;G!==null;){g=G;var I=g.child;if(g.subtreeFlags&2064&&I!==null)I.return=g,G=I;else e:for(g=S;G!==null;){if(w=G,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:bo(9,w)}}catch(X){be(w,w.return,X)}if(w===g){G=null;break e}var B=w.sibling;if(B!==null){B.return=w.return,G=B;break e}G=w.return}}if(me=d,Fn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ks,t)}catch{}a=!0}return a}finally{Ee=o,bt.transition=i}}return!1}function gp(t,i,o){i=Gr(o,i),i=Lh(t,i,1),t=jn(t,i,1),i=ft(),t!==null&&(ki(t,1,i),Et(t,i))}function be(t,i,o){if(t.tag===3)gp(t,t,o);else for(;i!==null;){if(i.tag===3){gp(i,t,o);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Un===null||!Un.has(a))){t=Gr(o,t),t=Mh(i,t,1),i=jn(i,t,1),t=ft(),i!==null&&(ki(i,1,t),Et(i,t));break}}i=i.return}}function Hv(t,i,o){var a=t.pingCache;a!==null&&a.delete(i),i=ft(),t.pingedLanes|=t.suspendedLanes&o,Je===t&&(rt&o)===o&&(Qe===4||Qe===3&&(rt&130023424)===rt&&500>Ue()-Tu?hr(t,0):ku|=o),Et(t,i)}function yp(t,i){i===0&&(t.mode&1?(i=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):i=1);var o=ft();t=pn(t,i),t!==null&&(ki(t,i,o),Et(t,o))}function qv(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),yp(t,o)}function Vv(t,i){var o=0;switch(t.tag){case 13:var a=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(r(314))}a!==null&&a.delete(i),yp(t,o)}var _p;_p=function(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps||yt.current)vt=!0;else{if(!(t.lanes&o)&&!(i.flags&128))return vt=!1,Dv(t,i,o);vt=!!(t.flags&131072)}else vt=!1,Ae&&i.flags&1048576&&Jf(i,wo,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;Mo(t,i),t=i.pendingProps;var d=Ur(i,ot.current);Vr(i,o),d=ru(null,i,a,t,d,o);var f=iu();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,_t(a)?(f=!0,yo(i)):f=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ya(i),d.updater=Do,i.stateNode=d,d._reactInternals=i,cu(i,a,t,o),i=pu(null,i,a,!0,f,o)):(i.tag=0,Ae&&f&&Ua(i),dt(null,i,d,o),i=i.child),i;case 16:a=i.elementType;e:{switch(Mo(t,i),t=i.pendingProps,d=a._init,a=d(a._payload),i.type=a,d=i.tag=Gv(a),t=Ht(a,t),d){case 0:i=hu(null,i,a,t,o);break e;case 1:i=Hh(null,i,a,t,o);break e;case 11:i=zh(null,i,a,t,o);break e;case 14:i=Uh(null,i,a,Ht(a.type,t),o);break e}throw Error(r(306,a,""))}return i;case 0:return a=i.type,d=i.pendingProps,d=i.elementType===a?d:Ht(a,d),hu(t,i,a,d,o);case 1:return a=i.type,d=i.pendingProps,d=i.elementType===a?d:Ht(a,d),Hh(t,i,a,d,o);case 3:e:{if(qh(i),t===null)throw Error(r(387));a=i.pendingProps,f=i.memoizedState,d=f.element,oh(t,i),To(i,a,null,o);var g=i.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){d=Gr(Error(r(423)),i),i=Vh(t,i,a,o,d);break e}else if(a!==d){d=Gr(Error(r(424)),i),i=Vh(t,i,a,o,d);break e}else for(Nt=Dn(i.stateNode.containerInfo.firstChild),Rt=i,Ae=!0,Wt=null,o=ih(i,null,a,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Wr(),a===d){i=gn(t,i,o);break e}dt(t,i,a,o)}i=i.child}return i;case 5:return uh(i),t===null&&Wa(i),a=i.type,d=i.pendingProps,f=t!==null?t.memoizedProps:null,g=d.children,La(a,d)?g=null:f!==null&&La(a,f)&&(i.flags|=32),Wh(t,i),dt(t,i,g,o),i.child;case 6:return t===null&&Wa(i),null;case 13:return Qh(t,i,o);case 4:return Ja(i,i.stateNode.containerInfo),a=i.pendingProps,t===null?i.child=Hr(i,null,a,o):dt(t,i,a,o),i.child;case 11:return a=i.type,d=i.pendingProps,d=i.elementType===a?d:Ht(a,d),zh(t,i,a,d,o);case 7:return dt(t,i,i.pendingProps,o),i.child;case 8:return dt(t,i,i.pendingProps.children,o),i.child;case 12:return dt(t,i,i.pendingProps.children,o),i.child;case 10:e:{if(a=i.type._context,d=i.pendingProps,f=i.memoizedProps,g=d.value,ke(So,a._currentValue),a._currentValue=g,f!==null)if($t(f.value,g)){if(f.children===d.children&&!yt.current){i=gn(t,i,o);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var w=f.dependencies;if(w!==null){g=f.child;for(var C=w.firstContext;C!==null;){if(C.context===a){if(f.tag===1){C=mn(-1,o&-o),C.tag=2;var A=f.updateQueue;if(A!==null){A=A.shared;var j=A.pending;j===null?C.next=C:(C.next=j.next,j.next=C),A.pending=C}}f.lanes|=o,C=f.alternate,C!==null&&(C.lanes|=o),Ga(f.return,o,i),w.lanes|=o;break}C=C.next}}else if(f.tag===10)g=f.type===i.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(r(341));g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Ga(g,o,i),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===i){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}dt(t,i,d.children,o),i=i.child}return i;case 9:return d=i.type,a=i.pendingProps.children,Vr(i,o),d=Mt(d),a=a(d),i.flags|=1,dt(t,i,a,o),i.child;case 14:return a=i.type,d=Ht(a,i.pendingProps),d=Ht(a.type,d),Uh(t,i,a,d,o);case 15:return Bh(t,i,i.type,i.pendingProps,o);case 17:return a=i.type,d=i.pendingProps,d=i.elementType===a?d:Ht(a,d),Mo(t,i),i.tag=1,_t(a)?(t=!0,yo(i)):t=!1,Vr(i,o),Ah(i,a,d),cu(i,a,d,o),pu(null,i,a,!0,t,o);case 19:return Kh(t,i,o);case 22:return $h(t,i,o)}throw Error(r(156,i.tag))};function vp(t,i){return Jd(t,i)}function Qv(t,i,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,i,o,a){return new Qv(t,i,o,a)}function Lu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gv(t){if(typeof t=="function")return Lu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$e)return 11;if(t===At)return 14}return 2}function Hn(t,i){var o=t.alternate;return o===null?(o=jt(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Vo(t,i,o,a,d,f){var g=2;if(a=t,typeof t=="function")Lu(t)&&(g=1);else if(typeof t=="string")g=5;else e:switch(t){case Z:return mr(o.children,d,f,i);case ie:g=8,d|=8;break;case se:return t=jt(12,o,i,d|2),t.elementType=se,t.lanes=f,t;case tt:return t=jt(13,o,i,d),t.elementType=tt,t.lanes=f,t;case Ot:return t=jt(19,o,i,d),t.elementType=Ot,t.lanes=f,t;case Fe:return Qo(o,d,f,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:g=10;break e;case Ce:g=9;break e;case $e:g=11;break e;case At:g=14;break e;case gt:g=16,a=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return i=jt(g,o,i,d),i.elementType=t,i.type=a,i.lanes=f,i}function mr(t,i,o,a){return t=jt(7,t,a,i),t.lanes=o,t}function Qo(t,i,o,a){return t=jt(22,t,a,i),t.elementType=Fe,t.lanes=o,t.stateNode={isHidden:!1},t}function Mu(t,i,o){return t=jt(6,t,null,i),t.lanes=o,t}function Fu(t,i,o){return i=jt(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Kv(t,i,o,a,d){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ua(0),this.expirationTimes=ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ua(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function bu(t,i,o,a,d,f,g,w,C){return t=new Kv(t,i,o,w,C),i===1?(i=1,f===!0&&(i|=8)):i=0,f=jt(3,null,null,i),t.current=f,f.stateNode=t,f.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ya(f),t}function Yv(t,i,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:a==null?null:""+a,children:t,containerInfo:i,implementation:o}}function wp(t){if(!t)return Mn;t=t._reactInternals;e:{if(rr(t)!==t||t.tag!==1)throw Error(r(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(_t(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(t.tag===1){var o=t.type;if(_t(o))return Gf(t,o,i)}return i}function Ep(t,i,o,a,d,f,g,w,C){return t=bu(o,a,!0,t,d,f,g,w,C),t.context=wp(null),o=t.current,a=ft(),d=$n(o),f=mn(a,d),f.callback=i??null,jn(o,f,d),t.current.lanes=d,ki(t,d,a),Et(t,a),t}function Go(t,i,o,a){var d=i.current,f=ft(),g=$n(d);return o=wp(o),i.context===null?i.context=o:i.pendingContext=o,i=mn(f,g),i.payload={element:t},a=a===void 0?null:a,a!==null&&(i.callback=a),t=jn(d,i,g),t!==null&&(Qt(t,d,g,f),ko(t,d,g)),g}function Ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function ju(t,i){Cp(t,i),(t=t.alternate)&&Cp(t,i)}function Jv(){return null}var Sp=typeof reportError=="function"?reportError:function(t){console.error(t)};function zu(t){this._internalRoot=t}Yo.prototype.render=zu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));Go(t,i,null,null)},Yo.prototype.unmount=zu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;fr(function(){Go(null,t,null,null)}),i[cn]=null}};function Yo(t){this._internalRoot=t}Yo.prototype.unstable_scheduleHydration=function(t){if(t){var i=of();t={blockedOn:null,target:t,priority:i};for(var o=0;o<Pn.length&&i!==0&&i<Pn[o].priority;o++);Pn.splice(o,0,t),o===0&&uf(t)}};function Uu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xp(){}function Xv(t,i,o,a,d){if(d){if(typeof a=="function"){var f=a;a=function(){var A=Ko(g);f.call(A)}}var g=Ep(i,a,t,0,null,!1,!1,"",xp);return t._reactRootContainer=g,t[cn]=g.current,zi(t.nodeType===8?t.parentNode:t),fr(),g}for(;d=t.lastChild;)t.removeChild(d);if(typeof a=="function"){var w=a;a=function(){var A=Ko(C);w.call(A)}}var C=bu(t,0,!1,null,null,!1,!1,"",xp);return t._reactRootContainer=C,t[cn]=C.current,zi(t.nodeType===8?t.parentNode:t),fr(function(){Go(i,C,o,a)}),C}function Xo(t,i,o,a,d){var f=o._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var w=d;d=function(){var C=Ko(g);w.call(C)}}Go(i,g,t,d)}else g=Xv(o,i,t,d,a);return Ko(g)}rf=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var o=xi(i.pendingLanes);o!==0&&(ca(i,o|1),Et(i,Ue()),!(me&6)&&(Jr=Ue()+500,Fn()))}break;case 13:fr(function(){var a=pn(t,1);if(a!==null){var d=ft();Qt(a,t,1,d)}}),ju(t,1)}},da=function(t){if(t.tag===13){var i=pn(t,134217728);if(i!==null){var o=ft();Qt(i,t,134217728,o)}ju(t,134217728)}},sf=function(t){if(t.tag===13){var i=$n(t),o=pn(t,i);if(o!==null){var a=ft();Qt(o,t,i,a)}ju(t,i)}},of=function(){return Ee},lf=function(t,i){var o=Ee;try{return Ee=t,i()}finally{Ee=o}},ra=function(t,i,o){switch(i){case"input":if(Kl(t,o),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var a=o[i];if(a!==t&&a.form===t.form){var d=mo(a);if(!d)throw Error(r(90));Pd(a),Kl(a,d)}}}break;case"textarea":Md(t,o);break;case"select":i=o.value,i!=null&&Nr(t,!!o.multiple,i,!1)}},Hd=Ou,qd=fr;var Zv={usingClientEntryPoint:!1,Events:[$i,jr,mo,$d,Wd,Ou]},ns={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e0={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kd(t),t===null?null:t.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||Jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{Ks=Zo.inject(e0),en=Zo}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zv,Ct.createPortal=function(t,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(i))throw Error(r(200));return Yv(t,i,null,o)},Ct.createRoot=function(t,i){if(!Uu(t))throw Error(r(299));var o=!1,a="",d=Sp;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=bu(t,1,!1,null,null,o,!1,a,d),t[cn]=i.current,zi(t.nodeType===8?t.parentNode:t),new zu(i)},Ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Kd(i),t=t===null?null:t.stateNode,t},Ct.flushSync=function(t){return fr(t)},Ct.hydrate=function(t,i,o){if(!Jo(i))throw Error(r(200));return Xo(null,t,i,!0,o)},Ct.hydrateRoot=function(t,i,o){if(!Uu(t))throw Error(r(405));var a=o!=null&&o.hydratedSources||null,d=!1,f="",g=Sp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),i=Ep(i,null,t,1,o??null,d,!1,f,g),t[cn]=i.current,zi(t),a)for(t=0;t<a.length;t++)o=a[t],d=o._getVersion,d=d(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,d]:i.mutableSourceEagerHydrationData.push(o,d);return new Yo(i)},Ct.render=function(t,i,o){if(!Jo(i))throw Error(r(200));return Xo(null,t,i,!1,o)},Ct.unmountComponentAtNode=function(t){if(!Jo(t))throw Error(r(40));return t._reactRootContainer?(fr(function(){Xo(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1},Ct.unstable_batchedUpdates=Ou,Ct.unstable_renderSubtreeIntoContainer=function(t,i,o,a){if(!Jo(o))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Xo(t,i,o,!1,a)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var Ap;function u0(){if(Ap)return Wu.exports;Ap=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wu.exports=a0(),Wu.exports}var Dp;function c0(){if(Dp)return el;Dp=1;var n=u0();return el.createRoot=n.createRoot,el.hydrateRoot=n.hydrateRoot,el}var d0=c0();const f0=qm(d0);var is={},Lp;function h0(){if(Lp)return is;Lp=1,Object.defineProperty(is,"__esModule",{value:!0}),is.parse=c,is.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,x){const E=new u,N=v.length;if(N<2)return E;const R=(x==null?void 0:x.decode)||y;let D=0;do{const M=v.indexOf("=",D);if(M===-1)break;const z=v.indexOf(";",D),$=z===-1?N:z;if(M>$){D=v.lastIndexOf(";",M-1)+1;continue}const H=h(v,D,M),Q=p(v,M,H),Z=v.slice(H,Q);if(E[Z]===void 0){let ie=h(v,M+1,$),se=p(v,$,ie);const de=R(v.slice(ie,se));E[Z]=de}D=$+1}while(D<N);return E}function h(v,x,E){do{const N=v.charCodeAt(x);if(N!==32&&N!==9)return x}while(++x<E);return E}function p(v,x,E){for(;x>E;){const N=v.charCodeAt(--x);if(N!==32&&N!==9)return x+1}return E}function m(v,x,E){const N=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const R=N(x);if(!e.test(R))throw new TypeError(`argument val is invalid: ${x}`);let D=v+"="+R;if(!E)return D;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);D+="; Max-Age="+E.maxAge}if(E.domain){if(!r.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);D+="; Domain="+E.domain}if(E.path){if(!s.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);D+="; Path="+E.path}if(E.expires){if(!_(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);D+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(D+="; HttpOnly"),E.secure&&(D+="; Secure"),E.partitioned&&(D+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return D}function y(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return l.call(v)==="[object Date]"}return is}h0();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mp="popstate";function p0(n={}){function e(s,l){let{pathname:u,search:c,hash:h}=s.location;return uc("",{pathname:u,search:c,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:gs(l)}return g0(e,r,null,n)}function Me(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ln(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m0(){return Math.random().toString(36).substring(2,10)}function Fp(n,e){return{usr:n.state,key:n.key,idx:e}}function uc(n,e,r=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ci(e):e,state:r,key:e&&e.key||s||m0()}}function gs({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function ci(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function g0(n,e,r,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,c=l.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let R=y(),D=R==null?null:R-m;m=R,p&&p({action:h,location:N.location,delta:D})}function v(R,D){h="PUSH";let M=uc(N.location,R,D);m=y()+1;let z=Fp(M,m),$=N.createHref(M);try{c.pushState(z,"",$)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;l.location.assign($)}u&&p&&p({action:h,location:N.location,delta:1})}function x(R,D){h="REPLACE";let M=uc(N.location,R,D);m=y();let z=Fp(M,m),$=N.createHref(M);c.replaceState(z,"",$),u&&p&&p({action:h,location:N.location,delta:0})}function E(R){let D=l.location.origin!=="null"?l.location.origin:l.location.href,M=typeof R=="string"?R:gs(R);return M=M.replace(/ $/,"%20"),Me(D,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,D)}let N={get action(){return h},get location(){return n(l,c)},listen(R){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Mp,_),p=R,()=>{l.removeEventListener(Mp,_),p=null}},createHref(R){return e(l,R)},createURL:E,encodeLocation(R){let D=E(R);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:x,go(R){return c.go(R)}};return N}function Vm(n,e,r="/"){return y0(n,e,r,!1)}function y0(n,e,r,s){let l=typeof e=="string"?ci(e):e,u=Zn(l.pathname||"/",r);if(u==null)return null;let c=Qm(n);_0(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=I0(u);h=R0(c[p],m,s)}return h}function Qm(n,e=[],r=[],s=""){let l=(u,c,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let m=wn([s,p.relativePath]),y=r.concat(p);u.children&&u.children.length>0&&(Me(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Qm(u.children,e,y,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:k0(m,u.index),routesMeta:y})};return n.forEach((u,c)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,c);else for(let p of Gm(u.path))l(u,c,p)}),e}function Gm(n){let e=n.split("/");if(e.length===0)return[];let[r,...s]=e,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let c=Gm(s.join("/")),h=[];return h.push(...c.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function _0(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:T0(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var v0=/^:[\w-]+$/,w0=3,E0=2,C0=1,S0=10,x0=-2,bp=n=>n==="*";function k0(n,e){let r=n.split("/"),s=r.length;return r.some(bp)&&(s+=x0),e&&(s+=E0),r.filter(l=>!bp(l)).reduce((l,u)=>l+(v0.test(u)?w0:u===""?C0:S0),s)}function T0(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function R0(n,e,r=!1){let{routesMeta:s}=n,l={},u="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",_=cl({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),v=p.route;if(!_&&m&&r&&!s[s.length-1].route.index&&(_=cl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(l,_.params),c.push({params:l,pathname:wn([u,_.pathname]),pathnameBase:D0(wn([u,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(u=wn([u,_.pathnameBase]))}return c}function cl(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,s]=N0(n.path,n.caseSensitive,n.end),l=e.match(r);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:_},v)=>{if(y==="*"){let E=h[v]||"";c=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const x=h[v];return _&&!x?m[y]=void 0:m[y]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:n}}function N0(n,e=!1,r=!0){ln(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function I0(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ln(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=n.charAt(r);return s&&s!=="/"?null:n.slice(r)||"/"}function P0(n,e="/"){let{pathname:r,search:s="",hash:l=""}=typeof n=="string"?ci(n):n;return{pathname:r?r.startsWith("/")?r:O0(r,e):e,search:L0(s),hash:M0(l)}}function O0(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Vu(n,e,r,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A0(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Km(n){let e=A0(n);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function Ym(n,e,r,s=!1){let l;typeof n=="string"?l=ci(n):(l={...n},Me(!l.pathname||!l.pathname.includes("?"),Vu("?","pathname","search",l)),Me(!l.pathname||!l.pathname.includes("#"),Vu("#","pathname","hash",l)),Me(!l.search||!l.search.includes("#"),Vu("#","search","hash",l)));let u=n===""||l.pathname==="",c=u?"/":l.pathname,h;if(c==null)h=r;else{let _=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),_-=1;l.pathname=v.join("/")}h=_>=0?e[_]:"/"}let p=P0(l,h),m=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var wn=n=>n.join("/").replace(/\/\/+/g,"/"),D0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),L0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,M0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function F0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Jm=["POST","PUT","PATCH","DELETE"];new Set(Jm);var b0=["GET",...Jm];new Set(b0);var di=O.createContext(null);di.displayName="DataRouter";var Il=O.createContext(null);Il.displayName="DataRouterState";var Xm=O.createContext({isTransitioning:!1});Xm.displayName="ViewTransition";var j0=O.createContext(new Map);j0.displayName="Fetchers";var z0=O.createContext(null);z0.displayName="Await";var an=O.createContext(null);an.displayName="Navigation";var Ps=O.createContext(null);Ps.displayName="Location";var kn=O.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var bc=O.createContext(null);bc.displayName="RouteError";function U0(n,{relative:e}={}){Me(Os(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=O.useContext(an),{hash:l,pathname:u,search:c}=As(n,{relative:e}),h=u;return r!=="/"&&(h=u==="/"?r:wn([r,u])),s.createHref({pathname:h,search:c,hash:l})}function Os(){return O.useContext(Ps)!=null}function mt(){return Me(Os(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ps).location}var Zm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eg(n){O.useContext(an).static||O.useLayoutEffect(n)}function Xt(){let{isDataRoute:n}=O.useContext(kn);return n?Z0():B0()}function B0(){Me(Os(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(di),{basename:e,navigator:r}=O.useContext(an),{matches:s}=O.useContext(kn),{pathname:l}=mt(),u=JSON.stringify(Km(s)),c=O.useRef(!1);return eg(()=>{c.current=!0}),O.useCallback((p,m={})=>{if(ln(c.current,Zm),!c.current)return;if(typeof p=="number"){r.go(p);return}let y=Ym(p,JSON.parse(u),l,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:wn([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,u,l,n])}O.createContext(null);function As(n,{relative:e}={}){let{matches:r}=O.useContext(kn),{pathname:s}=mt(),l=JSON.stringify(Km(r));return O.useMemo(()=>Ym(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function $0(n,e){return tg(n,e)}function tg(n,e,r,s){var D;Me(Os(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(an),{matches:u}=O.useContext(kn),c=u[u.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let M=y&&y.path||"";ng(p,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=mt(),v;if(e){let M=typeof e=="string"?ci(e):e;Me(m==="/"||((D=M.pathname)==null?void 0:D.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=_;let x=v.pathname||"/",E=x;if(m!=="/"){let M=m.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let N=Vm(n,{pathname:E});ln(y||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ln(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Q0(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:wn([m,l.encodeLocation?l.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:wn([m,l.encodeLocation?l.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,r,s);return e&&R?O.createElement(Ps.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function W0(){let n=X0(),e=F0(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:l},r):null,c)}var H0=O.createElement(W0,null),q0=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(kn.Provider,{value:this.props.routeContext},O.createElement(bc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V0({routeContext:n,match:e,children:r}){let s=O.useContext(di);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(kn.Provider,{value:n},r)}function Q0(n,e=[],r=null,s=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let l=n,u=r==null?void 0:r.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Me(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let c=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:_}=r,v=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||v){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,y)=>{let _,v=!1,x=null,E=null;r&&(_=u&&m.route.id?u[m.route.id]:void 0,x=m.route.errorElement||H0,c&&(h<0&&y===0?(ng("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):h===y&&(v=!0,E=m.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,y+1)),R=()=>{let D;return _?D=x:v?D=E:m.route.Component?D=O.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=p,O.createElement(V0,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:D})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?O.createElement(q0,{location:r.location,revalidation:r.revalidation,component:x,error:_,children:R(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):R()},null)}function jc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G0(n){let e=O.useContext(di);return Me(e,jc(n)),e}function K0(n){let e=O.useContext(Il);return Me(e,jc(n)),e}function Y0(n){let e=O.useContext(kn);return Me(e,jc(n)),e}function zc(n){let e=Y0(n),r=e.matches[e.matches.length-1];return Me(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function J0(){return zc("useRouteId")}function X0(){var s;let n=O.useContext(bc),e=K0("useRouteError"),r=zc("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[r]}function Z0(){let{router:n}=G0("useNavigate"),e=zc("useNavigate"),r=O.useRef(!1);return eg(()=>{r.current=!0}),O.useCallback(async(l,u={})=>{ln(r.current,Zm),r.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...u}))},[n,e])}var jp={};function ng(n,e,r){!e&&!jp[n]&&(jp[n]=!0,ln(!1,r))}O.memo(ew);function ew({routes:n,future:e,state:r}){return tg(n,void 0,r,e)}function Gt(n){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tw({basename:n="/",children:e=null,location:r,navigationType:s="POP",navigator:l,static:u=!1}){Me(!Os(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:c,navigator:l,static:u,future:{}}),[c,l,u]);typeof r=="string"&&(r=ci(r));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:v="default"}=r,x=O.useMemo(()=>{let E=Zn(p,c);return E==null?null:{location:{pathname:E,search:m,hash:y,state:_,key:v},navigationType:s}},[c,p,m,y,_,v,s]);return ln(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(an.Provider,{value:h},O.createElement(Ps.Provider,{children:e,value:x}))}function nw({children:n,location:e}){return $0(cc(n),e)}function cc(n,e=[]){let r=[];return O.Children.forEach(n,(s,l)=>{if(!O.isValidElement(s))return;let u=[...e,l];if(s.type===O.Fragment){r.push.apply(r,cc(s.props.children,u));return}Me(s.type===Gt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=cc(s.props.children,u)),r.push(c)}),r}var il="get",sl="application/x-www-form-urlencoded";function Pl(n){return n!=null&&typeof n.tagName=="string"}function rw(n){return Pl(n)&&n.tagName.toLowerCase()==="button"}function iw(n){return Pl(n)&&n.tagName.toLowerCase()==="form"}function sw(n){return Pl(n)&&n.tagName.toLowerCase()==="input"}function ow(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lw(n,e){return n.button===0&&(!e||e==="_self")&&!ow(n)}var tl=null;function aw(){if(tl===null)try{new FormData(document.createElement("form"),0),tl=!1}catch{tl=!0}return tl}var uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qu(n){return n!=null&&!uw.has(n)?(ln(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):n}function cw(n,e){let r,s,l,u,c;if(iw(n)){let h=n.getAttribute("action");s=h?Zn(h,e):null,r=n.getAttribute("method")||il,l=Qu(n.getAttribute("enctype"))||sl,u=new FormData(n)}else if(rw(n)||sw(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(s=p?Zn(p,e):null,r=n.getAttribute("formmethod")||h.getAttribute("method")||il,l=Qu(n.getAttribute("formenctype"))||Qu(h.getAttribute("enctype"))||sl,u=new FormData(h,n),!aw()){let{name:m,type:y,value:_}=n;if(y==="image"){let v=m?`${m}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else m&&u.append(m,_)}}else{if(Pl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=il,s=null,l=sl,c=n}return u&&l==="text/plain"&&(c=u,u=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:u,body:c}}function Uc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function dw(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function hw(n,e,r){let s=await Promise.all(n.map(async l=>{let u=e.routes[l.route.id];if(u){let c=await dw(u,r);return c.links?c.links():[]}return[]}));return yw(s.flat(1).filter(fw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function zp(n,e,r,s,l,u){let c=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,h=(p,m)=>{var y;return r[m].pathname!==p.pathname||((y=r[m].route.path)==null?void 0:y.endsWith("*"))&&r[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):u==="data"?e.filter((p,m)=>{var _;let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((_=r[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function pw(n,e){return mw(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function mw(n){return[...new Set(n)]}function gw(n){let e={},r=Object.keys(n).sort();for(let s of r)e[s]=n[s];return e}function yw(n,e){let r=new Set;return new Set(e),n.reduce((s,l)=>{let u=JSON.stringify(gw(l));return r.has(u)||(r.add(u),s.push({key:u,link:l})),s},[])}function _w(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vw(){let n=O.useContext(di);return Uc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ww(){let n=O.useContext(Il);return Uc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bc=O.createContext(void 0);Bc.displayName="FrameworkContext";function rg(){let n=O.useContext(Bc);return Uc(n,"You must render this element inside a <HydratedRouter> element"),n}function Ew(n,e){let r=O.useContext(Bc),[s,l]=O.useState(!1),[u,c]=O.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,v=O.useRef(null);O.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let N=D=>{D.forEach(M=>{c(M.isIntersecting)})},R=new IntersectionObserver(N,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[n]),O.useEffect(()=>{if(s){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[s]);let x=()=>{l(!0)},E=()=>{l(!1),c(!1)};return r?n!=="intent"?[u,v,{}]:[u,v,{onFocus:ss(h,x),onBlur:ss(p,E),onMouseEnter:ss(m,x),onMouseLeave:ss(y,E),onTouchStart:ss(_,x)}]:[!1,v,{}]}function ss(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function Cw({page:n,...e}){let{router:r}=vw(),s=O.useMemo(()=>Vm(r.routes,n,r.basename),[r.routes,n,r.basename]);return s?O.createElement(xw,{page:n,matches:s,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function Sw(n){let{manifest:e,routeModules:r}=rg(),[s,l]=O.useState([]);return O.useEffect(()=>{let u=!1;return hw(n,e,r).then(c=>{u||l(c)}),()=>{u=!0}},[n,e,r]),s}function xw({page:n,matches:e,...r}){let s=mt(),{manifest:l,routeModules:u}=rg(),{loaderData:c,matches:h}=ww(),p=O.useMemo(()=>zp(n,e,h,l,s,"data"),[n,e,h,l,s]),m=O.useMemo(()=>zp(n,e,h,l,s,"assets"),[n,e,h,l,s]),y=O.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let x=new Set,E=!1;if(e.forEach(R=>{var M;let D=l.routes[R.route.id];!D||!D.hasLoader||(!p.some(z=>z.route.id===R.route.id)&&R.route.id in c&&((M=u[R.route.id])!=null&&M.shouldRevalidate)||D.hasClientLoader?E=!0:x.add(R.route.id))}),x.size===0)return[];let N=_w(n);return E&&x.size>0&&N.searchParams.set("_routes",e.filter(R=>x.has(R.route.id)).map(R=>R.route.id).join(",")),[N.pathname+N.search]},[c,s,l,p,e,n,u]),_=O.useMemo(()=>pw(m,l),[m,l]),v=Sw(m);return O.createElement(O.Fragment,null,y.map(x=>O.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),_.map(x=>O.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),v.map(({key:x,link:E})=>O.createElement("link",{key:x,...E})))}function kw(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var ig=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ig&&(window.__reactRouterVersion="7.0.2")}catch{}function Tw({basename:n,children:e,window:r}){let s=O.useRef();s.current==null&&(s.current=p0({window:r,v5Compat:!0}));let l=s.current,[u,c]=O.useState({action:l.action,location:l.location}),h=O.useCallback(p=>{O.startTransition(()=>c(p))},[c]);return O.useLayoutEffect(()=>l.listen(h),[l,h]),O.createElement(tw,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l})}var sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,og=O.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:l,reloadDocument:u,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:_,...v},x){let{basename:E}=O.useContext(an),N=typeof m=="string"&&sg.test(m),R,D=!1;if(typeof m=="string"&&N&&(R=m,ig))try{let se=new URL(window.location.href),de=m.startsWith("//")?new URL(se.protocol+m):new URL(m),Ce=Zn(de.pathname,E);de.origin===se.origin&&Ce!=null?m=Ce+de.search+de.hash:D=!0}catch{ln(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=U0(m,{relative:l}),[z,$,H]=Ew(s,v),Q=Pw(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:l,viewTransition:_});function Z(se){e&&e(se),se.defaultPrevented||Q(se)}let ie=O.createElement("a",{...v,...H,href:R||M,onClick:D||u?e:Z,ref:kw(x,$),target:p,"data-discover":!N&&r==="render"?"true":void 0});return z&&!N?O.createElement(O.Fragment,null,ie,O.createElement(Cw,{page:M})):ie});og.displayName="Link";var Rw=O.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:l=!1,style:u,to:c,viewTransition:h,children:p,...m},y){let _=As(c,{relative:m.relative}),v=mt(),x=O.useContext(Il),{navigator:E,basename:N}=O.useContext(an),R=x!=null&&Mw(_)&&h===!0,D=E.encodeLocation?E.encodeLocation(_).pathname:_.pathname,M=v.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(M=M.toLowerCase(),z=z?z.toLowerCase():null,D=D.toLowerCase()),z&&N&&(z=Zn(z,N)||z);const $=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let H=M===D||!l&&M.startsWith(D)&&M.charAt($)==="/",Q=z!=null&&(z===D||!l&&z.startsWith(D)&&z.charAt(D.length)==="/"),Z={isActive:H,isPending:Q,isTransitioning:R},ie=H?e:void 0,se;typeof s=="function"?se=s(Z):se=[s,H?"active":null,Q?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let de=typeof u=="function"?u(Z):u;return O.createElement(og,{...m,"aria-current":ie,className:se,ref:y,style:de,to:c,viewTransition:h},typeof p=="function"?p(Z):p)});Rw.displayName="NavLink";var Nw=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:l,state:u,method:c=il,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...v},x)=>{let E=Dw(),N=Lw(h,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&sg.test(h),M=z=>{if(p&&p(z),z.defaultPrevented)return;z.preventDefault();let $=z.nativeEvent.submitter,H=($==null?void 0:$.getAttribute("formmethod"))||c;E($||z.currentTarget,{fetcherKey:e,method:H,navigate:r,replace:l,state:u,relative:m,preventScrollReset:y,viewTransition:_})};return O.createElement("form",{ref:x,method:R,action:N,onSubmit:s?p:M,...v,"data-discover":!D&&n==="render"?"true":void 0})});Nw.displayName="Form";function Iw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lg(n){let e=O.useContext(di);return Me(e,Iw(n)),e}function Pw(n,{target:e,replace:r,state:s,preventScrollReset:l,relative:u,viewTransition:c}={}){let h=Xt(),p=mt(),m=As(n,{relative:u});return O.useCallback(y=>{if(lw(y,e)){y.preventDefault();let _=r!==void 0?r:gs(p)===gs(m);h(n,{replace:_,state:s,preventScrollReset:l,relative:u,viewTransition:c})}},[p,h,m,r,s,e,n,l,u,c])}var Ow=0,Aw=()=>`__${String(++Ow)}__`;function Dw(){let{router:n}=lg("useSubmit"),{basename:e}=O.useContext(an),r=J0();return O.useCallback(async(s,l={})=>{let{action:u,method:c,encType:h,formData:p,body:m}=cw(s,e);if(l.navigate===!1){let y=l.fetcherKey||Aw();await n.fetch(y,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||c,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||c,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,r])}function Lw(n,{relative:e}={}){let{basename:r}=O.useContext(an),s=O.useContext(kn);Me(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...As(n||".",{relative:e})},c=mt();if(n==null){u.search=c.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();u.search=y?`?${y}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:wn([r,u.pathname])),gs(u)}function Mw(n,e={}){let r=O.useContext(Xm);Me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=lg("useViewTransitionState"),l=As(n,{relative:e.relative});if(!r.isTransitioning)return!1;let u=Zn(r.currentLocation.pathname,s)||r.currentLocation.pathname,c=Zn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return cl(l.pathname,c)!=null||cl(l.pathname,u)!=null}new TextEncoder;function Fw(){const n=Xt(),e=()=>{n("/login")},r=()=>{n("/quiz",{state:{id:1}})};return P.jsx("div",{className:"welcome-container",children:P.jsxs("div",{className:"welcome-card",children:[P.jsx("h1",{children:"Welcome to the Quiz!"}),P.jsx("p",{className:"welcome-description",children:"Ready to test your general knowledge? Press the button below to begin the quiz."}),P.jsxs("div",{className:"button-container",children:[P.jsx("button",{onClick:r,className:"continue-btn",children:"Guest"}),P.jsx("button",{onClick:e,className:"login-btn",children:"Login to Continue"})]})]})})}var Up={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(n,e){if(!n)throw fi(e)},fi=function(n){return new Error("Firebase Database ("+ag.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},bw=function(n){const e=[];let r=0,s=0;for(;r<n.length;){const l=n[r++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[r++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[r++],c=n[r++],h=n[r++],p=((l&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[r++],c=n[r++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|c&63)}}return e.join("")},$c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],c=l+1<n.length,h=c?n[l+1]:0,p=l+2<n.length,m=p?n[l+2]:0,y=u>>2,_=(u&3)<<4|h>>4;let v=(h&15)<<2|m>>6,x=m&63;p||(x=64,c||(v=64)),s.push(r[y],r[_],r[v],r[x])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ug(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bw(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=r[n.charAt(l++)],h=l<n.length?r[n.charAt(l)]:0;++l;const m=l<n.length?r[n.charAt(l)]:64;++l;const _=l<n.length?r[n.charAt(l)]:64;if(++l,u==null||h==null||m==null||_==null)throw new jw;const v=u<<2|h>>4;if(s.push(v),m!==64){const x=h<<4&240|m>>2;if(s.push(x),_!==64){const E=m<<6&192|_;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cg=function(n){const e=ug(n);return $c.encodeByteArray(e,!0)},dl=function(n){return cg(n).replace(/\./g,"")},dc=function(n){try{return $c.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n){return dg(void 0,n)}function dg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Uw(r)||(n[r]=dg(n[r],e[r]));return n}function Uw(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=()=>Bw().__FIREBASE_DEFAULTS__,Ww=()=>{if(typeof process>"u"||typeof Up>"u")return;const n=Up.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Hw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&dc(n[1]);return e&&JSON.parse(e)},fg=()=>{try{return $w()||Ww()||Hw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qw=n=>{var e,r;return(r=(e=fg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},Vw=n=>{const e=qw(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},hg=()=>{var n;return(n=fg())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[dl(JSON.stringify(r)),dl(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gw())}function Kw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mg(){return ag.NODE_ADMIN===!0}function Yw(){try{return typeof indexedDB=="object"}catch{return!1}}function Jw(){return new Promise((n,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="FirebaseError";class Ls extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=Xw,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gg.prototype.create)}}class gg{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},l=`${this.service}/${e}`,u=this.errors[e],c=u?Zw(u,s):"Error",h=`${this.serviceName}: ${c} (${l}).`;return new Ls(l,h,s)}}function Zw(n,e){return n.replace(eE,(r,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const eE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(n){return JSON.parse(n)}function Ke(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=function(n){let e={},r={},s={},l="";try{const u=n.split(".");e=ys(dc(u[0])||""),r=ys(dc(u[1])||""),l=u[2],s=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:s,signature:l}},tE=function(n){const e=yg(n),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},nE=function(n){const e=yg(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ii(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Bp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fl(n,e,r){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(r,n[l],l,n));return s}function fc(n,e){if(n===e)return!0;const r=Object.keys(n),s=Object.keys(e);for(const l of r){if(!s.includes(l))return!1;const u=n[l],c=e[l];if($p(u)&&$p(c)){if(!fc(u,c))return!1}else if(u!==c)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function $p(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n){const e=[];for(const[r,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let _=0;_<16;_++)s[_]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let _=16;_<80;_++){const v=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,y;for(let _=0;_<80;_++){_<40?_<20?(m=h^u&(c^h),y=1518500249):(m=u^c^h,y=1859775393):_<60?(m=u&c|h&(u|c),y=2400959708):(m=u^c^h,y=3395469782);const v=(l<<5|l>>>27)+m+p+y+s[_]&4294967295;p=h,h=c,c=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const s=r-this.blockSize;let l=0;const u=this.buf_;let c=this.inbuf_;for(;l<r;){if(c===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<r;)if(u[c]=e.charCodeAt(l),++c,++l,c===this.blockSize){this.compress_(u),c=0;break}}else for(;l<r;)if(u[c]=e[l],++c,++l,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function Ol(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,W(s<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(s)-56320;l=65536+(u<<10)+c}l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):l<65536?(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},Al=function(n){let e=0;for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n){return n&&n._delegate?n._delegate:n}class _s{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Ds;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aE(e))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gr){return this.instances.has(e)}getOptions(e=gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&c.resolve(l)}return l}onInit(e,r){var s;const l=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const c=this.instances.get(l);return c&&e(c,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lE(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=gr){return this.component?this.component.multipleInstances?e:gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lE(n){return n===gr?void 0:n}function aE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new oE(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Re||(Re={}));const cE={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},dE=Re.INFO,fE={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},hE=(n,e,...r)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=fE[e];if(l)console[l](`[${s}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _g{constructor(e){this.name=e,this._logLevel=dE,this._logHandler=hE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const pE=(n,e)=>e.some(r=>n instanceof r);let Wp,Hp;function mE(){return Wp||(Wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gE(){return Hp||(Hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vg=new WeakMap,hc=new WeakMap,wg=new WeakMap,Gu=new WeakMap,Wc=new WeakMap;function yE(n){const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{r(Kn(n.result)),l()},c=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(r=>{r instanceof IDBCursor&&vg.set(r,n)}).catch(()=>{}),Wc.set(e,n),e}function _E(n){if(hc.has(n))return;const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{r(),l()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});hc.set(n,e)}let pc={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return hc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wg.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Kn(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vE(n){pc=n(pc)}function wE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=n.call(Ku(this),e,...r);return wg.set(s,e.sort?e.sort():[e]),Kn(s)}:gE().includes(n)?function(...e){return n.apply(Ku(this),e),Kn(vg.get(this))}:function(...e){return Kn(n.apply(Ku(this),e))}}function EE(n){return typeof n=="function"?wE(n):(n instanceof IDBTransaction&&_E(n),pE(n,mE())?new Proxy(n,pc):n)}function Kn(n){if(n instanceof IDBRequest)return yE(n);if(Gu.has(n))return Gu.get(n);const e=EE(n);return e!==n&&(Gu.set(n,e),Wc.set(e,n)),e}const Ku=n=>Wc.get(n);function CE(n,e,{blocked:r,upgrade:s,blocking:l,terminated:u}={}){const c=indexedDB.open(n,e),h=Kn(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Kn(c.result),p.oldVersion,p.newVersion,Kn(c.transaction),p)}),r&&c.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const SE=["get","getKey","getAll","getAllKeys","count"],xE=["put","add","delete","clear"],Yu=new Map;function qp(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yu.get(e))return Yu.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,l=xE.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||SE.includes(r)))return;const u=async function(c,...h){const p=this.transaction(c,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[r](...h),l&&p.done]))[0]};return Yu.set(e,u),u}vE(n=>({...n,get:(e,r,s)=>qp(e,r)||n.get(e,r,s),has:(e,r)=>!!qp(e,r)||n.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(TE(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function TE(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mc="@firebase/app",Vp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new _g("@firebase/app"),RE="@firebase/app-compat",NE="@firebase/analytics-compat",IE="@firebase/analytics",PE="@firebase/app-check-compat",OE="@firebase/app-check",AE="@firebase/auth",DE="@firebase/auth-compat",LE="@firebase/database",ME="@firebase/data-connect",FE="@firebase/database-compat",bE="@firebase/functions",jE="@firebase/functions-compat",zE="@firebase/installations",UE="@firebase/installations-compat",BE="@firebase/messaging",$E="@firebase/messaging-compat",WE="@firebase/performance",HE="@firebase/performance-compat",qE="@firebase/remote-config",VE="@firebase/remote-config-compat",QE="@firebase/storage",GE="@firebase/storage-compat",KE="@firebase/firestore",YE="@firebase/vertexai",JE="@firebase/firestore-compat",XE="firebase",ZE="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="[DEFAULT]",eC={[mc]:"fire-core",[RE]:"fire-core-compat",[IE]:"fire-analytics",[NE]:"fire-analytics-compat",[OE]:"fire-app-check",[PE]:"fire-app-check-compat",[AE]:"fire-auth",[DE]:"fire-auth-compat",[LE]:"fire-rtdb",[ME]:"fire-data-connect",[FE]:"fire-rtdb-compat",[bE]:"fire-fn",[jE]:"fire-fn-compat",[zE]:"fire-iid",[UE]:"fire-iid-compat",[BE]:"fire-fcm",[$E]:"fire-fcm-compat",[WE]:"fire-perf",[HE]:"fire-perf-compat",[qE]:"fire-rc",[VE]:"fire-rc-compat",[QE]:"fire-gcs",[GE]:"fire-gcs-compat",[KE]:"fire-fst",[JE]:"fire-fst-compat",[YE]:"fire-vertex","fire-js":"fire-js",[XE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Map,tC=new Map,yc=new Map;function Qp(n,e){try{n.container.addComponent(e)}catch(r){Sn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function pl(n){const e=n.name;if(yc.has(e))return Sn.debug(`There were multiple attempts to register component ${e}.`),!1;yc.set(e,n);for(const r of hl.values())Qp(r,n);for(const r of tC.values())Qp(r,n);return!0}function nC(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new gg("app","Firebase",rC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=ZE;function Eg(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:gc,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Yn.create("bad-app-name",{appName:String(l)});if(r||(r=hg()),!r)throw Yn.create("no-options");const u=hl.get(l);if(u){if(fc(r,u.options)&&fc(s,u.config))return u;throw Yn.create("duplicate-app",{appName:l})}const c=new uE(l);for(const p of yc.values())c.addComponent(p);const h=new iC(r,s,c);return hl.set(l,h),h}function oC(n=gc){const e=hl.get(n);if(!e&&n===gc&&hg())return Eg();if(!e)throw Yn.create("no-app",{appName:n});return e}function ti(n,e,r){var s;let l=(s=eC[n])!==null&&s!==void 0?s:n;r&&(l+=`-${r}`);const u=l.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sn.warn(h.join(" "));return}pl(new _s(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebase-heartbeat-database",aC=1,vs="firebase-heartbeat-store";let Ju=null;function Cg(){return Ju||(Ju=CE(lC,aC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vs)}catch(r){console.warn(r)}}}}).catch(n=>{throw Yn.create("idb-open",{originalErrorMessage:n.message})})),Ju}async function uC(n){try{const r=(await Cg()).transaction(vs),s=await r.objectStore(vs).get(Sg(n));return await r.done,s}catch(e){if(e instanceof Ls)Sn.warn(e.message);else{const r=Yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sn.warn(r.message)}}}async function Gp(n,e){try{const s=(await Cg()).transaction(vs,"readwrite");await s.objectStore(vs).put(e,Sg(n)),await s.done}catch(r){if(r instanceof Ls)Sn.warn(r.message);else{const s=Yn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Sn.warn(s.message)}}}function Sg(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=1024,dC=30*24*60*60*1e3;class fC{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new pC(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Kp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=dC}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Sn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Kp(),{heartbeatsToSend:s,unsentEntries:l}=hC(this._heartbeatsCache.heartbeats),u=dl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Sn.warn(r),""}}}function Kp(){return new Date().toISOString().substring(0,10)}function hC(n,e=cC){const r=[];let s=n.slice();for(const l of n){const u=r.find(c=>c.agent===l.agent);if(u){if(u.dates.push(l.date),Yp(r)>e){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Yp(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class pC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yw()?Jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await uC(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Gp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Gp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Yp(n){return dl(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n){pl(new _s("platform-logger",e=>new kE(e),"PRIVATE")),pl(new _s("heartbeat",e=>new fC(e),"PRIVATE")),ti(mc,Vp,n),ti(mc,Vp,"esm2017"),ti("fire-js","")}mC("");var gC="firebase",yC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(gC,yC,"app");var Jp={};const Xp="@firebase/database",Zp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg="";function _C(n){xg=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:ys(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vC(e)}}catch{}return new wC},_r=kg("localStorage"),EC=kg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new _g("@firebase/database"),CC=function(){let n=1;return function(){return n++}}(),Tg=function(n){const e=sE(n),r=new iE;r.update(e);const s=r.digest();return $c.encodeByteArray(s)},Ms=function(...n){let e="";for(let r=0;r<n.length;r++){const s=n[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ms.apply(null,s):typeof s=="object"?e+=Ke(s):e+=s,e+=" "}return e};let ds=null,em=!0;const SC=function(n,e){W(!e,"Can't turn on custom loggers persistently."),ni.logLevel=Re.VERBOSE,ds=ni.log.bind(ni)},it=function(...n){if(em===!0&&(em=!1,ds===null&&EC.get("logging_enabled")===!0&&SC()),ds){const e=Ms.apply(null,n);ds(e)}},Fs=function(n){return function(...e){it(n,...e)}},_c=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ms(...n);ni.error(e)},xn=function(...n){const e=`FIREBASE FATAL ERROR: ${Ms(...n)}`;throw ni.error(e),new Error(e)},pt=function(...n){const e="FIREBASE WARNING: "+Ms(...n);ni.warn(e)},xC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hc=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},kC=function(n){if(document.readyState==="complete")n();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},si="[MIN_NAME]",Er="[MAX_NAME]",Tr=function(n,e){if(n===e)return 0;if(n===si||e===Er)return-1;if(e===si||n===Er)return 1;{const r=tm(n),s=tm(e);return r!==null?s!==null?r-s===0?n.length-e.length:r-s:-1:s!==null?1:n<e?-1:1}},TC=function(n,e){return n===e?0:n<e?-1:1},os=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ke(e))},qc=function(n){if(typeof n!="object"||n===null)return Ke(n);const e=[];for(const s in n)e.push(s);e.sort();let r="{";for(let s=0;s<e.length;s++)s!==0&&(r+=","),r+=Ke(e[s]),r+=":",r+=qc(n[e[s]]);return r+="}",r},Rg=function(n,e){const r=n.length;if(r<=e)return[n];const s=[];for(let l=0;l<r;l+=e)l+e>r?s.push(n.substring(l,r)):s.push(n.substring(l,l+e));return s};function st(n,e){for(const r in n)n.hasOwnProperty(r)&&e(r,n[r])}const Ng=function(n){W(!Hc(n),"Invalid JSON number");const e=11,r=52,s=(1<<e-1)-1;let l,u,c,h,p;n===0?(u=0,c=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=h+s,c=Math.round(n*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,c=Math.round(n/Math.pow(2,1-s-r))));const m=[];for(p=r;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const y=m.join("");let _="";for(p=0;p<64;p+=8){let v=parseInt(y.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},RC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},NC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function IC(n,e){let r="Unknown Error";n==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?r="Client doesn't have permission to access the desired data.":n==="unavailable"&&(r="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+r);return s.code=n.toUpperCase(),s}const PC=new RegExp("^-?(0*)\\d{1,10}$"),OC=-2147483648,AC=2147483647,tm=function(n){if(PC.test(n)){const e=Number(n);if(e>=OC&&e<=AC)return e}return null},hi=function(n){try{n()}catch(e){setTimeout(()=>{const r=e.stack||"";throw pt("Exception was thrown by user callback.",r),e},Math.floor(0))}},DC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fs=function(n,e){const r=setTimeout(n,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,r,s){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(it("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pt(e)}}class ol{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ol.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="5",Ig="v",Pg="s",Og="r",Ag="f",Dg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Lg="ls",Mg="p",vc="ac",Fg="websocket",bg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,r,s,l,u=!1,c="",h=!1,p=!1){this.secure=r,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_r.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_r.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function FC(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function zg(n,e,r){W(typeof e=="string","typeof type must == string"),W(typeof r=="object","typeof params must == object");let s;if(e===Fg)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===bg)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);FC(n)&&(r.ns=n.namespace);const l=[];return st(r,(u,c)=>{l.push(u+"="+c)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.counters_={}}incrementCounter(e,r=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return zw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu={},Zu={};function Qc(n){const e=n.toString();return Xu[e]||(Xu[e]=new bC),Xu[e]}function jC(n,e){const r=n.toString();return Zu[r]||(Zu[r]=e()),Zu[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&hi(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="start",UC="close",BC="pLPCommand",$C="pRTLPCB",Ug="id",Bg="pw",$g="ser",WC="cb",HC="seg",qC="ts",VC="d",QC="dframe",Wg=1870,Hg=30,GC=Wg-Hg,KC=25e3,YC=3e4;class ei{constructor(e,r,s,l,u,c,h){this.connId=e,this.repoInfo=r,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fs(e),this.stats_=Qc(r),this.urlFn=p=>(this.appCheckToken&&(p[vc]=this.appCheckToken),zg(r,bg,p))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new zC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(YC)),kC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gc((...u)=>{const[c,h,p,m,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===nm)this.id=h,this.password=p;else if(c===UC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[nm]="t",s[$g]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[WC]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Ig]=Vc,this.transportSessionId&&(s[Pg]=this.transportSessionId),this.lastSessionId&&(s[Lg]=this.lastSessionId),this.applicationId&&(s[Mg]=this.applicationId),this.appCheckToken&&(s[vc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Dg.test(location.hostname)&&(s[Og]=Ag);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ei.forceAllow_=!0}static forceDisallow(){ei.forceDisallow_=!0}static isAvailable(){return ei.forceAllow_?!0:!ei.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!RC()&&!NC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Ke(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=cg(r),l=Rg(s,GC);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const s={};s[QC]="t",s[Ug]=e,s[Bg]=r,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Ke(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Gc{constructor(e,r,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=CC(),window[BC+this.uniqueCallbackIdentifier]=e,window[$C+this.uniqueCallbackIdentifier]=r,this.myIFrame=Gc.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){it("frame writing exception"),h.stack&&it(h.stack),it(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||it("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ug]=this.myID,e[Bg]=this.myPW,e[$g]=this.currentSerial;let r=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Hg+s.length<=Wg;){const c=this.pendingSegs.shift();s=s+"&"+HC+l+"="+c.seg+"&"+qC+l+"="+c.ts+"&"+VC+l+"="+c.d,l++}return r=r+s,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,s){this.pendingSegs.push({seg:e,ts:r,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const s=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(s,Math.floor(KC)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=()=>{it("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=16384,XC=45e3;let ml=null;typeof MozWebSocket<"u"?ml=MozWebSocket:typeof WebSocket<"u"&&(ml=WebSocket);class Kt{constructor(e,r,s,l,u,c,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fs(this.connId),this.stats_=Qc(r),this.connURL=Kt.connectionURL_(r,c,h,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,l,u){const c={};return c[Ig]=Vc,typeof location<"u"&&location.hostname&&Dg.test(location.hostname)&&(c[Og]=Ag),r&&(c[Pg]=r),s&&(c[Lg]=s),l&&(c[vc]=l),u&&(c[Mg]=u),zg(e,Fg,c)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_r.set("previous_websocket_failure",!0);try{let s;mg(),this.mySock=new ml(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(r);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&ml!==null&&!Kt.forceDisallow_}static previouslyFailed(){return _r.isInMemoryStorage||_r.get("previous_websocket_failure")===!0}markConnectionHealthy(){_r.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=ys(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=Ke(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=Rg(r,JC);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(XC))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static get ALL_TRANSPORTS(){return[ei,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=Kt&&Kt.isAvailable();let s=r&&!Kt.previouslyFailed();if(e.webSocketOnly&&(r||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Kt];else{const l=this.transports_=[];for(const u of ws.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);ws.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ws.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=6e4,eS=5e3,tS=10*1024,nS=100*1024,ec="t",rm="d",rS="s",im="r",iS="e",sm="o",om="a",lm="n",am="p",sS="h";class oS{constructor(e,r,s,l,u,c,h,p,m,y){this.id=e,this.repoInfo_=r,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fs("c:"+this.id+":"),this.transportManager_=new ws(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=fs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>nS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>tS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ec in e){const r=e[ec];r===om?this.upgradeIfSecondaryHealthy_():r===im?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===sm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=os("t",e),s=os("d",e);if(r==="c")this.onSecondaryControl_(s);else if(r==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:am,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:om,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=os("t",e),s=os("d",e);r==="c"?this.onControl_(s):r==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=os(ec,e);if(rm in e){const s=e[rm];if(r===sS){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===lm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===rS?this.onConnectionShutdown_(s):r===im?this.onReset_(s):r===iS?_c("Server Error: "+s):r===sm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_c("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Vc!==s&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),fs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ZC))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(eS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:am,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_r.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{put(e,r,s,l){}merge(e,r,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,s){}onDisconnectMerge(e,r,s){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,r)}}on(e,r,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:s});const l=this.getInitialEvent(e);l&&r.apply(s,l)}off(e,r,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===r&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){W(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Vg{static getInstance(){return new gl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=32,cm=768;class Se{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function ve(){return new Se("")}function pe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function er(n){return n.pieces_.length-n.pieceNum_}function Ne(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Se(n.pieces_,e)}function Kc(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function lS(n){let e="";for(let r=n.pieceNum_;r<n.pieces_.length;r++)n.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[r])));return e||"/"}function Es(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Qg(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let r=n.pieceNum_;r<n.pieces_.length-1;r++)e.push(n.pieces_[r]);return new Se(e,0)}function je(n,e){const r=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)r.push(n.pieces_[s]);if(e instanceof Se)for(let s=e.pieceNum_;s<e.pieces_.length;s++)r.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&r.push(s[l])}return new Se(r,0)}function he(n){return n.pieceNum_>=n.pieces_.length}function ht(n,e){const r=pe(n),s=pe(e);if(r===null)return e;if(r===s)return ht(Ne(n),Ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function aS(n,e){const r=Es(n,0),s=Es(e,0);for(let l=0;l<r.length&&l<s.length;l++){const u=Tr(r[l],s[l]);if(u!==0)return u}return r.length===s.length?0:r.length<s.length?-1:1}function Gg(n,e){if(er(n)!==er(e))return!1;for(let r=n.pieceNum_,s=e.pieceNum_;r<=n.pieces_.length;r++,s++)if(n.pieces_[r]!==e.pieces_[s])return!1;return!0}function zt(n,e){let r=n.pieceNum_,s=e.pieceNum_;if(er(n)>er(e))return!1;for(;r<n.pieces_.length;){if(n.pieces_[r]!==e.pieces_[s])return!1;++r,++s}return!0}class uS{constructor(e,r){this.errorPrefix_=r,this.parts_=Es(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Al(this.parts_[s]);Kg(this)}}function cS(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Al(e),Kg(n)}function dS(n){const e=n.parts_.pop();n.byteLength_-=Al(e),n.parts_.length>0&&(n.byteLength_-=1)}function Kg(n){if(n.byteLength_>cm)throw new Error(n.errorPrefix_+"has a key path longer than "+cm+" bytes ("+n.byteLength_+").");if(n.parts_.length>um)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+um+") or object contains a cycle "+yr(n))}function yr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Vg{static getInstance(){return new Yc}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=1e3,fS=60*5*1e3,dm=30*1e3,hS=1.3,pS=3e4,mS="server_kill",fm=3;class En extends qg{constructor(e,r,s,l,u,c,h,p){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=En.nextPersistentConnectionId_++,this.log_=Fs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ls,this.maxReconnectDelay_=fS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!mg())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const l=++this.requestNumber_,u={r:l,a:e,b:r};this.log_(Ke(u)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const r=new Ds,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(e,r,s,l){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:e,tag:s};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},c="q";e.tag&&(u.q=r._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const p=h.d,m=h.s;En.warnOnListenWarnings_(p,r),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&un(e,"w")){const s=ii(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||nE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=tE(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(r,s,l=>{const u=l.s,c=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,r)}sendUnlisten_(e,r,s,l){this.log_("Unlisten on "+e+" for "+r);const u={p:e},c="n";l&&(u.q=s,u.t=l),this.sendRequest(c,u)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,l){const u={p:r,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{l&&setTimeout(()=>{l(c.s,c.d)},Math.floor(0))})}put(e,r,s,l){this.putInternal("p",e,r,s,l)}merge(e,r,s,l){this.putInternal("m",e,r,s,l)}putInternal(e,r,s,l,u){this.initConnection_();const c={p:r,d:s};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):_c("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pS&&(this.reconnectDelay_=ls),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+En.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const p=function(){h?h.close():(c=!0,s())},m=function(_){W(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?it("getToken() completed but was canceled"):(it("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,h=new oS(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,s,x=>{pt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(mS)},u))}catch(_){this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&pt(_),p())}}}interrupt(e){it("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){it("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bp(this.interruptReasons_)&&(this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;r?s=r.map(u=>qc(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const s=new Se(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(r),u.delete(r),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,r){it("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fm&&(this.reconnectDelay_=dm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){it("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+xg.replace(/\./g,"-")]=1,pg()?e["framework.cordova"]=1:Kw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gl.getInstance().currentlyOnline();return Bp(this.interruptReasons_)&&e}}En.nextPersistentConnectionId_=0;En.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new ce(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const s=new ce(si,e),l=new ce(si,r);return this.compare(s,l)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;class Yg extends Dl{static get __EMPTY_NODE(){return nl}static set __EMPTY_NODE(e){nl=e}compare(e,r){return Tr(e.name,r.name)}isDefinedOn(e){throw fi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return ce.MIN}maxPost(){return new ce(Er,nl)}makePost(e,r){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,nl)}toString(){return".key"}}const ri=new Yg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,r,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=r?s(e.key,r):1,l&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class et{constructor(e,r,s,l,u){this.key=e,this.value=r,this.color=s??et.RED,this.left=l??St.EMPTY_NODE,this.right=u??St.EMPTY_NODE}copy(e,r,s,l,u){return new et(e??this.key,r??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,r,s),null):u===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return St.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,l;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),r(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}et.RED=!0;et.BLACK=!1;class gS{copy(e,r,s,l,u){return this}insert(e,r,s){return new et(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class St{constructor(e,r=St.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new St(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,et.BLACK,null,null))}remove(e){return new St(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,et.BLACK,null,null))}get(e){let r,s=this.root_;for(;!s.isEmpty();){if(r=this.comparator_(e,s.key),r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}getPredecessorKey(e){let r,s=this.root_,l=null;for(;!s.isEmpty();)if(r=this.comparator_(e,s.key),r===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else r<0?s=s.left:r>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new rl(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new rl(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new rl(this.root_,null,this.comparator_,!0,e)}}St.EMPTY_NODE=new gS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n,e){return Tr(n.name,e.name)}function Jc(n,e){return Tr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc;function _S(n){wc=n}const Jg=function(n){return typeof n=="number"?"number:"+Ng(n):"string:"+n},Xg=function(n){if(n.isLeafNode()){const e=n.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else W(n===wc||n.isEmpty(),"priority of unexpected type.");W(n===wc||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm;class Ze{static set __childrenNodeConstructor(e){hm=e}static get __childrenNodeConstructor(){return hm}constructor(e,r=Ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Xg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ze(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:pe(e)===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=pe(e);return s===null?r:r.isEmpty()&&s!==".priority"?this:(W(s!==".priority"||er(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Jg(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=Ng(this.value_):e+=this.value_,this.lazyHash_=Tg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ze.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ze.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,l=Ze.VALUE_TYPE_ORDER.indexOf(r),u=Ze.VALUE_TYPE_ORDER.indexOf(s);return W(l>=0,"Unknown leaf type: "+r),W(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg,ey;function vS(n){Zg=n}function wS(n){ey=n}class ES extends Dl{compare(e,r){const s=e.node.getPriority(),l=r.node.getPriority(),u=s.compareTo(l);return u===0?Tr(e.name,r.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(Er,new Ze("[PRIORITY-POST]",ey))}makePost(e,r){const s=Zg(e);return new ce(r,new Ze("[PRIORITY-POST]",s))}toString(){return".priority"}}const ze=new ES;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=Math.log(2);class SS{constructor(e){const r=u=>parseInt(Math.log(u)/CS,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yl=function(n,e,r,s){n.sort(e);const l=function(p,m){const y=m-p;let _,v;if(y===0)return null;if(y===1)return _=n[p],v=r?r(_):_,new et(v,_.node,et.BLACK,null,null);{const x=parseInt(y/2,10)+p,E=l(p,x),N=l(x+1,m);return _=n[x],v=r?r(_):_,new et(v,_.node,et.BLACK,E,N)}},u=function(p){let m=null,y=null,_=n.length;const v=function(E,N){const R=_-E,D=_;_-=E;const M=l(R+1,D),z=n[R],$=r?r(z):z;x(new et($,z.node,N,null,M))},x=function(E){m?(m.left=E,m=E):(y=E,m=E)};for(let E=0;E<p.count;++E){const N=p.nextBitIsOne(),R=Math.pow(2,p.count-(E+1));N?v(R,et.BLACK):(v(R,et.BLACK),v(R,et.RED))}return y},c=new SS(n.length),h=u(c);return new St(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;const Zr={};class _n{static get Default(){return W(Zr&&ze,"ChildrenNode.ts has not been loaded"),tc=tc||new _n({".priority":Zr},{".priority":ze}),tc}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=ii(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof St?r:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,r){W(e!==ri,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=r.getIterator(ce.Wrap);let c=u.getNext();for(;c;)l=l||e.isDefinedOn(c.node),s.push(c),c=u.getNext();let h;l?h=yl(s,e.getCompare()):h=Zr;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const y=Object.assign({},this.indexes_);return y[p]=h,new _n(y,m)}addToIndexes(e,r){const s=fl(this.indexes_,(l,u)=>{const c=ii(this.indexSet_,u);if(W(c,"Missing index implementation for "+u),l===Zr)if(c.isDefinedOn(e.node)){const h=[],p=r.getIterator(ce.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),yl(h,c.getCompare())}else return Zr;else{const h=r.get(e.name);let p=l;return h&&(p=p.remove(new ce(e.name,h))),p.insert(e,e.node)}});return new _n(s,this.indexSet_)}removeFromIndexes(e,r){const s=fl(this.indexes_,l=>{if(l===Zr)return l;{const u=r.get(e.name);return u?l.remove(new ce(e.name,u)):l}});return new _n(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as;class re{static get EMPTY_NODE(){return as||(as=new re(new St(Jc),null,_n.Default))}constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Xg(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||as}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?as:r}}getChild(e){const r=pe(e);return r===null?this:this.getImmediateChild(r).getChild(Ne(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(W(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const s=new ce(e,r);let l,u;r.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,r),u=this.indexMap_.addToIndexes(s,this.children_));const c=l.isEmpty()?as:this.priorityNode_;return new re(l,c,u)}}updateChild(e,r){const s=pe(e);if(s===null)return r;{W(pe(e)!==".priority"||er(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ne(e),r);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,l=0,u=!0;if(this.forEachChild(ze,(c,h)=>{r[c]=h.val(e),s++,u&&re.INTEGER_REGEXP_.test(c)?l=Math.max(l,Number(c)):u=!1}),!e&&u&&l<2*s){const c=[];for(const h in r)c[h]=r[h];return c}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Jg(this.getPriority().val())+":"),this.forEachChild(ze,(r,s)=>{const l=s.hash();l!==""&&(e+=":"+r+":"+l)}),this.lazyHash_=e===""?"":Tg(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new ce(e,r));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new ce(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new ce(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,ce.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bs?-1:0}withIndex(e){if(e===ri||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===ri||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const s=this.getIterator(ze),l=r.getIterator(ze);let u=s.getNext(),c=l.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=s.getNext(),c=l.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===ri?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xS extends re{constructor(){super(new St(Jc),re.EMPTY_NODE,_n.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const bs=new xS;Object.defineProperties(ce,{MIN:{value:new ce(si,re.EMPTY_NODE)},MAX:{value:new ce(Er,bs)}});Yg.__EMPTY_NODE=re.EMPTY_NODE;Ze.__childrenNodeConstructor=re;_S(bs);wS(bs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=!0;function Ge(n,e=null){if(n===null)return re.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const r=n;return new Ze(r,Ge(e))}if(!(n instanceof Array)&&kS){const r=[];let s=!1;if(st(n,(c,h)=>{if(c.substring(0,1)!=="."){const p=Ge(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),r.push(new ce(c,p)))}}),r.length===0)return re.EMPTY_NODE;const u=yl(r,yS,c=>c.name,Jc);if(s){const c=yl(r,ze.getCompare());return new re(u,Ge(e),new _n({".priority":c},{".priority":ze}))}else return new re(u,Ge(e),_n.Default)}else{let r=re.EMPTY_NODE;return st(n,(s,l)=>{if(un(n,s)&&s.substring(0,1)!=="."){const u=Ge(l);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(s,u))}}),r.updatePriority(Ge(e))}}vS(Ge);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS extends Dl{constructor(e){super(),this.indexPath_=e,W(!he(e)&&pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const s=this.extractChild(e.node),l=this.extractChild(r.node),u=s.compareTo(l);return u===0?Tr(e.name,r.name):u}makePost(e,r){const s=Ge(e),l=re.EMPTY_NODE.updateChild(this.indexPath_,s);return new ce(r,l)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,bs);return new ce(Er,e)}toString(){return Es(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends Dl{compare(e,r){const s=e.node.compareTo(r.node);return s===0?Tr(e.name,r.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,r){const s=Ge(e);return new ce(r,s)}toString(){return".value"}}const NS=new RS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(n){return{type:"value",snapshotNode:n}}function oi(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Cs(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ss(n,e,r){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:r}}function IS(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.index_=e}updateChild(e,r,s,l,u,c){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(r);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(r)?c.trackChildChange(Cs(r,h)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(oi(r,s)):c.trackChildChange(Ss(r,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(r,s).withIndex(this.index_)}updateFullNode(e,r,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ze,(l,u)=>{r.hasChild(l)||s.trackChildChange(Cs(l,u))}),r.isLeafNode()||r.forEachChild(ze,(l,u)=>{if(e.hasChild(l)){const c=e.getImmediateChild(l);c.equals(u)||s.trackChildChange(Ss(l,u,c))}else s.trackChildChange(oi(l,u))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.indexedFilter_=new Xc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=xs.getStartPost_(e),this.endPost_=xs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&s}updateChild(e,r,s,l,u,c){return this.matches(new ce(r,s))||(s=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,s,l,u,c)}updateFullNode(e,r,s){r.isLeafNode()&&(r=re.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(re.EMPTY_NODE);const u=this;return r.forEachChild(ze,(c,h)=>{u.matches(new ce(c,h))||(l=l.updateImmediateChild(c,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=r=>{const s=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new xs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,s,l,u,c){return this.rangedFilter_.matches(new ce(r,s))||(s=re.EMPTY_NODE),e.getImmediateChild(r).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,s,l,u,c):this.fullLimitUpdateChild_(e,r,s,u,c)}updateFullNode(e,r,s){let l;if(r.isLeafNode()||r.isEmpty())l=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=re.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(re.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:l=l.updateImmediateChild(h.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,s,l,u){let c;if(this.reverse_){const _=this.index_.getCompare();c=(v,x)=>_(x,v)}else c=this.index_.getCompare();const h=e;W(h.numChildren()===this.limit_,"");const p=new ce(r,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(h.hasChild(r)){const _=h.getImmediateChild(r);let v=l.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===r||h.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const x=v==null?1:c(v,p);if(y&&!s.isEmpty()&&x>=0)return u!=null&&u.trackChildChange(Ss(r,s,_)),h.updateImmediateChild(r,s);{u!=null&&u.trackChildChange(Cs(r,_));const N=h.updateImmediateChild(r,re.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(oi(v.name,v.node)),N.updateImmediateChild(v.name,v.node)):N}}else return s.isEmpty()?e:y&&c(m,p)>=0?(u!=null&&(u.trackChildChange(Cs(m.name,m.node)),u.trackChildChange(oi(r,s))),h.updateImmediateChild(r,s).updateImmediateChild(m.name,re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:si}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Er}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const e=new Zc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function OS(n){return n.loadsAllData()?new Xc(n.getIndex()):n.hasLimit()?new PS(n):new xs(n)}function pm(n){const e={};if(n.isDefault())return e;let r;if(n.index_===ze?r="$priority":n.index_===NS?r="$value":n.index_===ri?r="$key":(W(n.index_ instanceof TS,"Unrecognized index type!"),r=n.index_.toString()),e.orderBy=Ke(r),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Ke(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Ke(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Ke(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Ke(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function mm(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let r=n.viewFrom_;r===""&&(n.isViewFromLeft()?r="l":r="r"),e.vf=r}return n.index_!==ze&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends qg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Fs("p:rest:"),this.listens_={}}listen(e,r,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=_l.getListenId_(e,s),h={};this.listens_[c]=h;const p=pm(e._queryParams);this.restRequest_(u+".json",p,(m,y)=>{let _=y;if(m===404&&(_=null,m=null),m===null&&this.onDataUpdate_(u,_,!1,s),ii(this.listens_,c)===h){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",l(v,null)}})}unlisten(e,r){const s=_l.getListenId_(e,r);delete this.listens_[s]}get(e){const r=pm(e._queryParams),s=e._path.toString(),l=new Ds;return this.restRequest_(s+".json",r,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,r={},s){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+rE(r);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=ys(h.responseText)}catch{pt("Failed to parse JSON response for "+c+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&pt("Got unsuccessful REST response for "+c+" Status: "+h.status),s(h.status);s=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(){return{value:null,children:new Map}}function ny(n,e,r){if(he(e))n.value=r,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,r);else{const s=pe(e);n.children.has(s)||n.children.set(s,vl());const l=n.children.get(s);e=Ne(e),ny(l,e,r)}}function Ec(n,e,r){n.value!==null?r(e,n.value):DS(n,(s,l)=>{const u=new Se(e.toString()+"/"+s);Ec(l,u,r)})}function DS(n,e){n.children.forEach((r,s)=>{e(s,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&st(this.last_,(s,l)=>{r[s]=r[s]-l}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=10*1e3,MS=30*1e3,FS=5*60*1e3;class bS{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new LS(e);const s=gm+(MS-gm)*Math.random();fs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),r={};let s=!1;st(e,(l,u)=>{u>0&&un(this.statsToReport_,l)&&(r[l]=u,s=!0)}),s&&this.server_.reportStats(r),fs(this.reportStats_.bind(this),Math.floor(Math.random()*2*FS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yt||(Yt={}));function ed(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function td(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nd(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,r,s){this.path=e,this.affectedTree=r,this.revert=s,this.type=Yt.ACK_USER_WRITE,this.source=ed()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Se(e));return new wl(ve(),r,this.revert)}}else return W(pe(this.path)===e,"operationForChild called for unrelated child."),new wl(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,r){this.source=e,this.path=r,this.type=Yt.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new ks(this.source,ve()):new ks(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,r,s){this.source=e,this.path=r,this.snap=s,this.type=Yt.OVERWRITE}operationForChild(e){return he(this.path)?new Cr(this.source,ve(),this.snap.getImmediateChild(e)):new Cr(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,r,s){this.source=e,this.path=r,this.children=s,this.type=Yt.MERGE}operationForChild(e){if(he(this.path)){const r=this.children.subtree(new Se(e));return r.isEmpty()?null:r.value?new Cr(this.source,ve(),r.value):new li(this.source,ve(),r)}else return W(pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new li(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,r,s){this.node_=e,this.fullyInitialized_=r,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const r=pe(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function zS(n,e,r,s){const l=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(IS(c.childName,c.snapshotNode))}),us(n,l,"child_removed",e,s,r),us(n,l,"child_added",e,s,r),us(n,l,"child_moved",u,s,r),us(n,l,"child_changed",e,s,r),us(n,l,"value",e,s,r),l}function us(n,e,r,s,l,u){const c=s.filter(h=>h.type===r);c.sort((h,p)=>BS(n,h,p)),c.forEach(h=>{const p=US(n,h,u);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,n.query_))})})}function US(n,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function BS(n,e,r){if(e.childName==null||r.childName==null)throw fi("Should only compare child_ events.");const s=new ce(e.childName,e.snapshotNode),l=new ce(r.childName,r.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n,e){return{eventCache:n,serverCache:e}}function hs(n,e,r,s){return Ll(new tr(e,r,s),n.serverCache)}function ry(n,e,r,s){return Ll(n.eventCache,new tr(e,r,s))}function El(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc;const $S=()=>(nc||(nc=new St(TC)),nc);class Te{static fromObject(e){let r=new Te(null);return st(e,(s,l)=>{r=r.set(new Se(s),l)}),r}constructor(e,r=$S()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:ve(),value:this.value};if(he(e))return null;{const s=pe(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Ne(e),r);return u!=null?{path:je(new Se(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const r=pe(e),s=this.children.get(r);return s!==null?s.subtree(Ne(e)):new Te(null)}}set(e,r){if(he(e))return new Te(r,this.children);{const s=pe(e),u=(this.children.get(s)||new Te(null)).set(Ne(e),r),c=this.children.insert(s,u);return new Te(this.value,c)}}remove(e){if(he(e))return this.children.isEmpty()?new Te(null):new Te(null,this.children);{const r=pe(e),s=this.children.get(r);if(s){const l=s.remove(Ne(e));let u;return l.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,l),this.value===null&&u.isEmpty()?new Te(null):new Te(this.value,u)}else return this}}get(e){if(he(e))return this.value;{const r=pe(e),s=this.children.get(r);return s?s.get(Ne(e)):null}}setTree(e,r){if(he(e))return r;{const s=pe(e),u=(this.children.get(s)||new Te(null)).setTree(Ne(e),r);let c;return u.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,u),new Te(this.value,c)}}fold(e){return this.fold_(ve(),e)}fold_(e,r){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(je(e,l),r)}),r(e,this.value,s)}findOnPath(e,r){return this.findOnPath_(e,ve(),r)}findOnPath_(e,r,s){const l=this.value?s(r,this.value):!1;if(l)return l;if(he(e))return null;{const u=pe(e),c=this.children.get(u);return c?c.findOnPath_(Ne(e),je(r,u),s):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,ve(),r)}foreachOnPath_(e,r,s){if(he(e))return this;{this.value&&s(r,this.value);const l=pe(e),u=this.children.get(l);return u?u.foreachOnPath_(Ne(e),je(r,l),s):new Te(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,r){this.children.inorderTraversal((s,l)=>{l.foreach_(je(e,s),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,s)=>{s.value&&e(r,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.writeTree_=e}static empty(){return new Jt(new Te(null))}}function ps(n,e,r){if(he(e))return new Jt(new Te(r));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const c=ht(l,e);return u=u.updateChild(c,r),new Jt(n.writeTree_.set(l,u))}else{const l=new Te(r),u=n.writeTree_.setTree(e,l);return new Jt(u)}}}function Cc(n,e,r){let s=n;return st(r,(l,u)=>{s=ps(s,je(e,l),u)}),s}function ym(n,e){if(he(e))return Jt.empty();{const r=n.writeTree_.setTree(e,new Te(null));return new Jt(r)}}function Sc(n,e){return Rr(n,e)!=null}function Rr(n,e){const r=n.writeTree_.findRootMostValueAndPath(e);return r!=null?n.writeTree_.get(r.path).getChild(ht(r.path,e)):null}function _m(n){const e=[],r=n.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(ze,(s,l)=>{e.push(new ce(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new ce(s,l.value))}),e}function Jn(n,e){if(he(e))return n;{const r=Rr(n,e);return r!=null?new Jt(new Te(r)):new Jt(n.writeTree_.subtree(e))}}function xc(n){return n.writeTree_.isEmpty()}function ai(n,e){return iy(ve(),n.writeTree_,e)}function iy(n,e,r){if(e.value!=null)return r.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(W(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):r=iy(je(n,l),u,r)}),!r.getChild(n).isEmpty()&&s!==null&&(r=r.updateChild(je(n,".priority"),s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n,e){return ay(e,n)}function WS(n,e,r,s,l){W(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:r,writeId:s,visible:l}),l&&(n.visibleWrites=ps(n.visibleWrites,e,r)),n.lastWriteId=s}function HS(n,e,r,s){W(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:r,writeId:s,visible:!0}),n.visibleWrites=Cc(n.visibleWrites,e,r),n.lastWriteId=s}function qS(n,e){for(let r=0;r<n.allWrites.length;r++){const s=n.allWrites[r];if(s.writeId===e)return s}return null}function VS(n,e){const r=n.allWrites.findIndex(h=>h.writeId===e);W(r>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[r];n.allWrites.splice(r,1);let l=s.visible,u=!1,c=n.allWrites.length-1;for(;l&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=r&&QS(h,s.path)?l=!1:zt(s.path,h.path)&&(u=!0)),c--}if(l){if(u)return GS(n),!0;if(s.snap)n.visibleWrites=ym(n.visibleWrites,s.path);else{const h=s.children;st(h,p=>{n.visibleWrites=ym(n.visibleWrites,je(s.path,p))})}return!0}else return!1}function QS(n,e){if(n.snap)return zt(n.path,e);for(const r in n.children)if(n.children.hasOwnProperty(r)&&zt(je(n.path,r),e))return!0;return!1}function GS(n){n.visibleWrites=sy(n.allWrites,KS,ve()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function KS(n){return n.visible}function sy(n,e,r){let s=Jt.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const c=u.path;let h;if(u.snap)zt(r,c)?(h=ht(r,c),s=ps(s,h,u.snap)):zt(c,r)&&(h=ht(c,r),s=ps(s,ve(),u.snap.getChild(h)));else if(u.children){if(zt(r,c))h=ht(r,c),s=Cc(s,h,u.children);else if(zt(c,r))if(h=ht(c,r),he(h))s=Cc(s,ve(),u.children);else{const p=ii(u.children,pe(h));if(p){const m=p.getChild(Ne(h));s=ps(s,ve(),m)}}}else throw fi("WriteRecord should have .snap or .children")}}return s}function oy(n,e,r,s,l){if(!s&&!l){const u=Rr(n.visibleWrites,e);if(u!=null)return u;{const c=Jn(n.visibleWrites,e);if(xc(c))return r;if(r==null&&!Sc(c,ve()))return null;{const h=r||re.EMPTY_NODE;return ai(c,h)}}}else{const u=Jn(n.visibleWrites,e);if(!l&&xc(u))return r;if(!l&&r==null&&!Sc(u,ve()))return null;{const c=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(zt(m.path,e)||zt(e,m.path))},h=sy(n.allWrites,c,e),p=r||re.EMPTY_NODE;return ai(h,p)}}}function YS(n,e,r){let s=re.EMPTY_NODE;const l=Rr(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(ze,(u,c)=>{s=s.updateImmediateChild(u,c)}),s;if(r){const u=Jn(n.visibleWrites,e);return r.forEachChild(ze,(c,h)=>{const p=ai(Jn(u,new Se(c)),h);s=s.updateImmediateChild(c,p)}),_m(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const u=Jn(n.visibleWrites,e);return _m(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function JS(n,e,r,s,l){W(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=je(e,r);if(Sc(n.visibleWrites,u))return null;{const c=Jn(n.visibleWrites,u);return xc(c)?l.getChild(r):ai(c,l.getChild(r))}}function XS(n,e,r,s){const l=je(e,r),u=Rr(n.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(r)){const c=Jn(n.visibleWrites,l);return ai(c,s.getNode().getImmediateChild(r))}else return null}function ZS(n,e){return Rr(n.visibleWrites,e)}function e1(n,e,r,s,l,u,c){let h;const p=Jn(n.visibleWrites,e),m=Rr(p,ve());if(m!=null)h=m;else if(r!=null)h=ai(p,r);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const y=[],_=c.getCompare(),v=u?h.getReverseIteratorFrom(s,c):h.getIteratorFrom(s,c);let x=v.getNext();for(;x&&y.length<l;)_(x,s)!==0&&y.push(x),x=v.getNext();return y}else return[]}function t1(){return{visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1}}function Cl(n,e,r,s){return oy(n.writeTree,n.treePath,e,r,s)}function rd(n,e){return YS(n.writeTree,n.treePath,e)}function vm(n,e,r,s){return JS(n.writeTree,n.treePath,e,r,s)}function Sl(n,e){return ZS(n.writeTree,je(n.treePath,e))}function n1(n,e,r,s,l,u){return e1(n.writeTree,n.treePath,e,r,s,l,u)}function id(n,e,r){return XS(n.writeTree,n.treePath,e,r)}function ly(n,e){return ay(je(n.treePath,e),n.writeTree)}function ay(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,s=e.childName;W(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),W(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(s,Ss(s,e.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(s,Cs(s,l.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(s,oi(s,e.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(s,Ss(s,e.snapshotNode,l.oldSnap));else throw fi("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{getCompleteChild(e){return null}getChildAfterChild(e,r,s){return null}}const uy=new i1;class sd{constructor(e,r,s=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=s}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new tr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return id(this.writes_,e,s)}}getChildAfterChild(e,r,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sr(this.viewCache_),u=n1(this.writes_,l,r,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n){return{filter:n}}function o1(n,e){W(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function l1(n,e,r,s,l){const u=new r1;let c,h;if(r.type===Yt.OVERWRITE){const m=r;m.source.fromUser?c=kc(n,e,m.path,m.snap,s,l,u):(W(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!he(m.path),c=xl(n,e,m.path,m.snap,s,l,h,u))}else if(r.type===Yt.MERGE){const m=r;m.source.fromUser?c=u1(n,e,m.path,m.children,s,l,u):(W(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=Tc(n,e,m.path,m.children,s,l,h,u))}else if(r.type===Yt.ACK_USER_WRITE){const m=r;m.revert?c=f1(n,e,m.path,s,l,u):c=c1(n,e,m.path,m.affectedTree,s,l,u)}else if(r.type===Yt.LISTEN_COMPLETE)c=d1(n,e,r.path,s,u);else throw fi("Unknown operation type: "+r.type);const p=u.getChanges();return a1(e,c,p),{viewCache:c,changes:p}}function a1(n,e,r){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=El(n);(r.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&r.push(ty(El(e)))}}function cy(n,e,r,s,l,u){const c=e.eventCache;if(Sl(s,r)!=null)return e;{let h,p;if(he(r))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Sr(e),y=m instanceof re?m:re.EMPTY_NODE,_=rd(s,y);h=n.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const m=Cl(s,Sr(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=pe(r);if(m===".priority"){W(er(r)===1,"Can't have a priority with additional path components");const y=c.getNode();p=e.serverCache.getNode();const _=vm(s,r,y,p);_!=null?h=n.filter.updatePriority(y,_):h=c.getNode()}else{const y=Ne(r);let _;if(c.isCompleteForChild(m)){p=e.serverCache.getNode();const v=vm(s,r,c.getNode(),p);v!=null?_=c.getNode().getImmediateChild(m).updateChild(y,v):_=c.getNode().getImmediateChild(m)}else _=id(s,m,e.serverCache);_!=null?h=n.filter.updateChild(c.getNode(),m,_,y,l,u):h=c.getNode()}}return hs(e,h,c.isFullyInitialized()||he(r),n.filter.filtersNodes())}}function xl(n,e,r,s,l,u,c,h){const p=e.serverCache;let m;const y=c?n.filter:n.filter.getIndexedFilter();if(he(r))m=y.updateFullNode(p.getNode(),s,null);else if(y.filtersNodes()&&!p.isFiltered()){const x=p.getNode().updateChild(r,s);m=y.updateFullNode(p.getNode(),x,null)}else{const x=pe(r);if(!p.isCompleteForPath(r)&&er(r)>1)return e;const E=Ne(r),R=p.getNode().getImmediateChild(x).updateChild(E,s);x===".priority"?m=y.updatePriority(p.getNode(),R):m=y.updateChild(p.getNode(),x,R,E,uy,null)}const _=ry(e,m,p.isFullyInitialized()||he(r),y.filtersNodes()),v=new sd(l,_,u);return cy(n,_,r,l,v,h)}function kc(n,e,r,s,l,u,c){const h=e.eventCache;let p,m;const y=new sd(l,e,u);if(he(r))m=n.filter.updateFullNode(e.eventCache.getNode(),s,c),p=hs(e,m,!0,n.filter.filtersNodes());else{const _=pe(r);if(_===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),p=hs(e,m,h.isFullyInitialized(),h.isFiltered());else{const v=Ne(r),x=h.getNode().getImmediateChild(_);let E;if(he(v))E=s;else{const N=y.getCompleteChild(_);N!=null?Kc(v)===".priority"&&N.getChild(Qg(v)).isEmpty()?E=N:E=N.updateChild(v,s):E=re.EMPTY_NODE}if(x.equals(E))p=e;else{const N=n.filter.updateChild(h.getNode(),_,E,v,y,c);p=hs(e,N,h.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function wm(n,e){return n.eventCache.isCompleteForChild(e)}function u1(n,e,r,s,l,u,c){let h=e;return s.foreach((p,m)=>{const y=je(r,p);wm(e,pe(y))&&(h=kc(n,h,y,m,l,u,c))}),s.foreach((p,m)=>{const y=je(r,p);wm(e,pe(y))||(h=kc(n,h,y,m,l,u,c))}),h}function Em(n,e,r){return r.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Tc(n,e,r,s,l,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;he(r)?m=s:m=new Te(null).setTree(r,s);const y=e.serverCache.getNode();return m.children.inorderTraversal((_,v)=>{if(y.hasChild(_)){const x=e.serverCache.getNode().getImmediateChild(_),E=Em(n,x,v);p=xl(n,p,new Se(_),E,l,u,c,h)}}),m.children.inorderTraversal((_,v)=>{const x=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!y.hasChild(_)&&!x){const E=e.serverCache.getNode().getImmediateChild(_),N=Em(n,E,v);p=xl(n,p,new Se(_),N,l,u,c,h)}}),p}function c1(n,e,r,s,l,u,c){if(Sl(l,r)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(he(r)&&p.isFullyInitialized()||p.isCompleteForPath(r))return xl(n,e,r,p.getNode().getChild(r),l,u,h,c);if(he(r)){let m=new Te(null);return p.getNode().forEachChild(ri,(y,_)=>{m=m.set(new Se(y),_)}),Tc(n,e,r,m,l,u,h,c)}else return e}else{let m=new Te(null);return s.foreach((y,_)=>{const v=je(r,y);p.isCompleteForPath(v)&&(m=m.set(y,p.getNode().getChild(v)))}),Tc(n,e,r,m,l,u,h,c)}}function d1(n,e,r,s,l){const u=e.serverCache,c=ry(e,u.getNode(),u.isFullyInitialized()||he(r),u.isFiltered());return cy(n,c,r,s,uy,l)}function f1(n,e,r,s,l,u){let c;if(Sl(s,r)!=null)return e;{const h=new sd(s,e,l),p=e.eventCache.getNode();let m;if(he(r)||pe(r)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Cl(s,Sr(e));else{const _=e.serverCache.getNode();W(_ instanceof re,"serverChildren would be complete if leaf node"),y=rd(s,_)}y=y,m=n.filter.updateFullNode(p,y,u)}else{const y=pe(r);let _=id(s,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=p.getImmediateChild(y)),_!=null?m=n.filter.updateChild(p,y,_,Ne(r),h,u):e.eventCache.getNode().hasChild(y)?m=n.filter.updateChild(p,y,re.EMPTY_NODE,Ne(r),h,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Cl(s,Sr(e)),c.isLeafNode()&&(m=n.filter.updateFullNode(m,c,u)))}return c=e.serverCache.isFullyInitialized()||Sl(s,ve())!=null,hs(e,m,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Xc(s.getIndex()),u=OS(s);this.processor_=s1(u);const c=r.serverCache,h=r.eventCache,p=l.updateFullNode(re.EMPTY_NODE,c.getNode(),null),m=u.updateFullNode(re.EMPTY_NODE,h.getNode(),null),y=new tr(p,c.isFullyInitialized(),l.filtersNodes()),_=new tr(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Ll(_,y),this.eventGenerator_=new jS(this.query_)}get query(){return this.query_}}function p1(n){return n.viewCache_.serverCache.getNode()}function m1(n){return El(n.viewCache_)}function g1(n,e){const r=Sr(n.viewCache_);return r&&(n.query._queryParams.loadsAllData()||!he(e)&&!r.getImmediateChild(pe(e)).isEmpty())?r.getChild(e):null}function Cm(n){return n.eventRegistrations_.length===0}function y1(n,e){n.eventRegistrations_.push(e)}function Sm(n,e,r){const s=[];if(r){W(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(r,l);c&&s.push(c)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const c=n.eventRegistrations_[u];if(!c.matches(e))l.push(c);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function xm(n,e,r,s){e.type===Yt.MERGE&&e.source.queryId!==null&&(W(Sr(n.viewCache_),"We should always have a full cache before handling merges"),W(El(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=l1(n.processor_,l,e,r,s);return o1(n.processor_,u.viewCache),W(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,dy(n,u.changes,u.viewCache.eventCache.getNode(),null)}function _1(n,e){const r=n.viewCache_.eventCache,s=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(ze,(u,c)=>{s.push(oi(u,c))}),r.isFullyInitialized()&&s.push(ty(r.getNode())),dy(n,s,r.getNode(),e)}function dy(n,e,r,s){const l=s?[s]:n.eventRegistrations_;return zS(n.eventGenerator_,e,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl;class fy{constructor(){this.views=new Map}}function v1(n){W(!kl,"__referenceConstructor has already been defined"),kl=n}function w1(){return W(kl,"Reference.ts has not been loaded"),kl}function E1(n){return n.views.size===0}function od(n,e,r,s){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return W(u!=null,"SyncTree gave us an op for an invalid query."),xm(u,e,r,s)}else{let u=[];for(const c of n.views.values())u=u.concat(xm(c,e,r,s));return u}}function hy(n,e,r,s,l){const u=e._queryIdentifier,c=n.views.get(u);if(!c){let h=Cl(r,l?s:null),p=!1;h?p=!0:s instanceof re?(h=rd(r,s),p=!1):(h=re.EMPTY_NODE,p=!1);const m=Ll(new tr(h,p,!1),new tr(s,l,!1));return new h1(e,m)}return c}function C1(n,e,r,s,l,u){const c=hy(n,e,s,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),y1(c,r),_1(c,r)}function S1(n,e,r,s){const l=e._queryIdentifier,u=[];let c=[];const h=nr(n);if(l==="default")for(const[p,m]of n.views.entries())c=c.concat(Sm(m,r,s)),Cm(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=n.views.get(l);p&&(c=c.concat(Sm(p,r,s)),Cm(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!nr(n)&&u.push(new(w1())(e._repo,e._path)),{removed:u,events:c}}function py(n){const e=[];for(const r of n.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function Xn(n,e){let r=null;for(const s of n.views.values())r=r||g1(s,e);return r}function my(n,e){if(e._queryParams.loadsAllData())return Fl(n);{const s=e._queryIdentifier;return n.views.get(s)}}function gy(n,e){return my(n,e)!=null}function nr(n){return Fl(n)!=null}function Fl(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;function x1(n){W(!Tl,"__referenceConstructor has already been defined"),Tl=n}function k1(){return W(Tl,"Reference.ts has not been loaded"),Tl}let T1=1;class km{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Te(null),this.pendingWriteTree_=t1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yy(n,e,r,s,l){return WS(n.pendingWriteTree_,e,r,s,l),l?pi(n,new Cr(ed(),e,r)):[]}function R1(n,e,r,s){HS(n.pendingWriteTree_,e,r,s);const l=Te.fromObject(r);return pi(n,new li(ed(),e,l))}function Vn(n,e,r=!1){const s=qS(n.pendingWriteTree_,e);if(VS(n.pendingWriteTree_,e)){let u=new Te(null);return s.snap!=null?u=u.set(ve(),!0):st(s.children,c=>{u=u.set(new Se(c),!0)}),pi(n,new wl(s.path,u,r))}else return[]}function js(n,e,r){return pi(n,new Cr(td(),e,r))}function N1(n,e,r){const s=Te.fromObject(r);return pi(n,new li(td(),e,s))}function I1(n,e){return pi(n,new ks(td(),e))}function P1(n,e,r){const s=ad(n,r);if(s){const l=ud(s),u=l.path,c=l.queryId,h=ht(u,e),p=new ks(nd(c),h);return cd(n,u,p)}else return[]}function _y(n,e,r,s,l=!1){const u=e._path,c=n.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||gy(c,e))){const p=S1(c,e,r,s);E1(c)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const m=p.removed;if(h=p.events,!l){const y=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(u,(v,x)=>nr(x));if(y&&!_){const v=n.syncPointTree_.subtree(u);if(!v.isEmpty()){const x=L1(v);for(let E=0;E<x.length;++E){const N=x[E],R=N.query,D=Cy(n,N);n.listenProvider_.startListening(ms(R),Ts(n,R),D.hashFn,D.onComplete)}}}!_&&m.length>0&&!s&&(y?n.listenProvider_.stopListening(ms(e),null):m.forEach(v=>{const x=n.queryToTagMap.get(bl(v));n.listenProvider_.stopListening(ms(v),x)}))}M1(n,m)}return h}function vy(n,e,r,s){const l=ad(n,s);if(l!=null){const u=ud(l),c=u.path,h=u.queryId,p=ht(c,e),m=new Cr(nd(h),p,r);return cd(n,c,m)}else return[]}function O1(n,e,r,s){const l=ad(n,s);if(l){const u=ud(l),c=u.path,h=u.queryId,p=ht(c,e),m=Te.fromObject(r),y=new li(nd(h),p,m);return cd(n,c,y)}else return[]}function A1(n,e,r,s=!1){const l=e._path;let u=null,c=!1;n.syncPointTree_.foreachOnPath(l,(v,x)=>{const E=ht(v,l);u=u||Xn(x,E),c=c||nr(x)});let h=n.syncPointTree_.get(l);h?(c=c||nr(h),u=u||Xn(h,ve())):(h=new fy,n.syncPointTree_=n.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=re.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((x,E)=>{const N=Xn(E,ve());N&&(u=u.updateImmediateChild(x,N))}));const m=gy(h,e);if(!m&&!e._queryParams.loadsAllData()){const v=bl(e);W(!n.queryToTagMap.has(v),"View does not exist, but we have a tag");const x=F1();n.queryToTagMap.set(v,x),n.tagToQueryMap.set(x,v)}const y=Ml(n.pendingWriteTree_,l);let _=C1(h,e,r,y,u,p);if(!m&&!c&&!s){const v=my(h,e);_=_.concat(b1(n,e,v))}return _}function ld(n,e,r){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(c,h)=>{const p=ht(c,e),m=Xn(h,p);if(m)return m});return oy(l,e,u,r,!0)}function D1(n,e){const r=e._path;let s=null;n.syncPointTree_.foreachOnPath(r,(m,y)=>{const _=ht(m,r);s=s||Xn(y,_)});let l=n.syncPointTree_.get(r);l?s=s||Xn(l,ve()):(l=new fy,n.syncPointTree_=n.syncPointTree_.set(r,l));const u=s!=null,c=u?new tr(s,!0,!1):null,h=Ml(n.pendingWriteTree_,e._path),p=hy(l,e,h,u?c.getNode():re.EMPTY_NODE,u);return m1(p)}function pi(n,e){return wy(e,n.syncPointTree_,null,Ml(n.pendingWriteTree_,ve()))}function wy(n,e,r,s){if(he(n.path))return Ey(n,e,r,s);{const l=e.get(ve());r==null&&l!=null&&(r=Xn(l,ve()));let u=[];const c=pe(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const m=r?r.getImmediateChild(c):null,y=ly(s,c);u=u.concat(wy(h,p,m,y))}return l&&(u=u.concat(od(l,n,s,r))),u}}function Ey(n,e,r,s){const l=e.get(ve());r==null&&l!=null&&(r=Xn(l,ve()));let u=[];return e.children.inorderTraversal((c,h)=>{const p=r?r.getImmediateChild(c):null,m=ly(s,c),y=n.operationForChild(c);y&&(u=u.concat(Ey(y,h,p,m)))}),l&&(u=u.concat(od(l,n,s,r))),u}function Cy(n,e){const r=e.query,s=Ts(n,r);return{hashFn:()=>(p1(e)||re.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?P1(n,r._path,s):I1(n,r._path);{const u=IC(l,r);return _y(n,r,null,u)}}}}function Ts(n,e){const r=bl(e);return n.queryToTagMap.get(r)}function bl(n){return n._path.toString()+"$"+n._queryIdentifier}function ad(n,e){return n.tagToQueryMap.get(e)}function ud(n){const e=n.indexOf("$");return W(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Se(n.substr(0,e))}}function cd(n,e,r){const s=n.syncPointTree_.get(e);W(s,"Missing sync point for query tag that we're tracking");const l=Ml(n.pendingWriteTree_,e);return od(s,r,l,null)}function L1(n){return n.fold((e,r,s)=>{if(r&&nr(r))return[Fl(r)];{let l=[];return r&&(l=py(r)),st(s,(u,c)=>{l=l.concat(c)}),l}})}function ms(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(k1())(n._repo,n._path):n}function M1(n,e){for(let r=0;r<e.length;++r){const s=e[r];if(!s._queryParams.loadsAllData()){const l=bl(s),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function F1(){return T1++}function b1(n,e,r){const s=e._path,l=Ts(n,e),u=Cy(n,r),c=n.listenProvider_.startListening(ms(e),l,u.hashFn,u.onComplete),h=n.syncPointTree_.subtree(s);if(l)W(!nr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,y,_)=>{if(!he(m)&&y&&nr(y))return[Fl(y).query];{let v=[];return y&&(v=v.concat(py(y).map(x=>x.query))),st(_,(x,E)=>{v=v.concat(E)}),v}});for(let m=0;m<p.length;++m){const y=p[m];n.listenProvider_.stopListening(ms(y),Ts(n,y))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new dd(r)}node(){return this.node_}}class fd{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=je(this.path_,e);return new fd(this.syncTree_,r)}node(){return ld(this.syncTree_,this.path_)}}const j1=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Tm=function(n,e,r){if(!n||typeof n!="object")return n;if(W(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return z1(n[".sv"],e,r);if(typeof n[".sv"]=="object")return U1(n[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},z1=function(n,e,r){switch(n){case"timestamp":return r.timestamp;default:W(!1,"Unexpected server value: "+n)}},U1=function(n,e,r){n.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&W(!1,"Unexpected increment value: "+s);const l=e.node();if(W(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const c=l.getValue();return typeof c!="number"?s:c+s},Sy=function(n,e,r,s){return hd(e,new fd(r,n),s)},xy=function(n,e,r){return hd(n,new dd(e),r)};function hd(n,e,r){const s=n.getPriority().val(),l=Tm(s,e.getImmediateChild(".priority"),r);let u;if(n.isLeafNode()){const c=n,h=Tm(c.getValue(),e,r);return h!==c.getValue()||l!==c.getPriority().val()?new Ze(h,Ge(l)):n}else{const c=n;return u=c,l!==c.getPriority().val()&&(u=u.updatePriority(new Ze(l))),c.forEachChild(ze,(h,p)=>{const m=hd(p,e.getImmediateChild(h),r);m!==p&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e="",r=null,s={children:{},childCount:0}){this.name=e,this.parent=r,this.node=s}}function md(n,e){let r=e instanceof Se?e:new Se(e),s=n,l=pe(r);for(;l!==null;){const u=ii(s.node.children,l)||{children:{},childCount:0};s=new pd(l,s,u),r=Ne(r),l=pe(r)}return s}function mi(n){return n.node.value}function ky(n,e){n.node.value=e,Rc(n)}function Ty(n){return n.node.childCount>0}function B1(n){return mi(n)===void 0&&!Ty(n)}function jl(n,e){st(n.node.children,(r,s)=>{e(new pd(r,n,s))})}function Ry(n,e,r,s){r&&!s&&e(n),jl(n,l=>{Ry(l,e,!0,s)}),r&&s&&e(n)}function $1(n,e,r){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function zs(n){return new Se(n.parent===null?n.name:zs(n.parent)+"/"+n.name)}function Rc(n){n.parent!==null&&W1(n.parent,n.name,n)}function W1(n,e,r){const s=B1(r),l=un(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Rc(n)):!s&&!l&&(n.node.children[e]=r.node,n.node.childCount++,Rc(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=/[\[\].#$\/\u0000-\u001F\u007F]/,q1=/[\[\].#$\u0000-\u001F\u007F]/,rc=10*1024*1024,gd=function(n){return typeof n=="string"&&n.length!==0&&!H1.test(n)},Ny=function(n){return typeof n=="string"&&n.length!==0&&!q1.test(n)},V1=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ny(n)},Q1=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Hc(n)||n&&typeof n=="object"&&un(n,".sv")},Iy=function(n,e,r,s){s&&e===void 0||zl(Ol(n,"value"),e,r)},zl=function(n,e,r){const s=r instanceof Se?new uS(r,n):r;if(e===void 0)throw new Error(n+"contains undefined "+yr(s));if(typeof e=="function")throw new Error(n+"contains a function "+yr(s)+" with contents = "+e.toString());if(Hc(e))throw new Error(n+"contains "+e.toString()+" "+yr(s));if(typeof e=="string"&&e.length>rc/3&&Al(e)>rc)throw new Error(n+"contains a string greater than "+rc+" utf8 bytes "+yr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(st(e,(c,h)=>{if(c===".value")l=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!gd(c)))throw new Error(n+" contains an invalid key ("+c+") "+yr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cS(s,c),zl(n,h,s),dS(s)}),l&&u)throw new Error(n+' contains ".value" child '+yr(s)+" in addition to actual children.")}},G1=function(n,e){let r,s;for(r=0;r<e.length;r++){s=e[r];const u=Es(s);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!gd(u[c]))throw new Error(n+"contains an invalid key ("+u[c]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(aS);let l=null;for(r=0;r<e.length;r++){if(s=e[r],l!==null&&zt(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},K1=function(n,e,r,s){const l=Ol(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];st(e,(c,h)=>{const p=new Se(c);if(zl(l,h,je(r,p)),Kc(p)===".priority"&&!Q1(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),G1(l,u)},Py=function(n,e,r,s){if(!Ny(r))throw new Error(Ol(n,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Y1=function(n,e,r,s){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Py(n,e,r)},yd=function(n,e){if(pe(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},J1=function(n,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!gd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!V1(r))throw new Error(Ol(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _d(n,e){let r=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();r!==null&&!Gg(u,r.path)&&(n.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(l)}r&&n.eventLists_.push(r)}function Ut(n,e,r){_d(n,r),Z1(n,s=>zt(s,e)||zt(e,s))}function Z1(n,e){n.recursionDepth_++;let r=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const u=l.path;e(u)?(ex(n.eventLists_[s]),n.eventLists_[s]=null):r=!1}}r&&(n.eventLists_=[]),n.recursionDepth_--}function ex(n){for(let e=0;e<n.events.length;e++){const r=n.events[e];if(r!==null){n.events[e]=null;const s=r.getEventRunner();ds&&it("event: "+r.toString()),hi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="repo_interrupt",nx=25;class rx{constructor(e,r,s,l){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new X1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vl(),this.transactionQueueTree_=new pd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ix(n,e,r){if(n.stats_=Qc(n.repoInfo_),n.forceRestClient_||DC())n.server_=new _l(n.repoInfo_,(s,l,u,c)=>{Rm(n,s,l,u,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Nm(n,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(r)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new En(n.repoInfo_,e,(s,l,u,c)=>{Rm(n,s,l,u,c)},s=>{Nm(n,s)},s=>{sx(n,s)},n.authTokenProvider_,n.appCheckProvider_,r),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=jC(n.repoInfo_,()=>new bS(n.stats_,n.server_)),n.infoData_=new AS,n.infoSyncTree_=new km({startListening:(s,l,u,c)=>{let h=[];const p=n.infoData_.getNode(s._path);return p.isEmpty()||(h=js(n.infoSyncTree_,s._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),vd(n,"connected",!1),n.serverSyncTree_=new km({startListening:(s,l,u,c)=>(n.server_.listen(s,u,l,(h,p)=>{const m=c(h,p);Ut(n.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function Oy(n){const r=n.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Ul(n){return j1({timestamp:Oy(n)})}function Rm(n,e,r,s,l){n.dataUpdateCount++;const u=new Se(e);r=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,r):r;let c=[];if(l)if(s){const p=fl(r,m=>Ge(m));c=O1(n.serverSyncTree_,u,p,l)}else{const p=Ge(r);c=vy(n.serverSyncTree_,u,p,l)}else if(s){const p=fl(r,m=>Ge(m));c=N1(n.serverSyncTree_,u,p)}else{const p=Ge(r);c=js(n.serverSyncTree_,u,p)}let h=u;c.length>0&&(h=ui(n,u)),Ut(n.eventQueue_,h,c)}function Nm(n,e){vd(n,"connected",e),e===!1&&ux(n)}function sx(n,e){st(e,(r,s)=>{vd(n,r,s)})}function vd(n,e,r){const s=new Se("/.info/"+e),l=Ge(r);n.infoData_.updateSnapshot(s,l);const u=js(n.infoSyncTree_,s,l);Ut(n.eventQueue_,s,u)}function wd(n){return n.nextWriteId_++}function ox(n,e,r){const s=D1(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const u=Ge(l).withIndex(e._queryParams.getIndex());A1(n.serverSyncTree_,e,r,!0);let c;if(e._queryParams.loadsAllData())c=js(n.serverSyncTree_,e._path,u);else{const h=Ts(n.serverSyncTree_,e);c=vy(n.serverSyncTree_,e._path,u,h)}return Ut(n.eventQueue_,e._path,c),_y(n.serverSyncTree_,e,r,null,!0),u},l=>(Us(n,"get for query "+Ke(e)+" failed: "+l),Promise.reject(new Error(l))))}function lx(n,e,r,s,l){Us(n,"set",{path:e.toString(),value:r,priority:s});const u=Ul(n),c=Ge(r,s),h=ld(n.serverSyncTree_,e),p=xy(c,h,u),m=wd(n),y=yy(n.serverSyncTree_,e,p,m,!0);_d(n.eventQueue_,y),n.server_.put(e.toString(),c.val(!0),(v,x)=>{const E=v==="ok";E||pt("set at "+e+" failed: "+v);const N=Vn(n.serverSyncTree_,m,!E);Ut(n.eventQueue_,e,N),Nc(n,l,v,x)});const _=Cd(n,e);ui(n,_),Ut(n.eventQueue_,_,[])}function ax(n,e,r,s){Us(n,"update",{path:e.toString(),value:r});let l=!0;const u=Ul(n),c={};if(st(r,(h,p)=>{l=!1,c[h]=Sy(je(e,h),Ge(p),n.serverSyncTree_,u)}),l)it("update() called with empty data.  Don't do anything."),Nc(n,s,"ok",void 0);else{const h=wd(n),p=R1(n.serverSyncTree_,e,c,h);_d(n.eventQueue_,p),n.server_.merge(e.toString(),r,(m,y)=>{const _=m==="ok";_||pt("update at "+e+" failed: "+m);const v=Vn(n.serverSyncTree_,h,!_),x=v.length>0?ui(n,e):e;Ut(n.eventQueue_,x,v),Nc(n,s,m,y)}),st(r,m=>{const y=Cd(n,je(e,m));ui(n,y)}),Ut(n.eventQueue_,e,[])}}function ux(n){Us(n,"onDisconnectEvents");const e=Ul(n),r=vl();Ec(n.onDisconnect_,ve(),(l,u)=>{const c=Sy(l,u,n.serverSyncTree_,e);ny(r,l,c)});let s=[];Ec(r,ve(),(l,u)=>{s=s.concat(js(n.serverSyncTree_,l,u));const c=Cd(n,l);ui(n,c)}),n.onDisconnect_=vl(),Ut(n.eventQueue_,ve(),s)}function cx(n){n.persistentConnection_&&n.persistentConnection_.interrupt(tx)}function Us(n,...e){let r="";n.persistentConnection_&&(r=n.persistentConnection_.id+":"),it(r,...e)}function Nc(n,e,r,s){e&&hi(()=>{if(r==="ok")e(null);else{const l=(r||"error").toUpperCase();let u=l;s&&(u+=": "+s);const c=new Error(u);c.code=l,e(c)}})}function Ay(n,e,r){return ld(n.serverSyncTree_,e,r)||re.EMPTY_NODE}function Ed(n,e=n.transactionQueueTree_){if(e||Bl(n,e),mi(e)){const r=Ly(n,e);W(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&dx(n,zs(e),r)}else Ty(e)&&jl(e,r=>{Ed(n,r)})}function dx(n,e,r){const s=r.map(m=>m.currentWriteId),l=Ay(n,e,s);let u=l;const c=l.hash();for(let m=0;m<r.length;m++){const y=r[m];W(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=ht(e,y.path);u=u.updateChild(_,y.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;n.server_.put(p.toString(),h,m=>{Us(n,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const _=[];for(let v=0;v<r.length;v++)r[v].status=2,y=y.concat(Vn(n.serverSyncTree_,r[v].currentWriteId)),r[v].onComplete&&_.push(()=>r[v].onComplete(null,!0,r[v].currentOutputSnapshotResolved)),r[v].unwatcher();Bl(n,md(n.transactionQueueTree_,e)),Ed(n,n.transactionQueueTree_),Ut(n.eventQueue_,e,y);for(let v=0;v<_.length;v++)hi(_[v])}else{if(m==="datastale")for(let _=0;_<r.length;_++)r[_].status===3?r[_].status=4:r[_].status=0;else{pt("transaction at "+p.toString()+" failed: "+m);for(let _=0;_<r.length;_++)r[_].status=4,r[_].abortReason=m}ui(n,e)}},c)}function ui(n,e){const r=Dy(n,e),s=zs(r),l=Ly(n,r);return fx(n,l,s),s}function fx(n,e,r){if(e.length===0)return;const s=[];let l=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=ht(r,p.path);let y=!1,_;if(W(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,_=p.abortReason,l=l.concat(Vn(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=nx)y=!0,_="maxretry",l=l.concat(Vn(n.serverSyncTree_,p.currentWriteId,!0));else{const v=Ay(n,p.path,c);p.currentInputSnapshot=v;const x=e[h].update(v.val());if(x!==void 0){zl("transaction failed: Data returned ",x,p.path);let E=Ge(x);typeof x=="object"&&x!=null&&un(x,".priority")||(E=E.updatePriority(v.getPriority()));const R=p.currentWriteId,D=Ul(n),M=xy(E,v,D);p.currentOutputSnapshotRaw=E,p.currentOutputSnapshotResolved=M,p.currentWriteId=wd(n),c.splice(c.indexOf(R),1),l=l.concat(yy(n.serverSyncTree_,p.path,M,p.currentWriteId,p.applyLocally)),l=l.concat(Vn(n.serverSyncTree_,R,!0))}else y=!0,_="nodata",l=l.concat(Vn(n.serverSyncTree_,p.currentWriteId,!0))}Ut(n.eventQueue_,r,l),l=[],y&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(_),!1,null))))}Bl(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)hi(s[h]);Ed(n,n.transactionQueueTree_)}function Dy(n,e){let r,s=n.transactionQueueTree_;for(r=pe(e);r!==null&&mi(s)===void 0;)s=md(s,r),e=Ne(e),r=pe(e);return s}function Ly(n,e){const r=[];return My(n,e,r),r.sort((s,l)=>s.order-l.order),r}function My(n,e,r){const s=mi(e);if(s)for(let l=0;l<s.length;l++)r.push(s[l]);jl(e,l=>{My(n,l,r)})}function Bl(n,e){const r=mi(e);if(r){let s=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[s]=r[l],s++);r.length=s,ky(e,r.length>0?r:void 0)}jl(e,s=>{Bl(n,s)})}function Cd(n,e){const r=zs(Dy(n,e)),s=md(n.transactionQueueTree_,e);return $1(s,l=>{ic(n,l)}),ic(n,s),Ry(s,l=>{ic(n,l)}),r}function ic(n,e){const r=mi(e);if(r){const s=[];let l=[],u=-1;for(let c=0;c<r.length;c++)r[c].status===3||(r[c].status===1?(W(u===c-1,"All SENT items should be at beginning of queue."),u=c,r[c].status=3,r[c].abortReason="set"):(W(r[c].status===0,"Unexpected transaction status in abort"),r[c].unwatcher(),l=l.concat(Vn(n.serverSyncTree_,r[c].currentWriteId,!0)),r[c].onComplete&&s.push(r[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?ky(e,void 0):r.length=u+1,Ut(n.eventQueue_,zs(e),l);for(let c=0;c<s.length;c++)hi(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(n){let e="";const r=n.split("/");for(let s=0;s<r.length;s++)if(r[s].length>0){let l=r[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function px(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const r of n.split("&")){if(r.length===0)continue;const s=r.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):pt(`Invalid query segment '${r}' in query '${n}'`)}return e}const Im=function(n,e){const r=mx(n),s=r.namespace;r.domain==="firebase.com"&&xn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&r.domain!=="localhost"&&xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||xC();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new jg(r.host,r.secure,s,l,e,"",s!==r.subdomain),path:new Se(r.pathString)}},mx=function(n){let e="",r="",s="",l="",u="",c=!0,h="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let y=n.indexOf("/");y===-1&&(y=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(y,_)),y<_&&(l=hx(n.substring(y,_)));const v=px(n.substring(Math.min(n.length,_)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const x=e.slice(0,m);if(x.toLowerCase()==="localhost")r="localhost";else if(x.split(".").length<=2)r=x;else{const E=e.indexOf(".");s=e.substring(0,E).toLowerCase(),r=e.substring(E+1),u=s}"ns"in v&&(u=v.ns)}return{host:e,port:p,domain:r,subdomain:s,secure:c,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gx=function(){let n=0;const e=[];return function(r){const s=r===n;n=r;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=Pm.charAt(r%64),r=Math.floor(r/64);W(r===0,"Cannot push at time == 0");let c=u.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)c+=Pm.charAt(e[l]);return W(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,r,s,l){this.eventType=e,this.eventRegistration=r,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class _x{constructor(e,r,s){this.eventRegistration=e,this.error=r,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,r,s,l){this._repo=e,this._path=r,this._queryParams=s,this._orderByCalled=l}get key(){return he(this._path)?null:Kc(this._path)}get ref(){return new Tn(this._repo,this._path)}get _queryIdentifier(){const e=mm(this._queryParams),r=qc(e);return r==="{}"?"default":r}get _queryObject(){return mm(this._queryParams)}isEqual(e){if(e=kr(e),!(e instanceof Sd))return!1;const r=this._repo===e._repo,s=Gg(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return r&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+lS(this._path)}}class Tn extends Sd{constructor(e,r){super(e,r,new Zc,!1)}get parent(){const e=Qg(this._path);return e===null?null:new Tn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Rs{constructor(e,r,s){this._node=e,this.ref=r,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new Se(e),s=Ns(this.ref,e);return new Rs(this._node.getChild(r),s,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Rs(l,Ns(this.ref,s),ze)))}hasChild(e){const r=new Se(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function He(n,e){return n=kr(n),n._checkNotDeleted("ref"),e!==void 0?Ns(n._root,e):n._root}function Ns(n,e){return n=kr(n),pe(n._path)===null?Y1("child","path",e):Py("child","path",e),new Tn(n._repo,je(n._path,e))}function wx(n,e){n=kr(n),yd("push",n._path),Iy("push",e,n._path,!0);const r=Oy(n._repo),s=gx(r),l=Ns(n,s),u=Ns(n,s);let c;return e!=null?c=vn(u,e).then(()=>u):c=Promise.resolve(u),l.then=c.then.bind(c),l.catch=c.then.bind(c,void 0),l}function Ex(n){return yd("remove",n._path),vn(n,null)}function vn(n,e){n=kr(n),yd("set",n._path),Iy("set",e,n._path,!1);const r=new Ds;return lx(n._repo,n._path,e,null,r.wrapCallback(()=>{})),r.promise}function Cx(n,e){K1("update",e,n._path);const r=new Ds;return ax(n._repo,n._path,e,r.wrapCallback(()=>{})),r.promise}function Cn(n){n=kr(n);const e=new vx(()=>{}),r=new xd(e);return ox(n._repo,n,r).then(s=>new Rs(s,new Tn(n._repo,n._path),n._queryParams.getIndex()))}class xd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const s=r._queryParams.getIndex();return new yx("value",this,new Rs(e.snapshotNode,new Tn(r._repo,r._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new _x(this,e,r):null}matches(e){return e instanceof xd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}v1(Tn);x1(Tn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="FIREBASE_DATABASE_EMULATOR_HOST",Ic={};let xx=!1;function kx(n,e,r,s){n.repoInfo_=new jg(`${e}:${r}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}function Tx(n,e,r,s,l){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),it("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=Im(u,l),h=c.repoInfo,p;typeof process<"u"&&Jp&&(p=Jp[Sx]),p?(u=`http://${p}?ns=${h.namespace}`,c=Im(u,l),h=c.repoInfo):c.repoInfo.secure;const m=new MC(n.name,n.options,e);J1("Invalid Firebase Database URL",c),he(c.path)||xn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=Nx(h,n,m,new LC(n.name,r));return new Ix(y,n)}function Rx(n,e){const r=Ic[e];(!r||r[n.key]!==n)&&xn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),cx(n),delete r[n.key]}function Nx(n,e,r,s){let l=Ic[e.name];l||(l={},Ic[e.name]=l);let u=l[n.toURLString()];return u&&xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new rx(n,xx,r,s),l[n.toURLString()]=u,u}class Ix{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ix(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tn(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Rx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xn("Cannot call "+e+" on a deleted database.")}}function Qn(n=oC(),e){const r=nC(n,"database").getImmediate({identifier:e});if(!r._instanceStarted){const s=Vw("database");s&&Px(r,...s)}return r}function Px(n,e,r,s={}){n=kr(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&xn("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new ol(ol.OWNER);else if(s.mockUserToken){const c=typeof s.mockUserToken=="string"?s.mockUserToken:Qw(s.mockUserToken,n.app.options.projectId);u=new ol(c)}kx(l,e,r,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){_C(sC),pl(new _s("database",(e,{instanceIdentifier:r})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return Tx(s,l,u,r)},"PUBLIC").setMultipleInstances(!0)),ti(Xp,Zp,n),ti(Xp,Zp,"esm2017")}En.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};En.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Ox();const Ax={apiKey:"AIzaSyCK58aeUtjlLq919pxe2wTZnhJqjEO_7kk",authDomain:"quizdb-ad0a2.firebaseapp.com",databaseURL:"https://quizdb-ad0a2-default-rtdb.firebaseio.com",projectId:"quizdb-ad0a2",storageBucket:"quizdb-ad0a2.firebasestorage.app",messagingSenderId:"595917417664",appId:"1:595917417664:web:f284273d498e384cdf5125",measurementId:"G-YC37Q9XL2X"},Dx=Eg(Ax),Gn=Qn(Dx);function Lx(){const n=mt(),e=Xt(),[r,s]=O.useState({id:0,name:"Q0",legend:"",numOptions:0,option1:"",answer:""}),[l,u]=O.useState([]),[c,h]=O.useState([]),[p,m]=O.useState(1),[y,_]=O.useState([]),v=p===1,x=p===l.length;O.useEffect(()=>{try{console.log(n.state.id),m(n.state.id);try{_(n.state.answers)}catch{console.log("No answers, using empty array")}}catch(Q){console.log("Error getting state: "+Q)}const H=He(Gn,"questions/");Cn(H).then(Q=>{if(Q.exists()){const Z=Q.val(),ie=Object.keys(Z);console.log(ie),u(ie),E(ie[0])}else console.log("No questions found in the database.")}).catch(Q=>{console.log("Error while getting questions: "+Q)})},[n.state.id]);const E=H=>{const Q=He(Gn,`questions/${H}`);Cn(Q).then(Z=>{if(Z.exists()){const ie=Z.val();s(ie),h(z(Array.from({length:ie.numOptions},(se,de)=>de+1)))}else console.log("No question found with the specified ID.")}).catch(Z=>{console.log("Error getting question data: "+Z)})};O.useEffect(()=>{console.log(l.length),l.length>-1&&(_(new Array(l.length).fill(null)),console.log("asnwers"),console.log(y))},[l]);function N(){const H=p<l.length?p+1:p;E(l[H-1]),m(H)}function R(){const H=p>1?p-1:p;E(l[H-1]),m(H)}function D(H){const Q=H.target.value;_(Z=>{const ie=[...Z];return ie[p-1]=Q,ie})}function M(){$(y)&&e("/done",{state:{answers:y}})}function z(H){const Q=[...H];for(let Z=Q.length-1;Z>0;Z--){const ie=Math.floor(Math.random()*(Z+1));[Q[Z],Q[ie]]=[Q[ie],Q[Z]]}return Q}function $(H){let Q=!0;for(const Z of H)if(!Z){document.getElementById("warning").innerHTML="Please answer all questions",Q=!1;break}return Q}return l.length?P.jsx(P.Fragment,{children:P.jsx("div",{id:"all-quiz",children:P.jsxs("div",{id:"quiz",className:"quiz_center",children:[P.jsx("span",{id:"INFO",children:P.jsxs("span",{children:["Question: ",P.jsx("span",{id:"questionNumber",children:p})]})}),P.jsx("form",{name:"quiz_form",id:"quiz_form",method:"get",children:r?P.jsxs("fieldset",{children:[P.jsx("legend",{children:r.legend}),c.map(H=>{const Q=r[`option${H}`];return P.jsxs("div",{children:[P.jsx("input",{type:"radio",id:Q,name:r.name,value:Q,checked:y[p-1]===Q||!1,onChange:D}),P.jsx("label",{htmlFor:Q,children:Q})]},Q)})]}):P.jsx("div",{children:"No question to display"})}),P.jsx("div",{id:"warning"}),P.jsxs("div",{className:"button-container",children:[!v&&P.jsx("button",{onClick:R,id:"prev",children:"Previous"}),!x&&P.jsx("button",{onClick:N,id:"next",children:"Next"}),x&&P.jsx("button",{onClick:M,id:"Finish",children:"Finish"})]})]})})}):P.jsx("div",{children:"Loading..."})}function Mx(){const n=Xt(),[e,r]=O.useState(""),[s,l]=O.useState(""),[u,c]=O.useState(""),[h,p]=O.useState(!1),[m,y]=O.useState(!1);function _(){if(e&&s){const x=Qn(),E=He(x,"users/"+e);Cn(E).then(N=>{if(N.exists()){const R=N.val();R.password===s?n("/options",{state:{username:e,isAdmin:R.isAdmin}}):c("Invalid password. Please try again.")}else c("User not found. Please sign up first.")}).catch(N=>{c("Error logging in: "+N.message)})}else c("Please fill out both fields.")}function v(){if(e&&s){console.log(e);const x=Qn();console.log(He(x,"users/"+e)),console.log(x),vn(He(x,"users/"+e),{username:e,password:s,isAdmin:m}).then(()=>{c(""),p(!1),alert("Account created successfully! You can now log in.")}).catch(E=>{c("Error creating account: "+E.message)})}else c("Please fill out both fields.")}return P.jsx("div",{className:"login-container",children:P.jsxs("div",{className:"login-card",children:[P.jsx("h2",{children:h?"Create Account":"Login"}),P.jsx("p",{children:h?"Enter a username and password to create a new account.":"Enter your username and password to start the quiz."}),P.jsxs("div",{className:"login-form",children:[P.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:x=>r(x.target.value),required:!0,className:"input-field"}),P.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:x=>l(x.target.value),required:!0,className:"input-field"}),u&&P.jsx("p",{className:"error-message",children:u}),P.jsx("button",{onClick:h?v:_,className:"login-btn",children:h?"Create Account":"Log In"}),P.jsx("button",{onClick:()=>p(!h),className:"toggle-btn",children:h?"Already have an account? Log in":"Don't have an account? Create one"})]})]})})}function Fx(){const n=Xt(),e=mt(),[r,s]=O.useState(""),[l,u]=O.useState(!1),[c,h]=O.useState([]),[p,m]=O.useState([]),[y,_]=O.useState(""),[v,x]=O.useState("");O.useEffect(()=>{const D=Qn(),M=He(D,"users/"+r);Cn(M).then($=>{if($.exists()){const H=$.val();console.log(H),console.log(e.state.username),s(e.state.username),u(H.isAdmin),h(Object.keys(H.groups||{}))}}).catch($=>{x("Error loading user data: "+$.message)});const z=He(D,"groups");Cn(z).then($=>{if($.exists()){const H=$.val();m(Object.keys(H||{}))}}).catch($=>{x("Error loading groups: "+$.message)})},[r]);const E=()=>{if(!y){x("Please enter a group name.");return}const D=Qn(),z=r.replace(/[.#$/[\]]/g,"_"),$=He(D,"groups/"+y);vn($,{groupName:y,admin:z,members:{[z]:!0}}).then(()=>{const H=He(D,"users/"+z+"/groups/"+y);vn(H,!0),_(""),x(""),alert("Group created successfully!")}).catch(H=>{x("Error creating group: "+H.message)})},N=D=>{const M=Qn(),z=He(M,"groups/"+D+"/members/"+r);vn(z,!0).then(()=>{const $=He(M,"users/"+r+"/groups/"+D);vn($,!0),alert("Joined group successfully!")}).catch($=>{x("Error joining group: "+$.message)})},R=D=>{const M=Qn(),z=He(M,"groups/"+D);Cn(z).then($=>{if($.exists()){const H=$.val(),Q=H.latestQuizDate,Z=new Date().toLocaleDateString(),ie=new Date(Q).toLocaleDateString()===Z;l&&!ie?n("/quiz-creation",{state:{groupName:D,username:r}}):n("/quizPage",{state:{groupName:D,username:r,quizId:H.latest.latestQuiz.id}})}else x("Group data not found.")}).catch($=>{x("Error fetching group data: "+$.message)})};return P.jsxs("div",{className:"options-container",children:[P.jsx("h1",{children:"User Control"}),P.jsxs("h3",{children:["Welcome, ",r]}),l&&P.jsx("p",{children:"You are an admin in all groups!"}),P.jsxs("div",{children:[P.jsx("h2",{children:"Your Groups"}),c.length>0?P.jsx("ul",{children:c.map(D=>P.jsx("li",{onClick:()=>R(D),children:D},D))}):P.jsx("p",{children:"You are not in any groups yet."})]}),P.jsxs("div",{children:[P.jsx("h2",{children:"Available Groups"}),p.length>0?P.jsx("ul",{children:p.map(D=>P.jsxs("li",{children:[D,!c.includes(D)&&P.jsx("button",{onClick:()=>N(D),children:"Join"})]},D))}):P.jsx("p",{children:"No groups available."})]}),P.jsxs("div",{children:[P.jsx("h2",{children:"Create a New Group"}),P.jsx("input",{type:"text",placeholder:"Enter Group Name",value:y,onChange:D=>_(D.target.value)}),P.jsx("button",{onClick:E,children:"Create Group"})]}),v&&P.jsx("p",{className:"error-message",children:v})]})}function Fy(n,e){return function(){return n.apply(e,arguments)}}const{toString:bx}=Object.prototype,{getPrototypeOf:kd}=Object,$l=(n=>e=>{const r=bx.call(e);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Zt=n=>(n=n.toLowerCase(),e=>$l(e)===n),Wl=n=>e=>typeof e===n,{isArray:gi}=Array,Is=Wl("undefined");function jx(n){return n!==null&&!Is(n)&&n.constructor!==null&&!Is(n.constructor)&&Pt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const by=Zt("ArrayBuffer");function zx(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&by(n.buffer),e}const Ux=Wl("string"),Pt=Wl("function"),jy=Wl("number"),Hl=n=>n!==null&&typeof n=="object",Bx=n=>n===!0||n===!1,ll=n=>{if($l(n)!=="object")return!1;const e=kd(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},$x=Zt("Date"),Wx=Zt("File"),Hx=Zt("Blob"),qx=Zt("FileList"),Vx=n=>Hl(n)&&Pt(n.pipe),Qx=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Pt(n.append)&&((e=$l(n))==="formdata"||e==="object"&&Pt(n.toString)&&n.toString()==="[object FormData]"))},Gx=Zt("URLSearchParams"),[Kx,Yx,Jx,Xx]=["ReadableStream","Request","Response","Headers"].map(Zt),Zx=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bs(n,e,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let s,l;if(typeof n!="object"&&(n=[n]),gi(n))for(s=0,l=n.length;s<l;s++)e.call(null,n[s],s,n);else{const u=r?Object.getOwnPropertyNames(n):Object.keys(n),c=u.length;let h;for(s=0;s<c;s++)h=u[s],e.call(null,n[h],h,n)}}function zy(n,e){e=e.toLowerCase();const r=Object.keys(n);let s=r.length,l;for(;s-- >0;)if(l=r[s],e===l.toLowerCase())return l;return null}const vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Uy=n=>!Is(n)&&n!==vr;function Pc(){const{caseless:n}=Uy(this)&&this||{},e={},r=(s,l)=>{const u=n&&zy(e,l)||l;ll(e[u])&&ll(s)?e[u]=Pc(e[u],s):ll(s)?e[u]=Pc({},s):gi(s)?e[u]=s.slice():e[u]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&Bs(arguments[s],r);return e}const ek=(n,e,r,{allOwnKeys:s}={})=>(Bs(e,(l,u)=>{r&&Pt(l)?n[u]=Fy(l,r):n[u]=l},{allOwnKeys:s}),n),tk=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),nk=(n,e,r,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),r&&Object.assign(n.prototype,r)},rk=(n,e,r,s)=>{let l,u,c;const h={};if(e=e||{},n==null)return e;do{for(l=Object.getOwnPropertyNames(n),u=l.length;u-- >0;)c=l[u],(!s||s(c,n,e))&&!h[c]&&(e[c]=n[c],h[c]=!0);n=r!==!1&&kd(n)}while(n&&(!r||r(n,e))&&n!==Object.prototype);return e},ik=(n,e,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=e.length;const s=n.indexOf(e,r);return s!==-1&&s===r},sk=n=>{if(!n)return null;if(gi(n))return n;let e=n.length;if(!jy(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=n[e];return r},ok=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&kd(Uint8Array)),lk=(n,e)=>{const s=(n&&n[Symbol.iterator]).call(n);let l;for(;(l=s.next())&&!l.done;){const u=l.value;e.call(n,u[0],u[1])}},ak=(n,e)=>{let r;const s=[];for(;(r=n.exec(e))!==null;)s.push(r);return s},uk=Zt("HTMLFormElement"),ck=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,l){return s.toUpperCase()+l}),Om=(({hasOwnProperty:n})=>(e,r)=>n.call(e,r))(Object.prototype),dk=Zt("RegExp"),By=(n,e)=>{const r=Object.getOwnPropertyDescriptors(n),s={};Bs(r,(l,u)=>{let c;(c=e(l,u,n))!==!1&&(s[u]=c||l)}),Object.defineProperties(n,s)},fk=n=>{By(n,(e,r)=>{if(Pt(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=n[r];if(Pt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},hk=(n,e)=>{const r={},s=l=>{l.forEach(u=>{r[u]=!0})};return gi(n)?s(n):s(String(n).split(e)),r},pk=()=>{},mk=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,sc="abcdefghijklmnopqrstuvwxyz",Am="0123456789",$y={DIGIT:Am,ALPHA:sc,ALPHA_DIGIT:sc+sc.toUpperCase()+Am},gk=(n=16,e=$y.ALPHA_DIGIT)=>{let r="";const{length:s}=e;for(;n--;)r+=e[Math.random()*s|0];return r};function yk(n){return!!(n&&Pt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const _k=n=>{const e=new Array(10),r=(s,l)=>{if(Hl(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[l]=s;const u=gi(s)?[]:{};return Bs(s,(c,h)=>{const p=r(c,l+1);!Is(p)&&(u[h]=p)}),e[l]=void 0,u}}return s};return r(n,0)},vk=Zt("AsyncFunction"),wk=n=>n&&(Hl(n)||Pt(n))&&Pt(n.then)&&Pt(n.catch),Wy=((n,e)=>n?setImmediate:e?((r,s)=>(vr.addEventListener("message",({source:l,data:u})=>{l===vr&&u===r&&s.length&&s.shift()()},!1),l=>{s.push(l),vr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Pt(vr.postMessage)),Ek=typeof queueMicrotask<"u"?queueMicrotask.bind(vr):typeof process<"u"&&process.nextTick||Wy,L={isArray:gi,isArrayBuffer:by,isBuffer:jx,isFormData:Qx,isArrayBufferView:zx,isString:Ux,isNumber:jy,isBoolean:Bx,isObject:Hl,isPlainObject:ll,isReadableStream:Kx,isRequest:Yx,isResponse:Jx,isHeaders:Xx,isUndefined:Is,isDate:$x,isFile:Wx,isBlob:Hx,isRegExp:dk,isFunction:Pt,isStream:Vx,isURLSearchParams:Gx,isTypedArray:ok,isFileList:qx,forEach:Bs,merge:Pc,extend:ek,trim:Zx,stripBOM:tk,inherits:nk,toFlatObject:rk,kindOf:$l,kindOfTest:Zt,endsWith:ik,toArray:sk,forEachEntry:lk,matchAll:ak,isHTMLForm:uk,hasOwnProperty:Om,hasOwnProp:Om,reduceDescriptors:By,freezeMethods:fk,toObjectSet:hk,toCamelCase:ck,noop:pk,toFiniteNumber:mk,findKey:zy,global:vr,isContextDefined:Uy,ALPHABET:$y,generateString:gk,isSpecCompliantForm:yk,toJSONObject:_k,isAsyncFn:vk,isThenable:wk,setImmediate:Wy,asap:Ek};function le(n,e,r,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}L.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const Hy=le.prototype,qy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{qy[n]={value:n}});Object.defineProperties(le,qy);Object.defineProperty(Hy,"isAxiosError",{value:!0});le.from=(n,e,r,s,l,u)=>{const c=Object.create(Hy);return L.toFlatObject(n,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),le.call(c,n.message,e,r,s,l),c.cause=n,c.name=n.name,u&&Object.assign(c,u),c};const Ck=null;function Oc(n){return L.isPlainObject(n)||L.isArray(n)}function Vy(n){return L.endsWith(n,"[]")?n.slice(0,-2):n}function Dm(n,e,r){return n?n.concat(e).map(function(l,u){return l=Vy(l),!r&&u?"["+l+"]":l}).join(r?".":""):e}function Sk(n){return L.isArray(n)&&!n.some(Oc)}const xk=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function ql(n,e,r){if(!L.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,r=L.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,R){return!L.isUndefined(R[N])});const s=r.metaTokens,l=r.visitor||y,u=r.dots,c=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(l))throw new TypeError("visitor must be a function");function m(E){if(E===null)return"";if(L.isDate(E))return E.toISOString();if(!p&&L.isBlob(E))throw new le("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(E)||L.isTypedArray(E)?p&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,N,R){let D=E;if(E&&!R&&typeof E=="object"){if(L.endsWith(N,"{}"))N=s?N:N.slice(0,-2),E=JSON.stringify(E);else if(L.isArray(E)&&Sk(E)||(L.isFileList(E)||L.endsWith(N,"[]"))&&(D=L.toArray(E)))return N=Vy(N),D.forEach(function(z,$){!(L.isUndefined(z)||z===null)&&e.append(c===!0?Dm([N],$,u):c===null?N:N+"[]",m(z))}),!1}return Oc(E)?!0:(e.append(Dm(R,N,u),m(E)),!1)}const _=[],v=Object.assign(xk,{defaultVisitor:y,convertValue:m,isVisitable:Oc});function x(E,N){if(!L.isUndefined(E)){if(_.indexOf(E)!==-1)throw Error("Circular reference detected in "+N.join("."));_.push(E),L.forEach(E,function(D,M){(!(L.isUndefined(D)||D===null)&&l.call(e,D,L.isString(M)?M.trim():M,N,v))===!0&&x(D,N?N.concat(M):[M])}),_.pop()}}if(!L.isObject(n))throw new TypeError("data must be an object");return x(n),e}function Lm(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Td(n,e){this._pairs=[],n&&ql(n,this,e)}const Qy=Td.prototype;Qy.append=function(e,r){this._pairs.push([e,r])};Qy.toString=function(e){const r=e?function(s){return e.call(this,s,Lm)}:Lm;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function kk(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gy(n,e,r){if(!e)return n;const s=r&&r.encode||kk;L.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let u;if(l?u=l(e,r):u=L.isURLSearchParams(e)?e.toString():new Td(e,r).toString(s),u){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class Mm{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Ky={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tk=typeof URLSearchParams<"u"?URLSearchParams:Td,Rk=typeof FormData<"u"?FormData:null,Nk=typeof Blob<"u"?Blob:null,Ik={isBrowser:!0,classes:{URLSearchParams:Tk,FormData:Rk,Blob:Nk},protocols:["http","https","file","blob","url","data"]},Rd=typeof window<"u"&&typeof document<"u",Ac=typeof navigator=="object"&&navigator||void 0,Pk=Rd&&(!Ac||["ReactNative","NativeScript","NS"].indexOf(Ac.product)<0),Ok=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ak=Rd&&window.location.href||"http://localhost",Dk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rd,hasStandardBrowserEnv:Pk,hasStandardBrowserWebWorkerEnv:Ok,navigator:Ac,origin:Ak},Symbol.toStringTag,{value:"Module"})),ct={...Dk,...Ik};function Lk(n,e){return ql(n,new ct.classes.URLSearchParams,Object.assign({visitor:function(r,s,l,u){return ct.isNode&&L.isBuffer(r)?(this.append(s,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function Mk(n){return L.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Fk(n){const e={},r=Object.keys(n);let s;const l=r.length;let u;for(s=0;s<l;s++)u=r[s],e[u]=n[u];return e}function Yy(n){function e(r,s,l,u){let c=r[u++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=u>=r.length;return c=!c&&L.isArray(l)?l.length:c,p?(L.hasOwnProp(l,c)?l[c]=[l[c],s]:l[c]=s,!h):((!l[c]||!L.isObject(l[c]))&&(l[c]=[]),e(r,s,l[c],u)&&L.isArray(l[c])&&(l[c]=Fk(l[c])),!h)}if(L.isFormData(n)&&L.isFunction(n.entries)){const r={};return L.forEachEntry(n,(s,l)=>{e(Mk(s),l,r,0)}),r}return null}function bk(n,e,r){if(L.isString(n))try{return(e||JSON.parse)(n),L.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(n)}const $s={transitional:Ky,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const s=r.getContentType()||"",l=s.indexOf("application/json")>-1,u=L.isObject(e);if(u&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return l?JSON.stringify(Yy(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)||L.isReadableStream(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Lk(e,this.formSerializer).toString();if((h=L.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return ql(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||l?(r.setContentType("application/json",!1),bk(e)):e}],transformResponse:[function(e){const r=this.transitional||$s.transitional,s=r&&r.forcedJSONParsing,l=this.responseType==="json";if(L.isResponse(e)||L.isReadableStream(e))return e;if(e&&L.isString(e)&&(s&&!this.responseType||l)){const c=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?le.from(h,le.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],n=>{$s.headers[n]={}});const jk=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zk=n=>{const e={};let r,s,l;return n&&n.split(`
`).forEach(function(c){l=c.indexOf(":"),r=c.substring(0,l).trim().toLowerCase(),s=c.substring(l+1).trim(),!(!r||e[r]&&jk[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},Fm=Symbol("internals");function cs(n){return n&&String(n).trim().toLowerCase()}function al(n){return n===!1||n==null?n:L.isArray(n)?n.map(al):String(n)}function Uk(n){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(n);)e[s[1]]=s[2];return e}const Bk=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function oc(n,e,r,s,l){if(L.isFunction(s))return s.call(this,e,r);if(l&&(e=r),!!L.isString(e)){if(L.isString(s))return e.indexOf(s)!==-1;if(L.isRegExp(s))return s.test(e)}}function $k(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function Wk(n,e){const r=L.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+r,{value:function(l,u,c){return this[s].call(this,e,l,u,c)},configurable:!0})})}class xt{constructor(e){e&&this.set(e)}set(e,r,s){const l=this;function u(h,p,m){const y=cs(p);if(!y)throw new Error("header name must be a non-empty string");const _=L.findKey(l,y);(!_||l[_]===void 0||m===!0||m===void 0&&l[_]!==!1)&&(l[_||p]=al(h))}const c=(h,p)=>L.forEach(h,(m,y)=>u(m,y,p));if(L.isPlainObject(e)||e instanceof this.constructor)c(e,r);else if(L.isString(e)&&(e=e.trim())&&!Bk(e))c(zk(e),r);else if(L.isHeaders(e))for(const[h,p]of e.entries())u(p,h,s);else e!=null&&u(r,e,s);return this}get(e,r){if(e=cs(e),e){const s=L.findKey(this,e);if(s){const l=this[s];if(!r)return l;if(r===!0)return Uk(l);if(L.isFunction(r))return r.call(this,l,s);if(L.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=cs(e),e){const s=L.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||oc(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let l=!1;function u(c){if(c=cs(c),c){const h=L.findKey(s,c);h&&(!r||oc(s,s[h],h,r))&&(delete s[h],l=!0)}}return L.isArray(e)?e.forEach(u):u(e),l}clear(e){const r=Object.keys(this);let s=r.length,l=!1;for(;s--;){const u=r[s];(!e||oc(this,this[u],u,e,!0))&&(delete this[u],l=!0)}return l}normalize(e){const r=this,s={};return L.forEach(this,(l,u)=>{const c=L.findKey(s,u);if(c){r[c]=al(l),delete r[u];return}const h=e?$k(u):String(u).trim();h!==u&&delete r[u],r[h]=al(l),s[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return L.forEach(this,(s,l)=>{s!=null&&s!==!1&&(r[l]=e&&L.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(l=>s.set(l)),s}static accessor(e){const s=(this[Fm]=this[Fm]={accessors:{}}).accessors,l=this.prototype;function u(c){const h=cs(c);s[h]||(Wk(l,c),s[h]=!0)}return L.isArray(e)?e.forEach(u):u(e),this}}xt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(xt.prototype,({value:n},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[r]=s}}});L.freezeMethods(xt);function lc(n,e){const r=this||$s,s=e||r,l=xt.from(s.headers);let u=s.data;return L.forEach(n,function(h){u=h.call(r,u,l.normalize(),e?e.status:void 0)}),l.normalize(),u}function Jy(n){return!!(n&&n.__CANCEL__)}function yi(n,e,r){le.call(this,n??"canceled",le.ERR_CANCELED,e,r),this.name="CanceledError"}L.inherits(yi,le,{__CANCEL__:!0});function Xy(n,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?n(r):e(new le("Request failed with status code "+r.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Hk(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function qk(n,e){n=n||10;const r=new Array(n),s=new Array(n);let l=0,u=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),y=s[u];c||(c=m),r[l]=p,s[l]=m;let _=u,v=0;for(;_!==l;)v+=r[_++],_=_%n;if(l=(l+1)%n,l===u&&(u=(u+1)%n),m-c<e)return;const x=y&&m-y;return x?Math.round(v*1e3/x):void 0}}function Vk(n,e){let r=0,s=1e3/e,l,u;const c=(m,y=Date.now())=>{r=y,l=null,u&&(clearTimeout(u),u=null),n.apply(null,m)};return[(...m)=>{const y=Date.now(),_=y-r;_>=s?c(m,y):(l=m,u||(u=setTimeout(()=>{u=null,c(l)},s-_)))},()=>l&&c(l)]}const Rl=(n,e,r=3)=>{let s=0;const l=qk(50,250);return Vk(u=>{const c=u.loaded,h=u.lengthComputable?u.total:void 0,p=c-s,m=l(p),y=c<=h;s=c;const _={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&y?(h-c)/m:void 0,event:u,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},r)},bm=(n,e)=>{const r=n!=null;return[s=>e[0]({lengthComputable:r,total:n,loaded:s}),e[1]]},jm=n=>(...e)=>L.asap(()=>n(...e)),Qk=ct.hasStandardBrowserEnv?((n,e)=>r=>(r=new URL(r,ct.origin),n.protocol===r.protocol&&n.host===r.host&&(e||n.port===r.port)))(new URL(ct.origin),ct.navigator&&/(msie|trident)/i.test(ct.navigator.userAgent)):()=>!0,Gk=ct.hasStandardBrowserEnv?{write(n,e,r,s,l,u){const c=[n+"="+encodeURIComponent(e)];L.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),L.isString(s)&&c.push("path="+s),L.isString(l)&&c.push("domain="+l),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kk(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Yk(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Zy(n,e){return n&&!Kk(e)?Yk(n,e):e}const zm=n=>n instanceof xt?{...n}:n;function xr(n,e){e=e||{};const r={};function s(m,y,_,v){return L.isPlainObject(m)&&L.isPlainObject(y)?L.merge.call({caseless:v},m,y):L.isPlainObject(y)?L.merge({},y):L.isArray(y)?y.slice():y}function l(m,y,_,v){if(L.isUndefined(y)){if(!L.isUndefined(m))return s(void 0,m,_,v)}else return s(m,y,_,v)}function u(m,y){if(!L.isUndefined(y))return s(void 0,y)}function c(m,y){if(L.isUndefined(y)){if(!L.isUndefined(m))return s(void 0,m)}else return s(void 0,y)}function h(m,y,_){if(_ in e)return s(m,y);if(_ in n)return s(void 0,m)}const p={url:u,method:u,data:u,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,y,_)=>l(zm(m),zm(y),_,!0)};return L.forEach(Object.keys(Object.assign({},n,e)),function(y){const _=p[y]||l,v=_(n[y],e[y],y);L.isUndefined(v)&&_!==h||(r[y]=v)}),r}const e_=n=>{const e=xr({},n);let{data:r,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:u,headers:c,auth:h}=e;e.headers=c=xt.from(c),e.url=Gy(Zy(e.baseURL,e.url),n.params,n.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(L.isFormData(r)){if(ct.hasStandardBrowserEnv||ct.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...y]=p?p.split(";").map(_=>_.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(ct.hasStandardBrowserEnv&&(s&&L.isFunction(s)&&(s=s(e)),s||s!==!1&&Qk(e.url))){const m=l&&u&&Gk.read(u);m&&c.set(l,m)}return e},Jk=typeof XMLHttpRequest<"u",Xk=Jk&&function(n){return new Promise(function(r,s){const l=e_(n);let u=l.data;const c=xt.from(l.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=l,y,_,v,x,E;function N(){x&&x(),E&&E(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let R=new XMLHttpRequest;R.open(l.method.toUpperCase(),l.url,!0),R.timeout=l.timeout;function D(){if(!R)return;const z=xt.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),H={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:z,config:n,request:R};Xy(function(Z){r(Z),N()},function(Z){s(Z),N()},H),R=null}"onloadend"in R?R.onloadend=D:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(D)},R.onabort=function(){R&&(s(new le("Request aborted",le.ECONNABORTED,n,R)),R=null)},R.onerror=function(){s(new le("Network Error",le.ERR_NETWORK,n,R)),R=null},R.ontimeout=function(){let $=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const H=l.transitional||Ky;l.timeoutErrorMessage&&($=l.timeoutErrorMessage),s(new le($,H.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,n,R)),R=null},u===void 0&&c.setContentType(null),"setRequestHeader"in R&&L.forEach(c.toJSON(),function($,H){R.setRequestHeader(H,$)}),L.isUndefined(l.withCredentials)||(R.withCredentials=!!l.withCredentials),h&&h!=="json"&&(R.responseType=l.responseType),m&&([v,E]=Rl(m,!0),R.addEventListener("progress",v)),p&&R.upload&&([_,x]=Rl(p),R.upload.addEventListener("progress",_),R.upload.addEventListener("loadend",x)),(l.cancelToken||l.signal)&&(y=z=>{R&&(s(!z||z.type?new yi(null,n,R):z),R.abort(),R=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));const M=Hk(l.url);if(M&&ct.protocols.indexOf(M)===-1){s(new le("Unsupported protocol "+M+":",le.ERR_BAD_REQUEST,n));return}R.send(u||null)})},Zk=(n,e)=>{const{length:r}=n=n?n.filter(Boolean):[];if(e||r){let s=new AbortController,l;const u=function(m){if(!l){l=!0,h();const y=m instanceof Error?m:this.reason;s.abort(y instanceof le?y:new yi(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,u(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const h=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),n=null)};n.forEach(m=>m.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>L.asap(h),p}},eT=function*(n,e){let r=n.byteLength;if(r<e){yield n;return}let s=0,l;for(;s<r;)l=s+e,yield n.slice(s,l),s=l},tT=async function*(n,e){for await(const r of nT(n))yield*eT(r,e)},nT=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},Um=(n,e,r,s)=>{const l=tT(n,e);let u=0,c,h=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:m,value:y}=await l.next();if(m){h(),p.close();return}let _=y.byteLength;if(r){let v=u+=_;r(v)}p.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(p){return h(p),l.return()}},{highWaterMark:2})},Vl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",t_=Vl&&typeof ReadableStream=="function",rT=Vl&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),n_=(n,...e)=>{try{return!!n(...e)}catch{return!1}},iT=t_&&n_(()=>{let n=!1;const e=new Request(ct.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Bm=64*1024,Dc=t_&&n_(()=>L.isReadableStream(new Response("").body)),Nl={stream:Dc&&(n=>n.body)};Vl&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nl[e]&&(Nl[e]=L.isFunction(n[e])?r=>r[e]():(r,s)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,s)})})})(new Response);const sT=async n=>{if(n==null)return 0;if(L.isBlob(n))return n.size;if(L.isSpecCompliantForm(n))return(await new Request(ct.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(L.isArrayBufferView(n)||L.isArrayBuffer(n))return n.byteLength;if(L.isURLSearchParams(n)&&(n=n+""),L.isString(n))return(await rT(n)).byteLength},oT=async(n,e)=>{const r=L.toFiniteNumber(n.getContentLength());return r??sT(e)},lT=Vl&&(async n=>{let{url:e,method:r,data:s,signal:l,cancelToken:u,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:y,withCredentials:_="same-origin",fetchOptions:v}=e_(n);m=m?(m+"").toLowerCase():"text";let x=Zk([l,u&&u.toAbortSignal()],c),E;const N=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let R;try{if(p&&iT&&r!=="get"&&r!=="head"&&(R=await oT(y,s))!==0){let H=new Request(e,{method:"POST",body:s,duplex:"half"}),Q;if(L.isFormData(s)&&(Q=H.headers.get("content-type"))&&y.setContentType(Q),H.body){const[Z,ie]=bm(R,Rl(jm(p)));s=Um(H.body,Bm,Z,ie)}}L.isString(_)||(_=_?"include":"omit");const D="credentials"in Request.prototype;E=new Request(e,{...v,signal:x,method:r.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:D?_:void 0});let M=await fetch(E);const z=Dc&&(m==="stream"||m==="response");if(Dc&&(h||z&&N)){const H={};["status","statusText","headers"].forEach(se=>{H[se]=M[se]});const Q=L.toFiniteNumber(M.headers.get("content-length")),[Z,ie]=h&&bm(Q,Rl(jm(h),!0))||[];M=new Response(Um(M.body,Bm,Z,()=>{ie&&ie(),N&&N()}),H)}m=m||"text";let $=await Nl[L.findKey(Nl,m)||"text"](M,n);return!z&&N&&N(),await new Promise((H,Q)=>{Xy(H,Q,{data:$,headers:xt.from(M.headers),status:M.status,statusText:M.statusText,config:n,request:E})})}catch(D){throw N&&N(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,n,E),{cause:D.cause||D}):le.from(D,D&&D.code,n,E)}}),Lc={http:Ck,xhr:Xk,fetch:lT};L.forEach(Lc,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const $m=n=>`- ${n}`,aT=n=>L.isFunction(n)||n===null||n===!1,r_={getAdapter:n=>{n=L.isArray(n)?n:[n];const{length:e}=n;let r,s;const l={};for(let u=0;u<e;u++){r=n[u];let c;if(s=r,!aT(r)&&(s=Lc[(c=String(r)).toLowerCase()],s===void 0))throw new le(`Unknown adapter '${c}'`);if(s)break;l[c||"#"+u]=s}if(!s){const u=Object.entries(l).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?u.length>1?`since :
`+u.map($m).join(`
`):" "+$m(u[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Lc};function ac(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new yi(null,n)}function Wm(n){return ac(n),n.headers=xt.from(n.headers),n.data=lc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),r_.getAdapter(n.adapter||$s.adapter)(n).then(function(s){return ac(n),s.data=lc.call(n,n.transformResponse,s),s.headers=xt.from(s.headers),s},function(s){return Jy(s)||(ac(n),s&&s.response&&(s.response.data=lc.call(n,n.transformResponse,s.response),s.response.headers=xt.from(s.response.headers))),Promise.reject(s)})}const i_="1.7.9",Ql={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ql[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const Hm={};Ql.transitional=function(e,r,s){function l(u,c){return"[Axios v"+i_+"] Transitional option '"+u+"'"+c+(s?". "+s:"")}return(u,c,h)=>{if(e===!1)throw new le(l(c," has been removed"+(r?" in "+r:"")),le.ERR_DEPRECATED);return r&&!Hm[c]&&(Hm[c]=!0,console.warn(l(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(u,c,h):!0}};Ql.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function uT(n,e,r){if(typeof n!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let l=s.length;for(;l-- >0;){const u=s[l],c=e[u];if(c){const h=n[u],p=h===void 0||c(h,u,n);if(p!==!0)throw new le("option "+u+" must be "+p,le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new le("Unknown option "+u,le.ERR_BAD_OPTION)}}const ul={assertOptions:uT,validators:Ql},on=ul.validators;class wr{constructor(e){this.defaults=e,this.interceptors={request:new Mm,response:new Mm}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=xr(this.defaults,r);const{transitional:s,paramsSerializer:l,headers:u}=r;s!==void 0&&ul.assertOptions(s,{silentJSONParsing:on.transitional(on.boolean),forcedJSONParsing:on.transitional(on.boolean),clarifyTimeoutError:on.transitional(on.boolean)},!1),l!=null&&(L.isFunction(l)?r.paramsSerializer={serialize:l}:ul.assertOptions(l,{encode:on.function,serialize:on.function},!0)),ul.assertOptions(r,{baseUrl:on.spelling("baseURL"),withXsrfToken:on.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=u&&L.merge(u.common,u[r.method]);u&&L.forEach(["delete","get","head","post","put","patch","common"],E=>{delete u[E]}),r.headers=xt.concat(c,u);const h=[];let p=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(p=p&&N.synchronous,h.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let y,_=0,v;if(!p){const E=[Wm.bind(this),void 0];for(E.unshift.apply(E,h),E.push.apply(E,m),v=E.length,y=Promise.resolve(r);_<v;)y=y.then(E[_++],E[_++]);return y}v=h.length;let x=r;for(_=0;_<v;){const E=h[_++],N=h[_++];try{x=E(x)}catch(R){N.call(this,R);break}}try{y=Wm.call(this,x)}catch(E){return Promise.reject(E)}for(_=0,v=m.length;_<v;)y=y.then(m[_++],m[_++]);return y}getUri(e){e=xr(this.defaults,e);const r=Zy(e.baseURL,e.url);return Gy(r,e.params,e.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(e){wr.prototype[e]=function(r,s){return this.request(xr(s||{},{method:e,url:r,data:(s||{}).data}))}});L.forEach(["post","put","patch"],function(e){function r(s){return function(u,c,h){return this.request(xr(h||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:c}))}}wr.prototype[e]=r(),wr.prototype[e+"Form"]=r(!0)});class Nd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const s=this;this.promise.then(l=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](l);s._listeners=null}),this.promise.then=l=>{let u;const c=new Promise(h=>{s.subscribe(h),u=h}).then(l);return c.cancel=function(){s.unsubscribe(u)},c},e(function(u,c,h){s.reason||(s.reason=new yi(u,c,h),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Nd(function(l){e=l}),cancel:e}}}function cT(n){return function(r){return n.apply(null,r)}}function dT(n){return L.isObject(n)&&n.isAxiosError===!0}const Mc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mc).forEach(([n,e])=>{Mc[e]=n});function s_(n){const e=new wr(n),r=Fy(wr.prototype.request,e);return L.extend(r,wr.prototype,e,{allOwnKeys:!0}),L.extend(r,e,null,{allOwnKeys:!0}),r.create=function(l){return s_(xr(n,l))},r}const qe=s_($s);qe.Axios=wr;qe.CanceledError=yi;qe.CancelToken=Nd;qe.isCancel=Jy;qe.VERSION=i_;qe.toFormData=ql;qe.AxiosError=le;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=cT;qe.isAxiosError=dT;qe.mergeConfig=xr;qe.AxiosHeaders=xt;qe.formToJSON=n=>Yy(L.isHTMLForm(n)?new FormData(n):n);qe.getAdapter=r_.getAdapter;qe.HttpStatusCode=Mc;qe.default=qe;function Id(n=null){const e=n?{Authorization:`Bearer ${n}`,"Content-Type":"multipart/form-data"}:{"Content-Type":"multipart/form-data"},r=qe.create({baseURL:"https://quizdb-ad0a2-default-rtdb.firebaseio.com",headers:e,timeout:6e4,withCredentials:!1});return r.interceptors.request.use(s=>{const l=localStorage.getItem("ACCESS_TOKEN");return s.headers=s.headers||{},l&&(s.headers.Authorization=`Bearer ${l}`),s}),r.interceptors.response.use(s=>s,s=>{try{const{response:l}=s;(l==null?void 0:l.status)===401&&localStorage.removeItem("ACCESS_TOKEN")}catch(l){console.error(l)}throw s}),r}function fT(){const n=Xt(),e=mt(),r=Id(),[s,l]=O.useState([]),[u,c]=O.useState([]);O.useEffect(()=>{try{l(Object.values(e.state.answers)),console.log(Object.values(e.state.answers))}catch{console.log("no answers using empty array")}r.get("/questions.json").then(m=>{const y=m.data;if(y){const _=Object.keys(y).map(v=>({id:v,...y[v]}));c(_),console.log(_)}else console.log("No questions found.")}).catch(m=>{console.error("Error while getting questions:",m)})},[]);function h(){n("/")}function p(){let m=0;for(let _=0;_<u.length;_++)u[_].answer==s[_]&&m++;return parseFloat((m/u.length*100).toFixed(2)).toString()}return P.jsx(P.Fragment,{children:P.jsx("div",{id:"all-quiz",children:P.jsxs("div",{id:"instructions",children:[P.jsxs("div",{children:[P.jsxs("p",{children:["You Finished with ",p(),"% score"]}),s.length>0?s.map((m,y)=>{var _;return P.jsxs("div",{className:((_=u[y])==null?void 0:_.answer)==m?"correct":"incorrect",children:[u[y]?u[y].legend:y,": ",m]},y)}):P.jsx("p",{children:"No answers to display"})]}),P.jsx("div",{className:"button-container",children:P.jsx("button",{onClick:h,id:"continue",children:"Finish"})})]})})})}function hT(){const n=Xt(),e=mt(),r=Id(),[s,l]=O.useState([]),[u,c]=O.useState([]);O.useEffect(()=>{try{l(Object.values(e.state.answers)),console.log(Object.values(e.state.answers))}catch{console.log("no answers using empty array")}r.get(`/groups/${e.state.groupName}/quizzes/${e.state.quizId}/questions.json`).then(m=>{const y=m.data;y?(c(y),console.log(y)):console.log("No questions found.")}).catch(m=>{console.error("Error while getting questions:",m)})},[]);function h(){n("/quizPage",{state:{groupName:e.state.groupName,username:e.state.username,quizId:e.state.quizId}})}function p(){n("/options",{state:{username:e.state.username}})}return P.jsx(P.Fragment,{children:P.jsx("div",{id:"all-quiz",children:P.jsxs("div",{id:"instructions",children:[P.jsxs("div",{children:[P.jsx("p",{children:"Thank you for taking this quiz!"}),s.length>0?s.map((m,y)=>P.jsxs("div",{children:[u[y],": ",m]},y)):P.jsx("p",{children:"No answers to display"})]}),P.jsxs("div",{className:"button-container",children:[P.jsx("button",{onClick:h,id:"continue",children:"Retake"}),P.jsx("button",{onClick:p,children:"Home"})]})]})})})}function pT(){const n=Xt(),e=mt(),[r,s]=O.useState([]),[l,u]=O.useState(1),[c,h]=O.useState([""]),[p,m]=O.useState(""),[y,_]=O.useState(""),[v,x]=O.useState(null),[E,N]=O.useState(!1);O.useEffect(()=>{try{s(Object.values(e.state.answers)),e.state.id&&x(e.state.id),e.state.id&&R(e.state.id)}catch{console.log("No answers or Firebase key provided, using default values.")}},[e.state]);function R(se){const de=He(Gn,`questions/${se}`);console.log(se),Cn(de).then(Ce=>{if(Ce.exists()){console.log(Ce);const $e=Ce.val();_($e.legend),u($e.numOptions);const tt=Array.from({length:$e.numOptions},(Ot,At)=>$e[`option${At+1}`]);h(tt),m($e.answer),N(!0)}else console.error("Question not found in the database.")}).catch(Ce=>{console.error("Error retrieving question:",Ce)})}function D(se){const de=parseInt(se.target.value,10)||1;u(de),de>c.length?h([...c,...Array(de-c.length).fill("")]):h(c.slice(0,de))}function M(se,de){const Ce=[...c];Ce[se]=de.target.value,h(Ce)}function z(se){m(se.target.value)}function $(se){_(se.target.value)}function H(){return c.includes(p)}function Q(){if(!H()){document.getElementById("warning").innerHTML="Please make sure your correct value is one of the available options.";return}const se={name:`Q${v||"New"}`,legend:y,numOptions:l,...c.reduce((Ce,$e,tt)=>(Ce[`option${tt+1}`]=$e,Ce),{}),answer:p},de=He(Gn,"questions");if(v){const Ce=He(Gn,`questions/${v}`);Cx(Ce,se).then(()=>console.log("Question updated successfully")).catch($e=>console.error("Error updating question:",$e))}else wx(de,se).then(()=>console.log("Question added successfully")).catch(Ce=>console.error("Error adding question:",Ce));n("/done",{state:{answers:r}})}function Z(){const se=He(Gn,`questions/${v}`);Ex(se).then(()=>n("/done",{state:{answers:r}})).catch(de=>{console.error("Error deleting question:",de),alert("Failed to delete the question. Please try again.")})}function ie(){n("/done",{state:{answers:r}})}return P.jsx("div",{id:"all-quiz",children:P.jsxs("div",{id:"instructions",children:[P.jsx("h2",{children:"Question Creation"}),P.jsx("label",{htmlFor:"prompt",children:"Prompt:"}),P.jsx("textarea",{rows:"5",cols:"40",id:"prompt",value:y,onChange:$,className:"fillable"}),P.jsx("label",{htmlFor:"numOptions",children:"Number of Options:"}),P.jsx("input",{type:"number",id:"numOptions",min:"1",max:"100",step:"1",value:l,onChange:D,className:"fillable"}),P.jsx("ul",{id:"options",children:c.map((se,de)=>P.jsx("li",{children:P.jsx("input",{type:"text",value:se,onChange:Ce=>M(de,Ce),placeholder:`Option ${de+1}`,className:"fillable"})},de))}),P.jsx("label",{htmlFor:"CV",children:"Correct Value:"}),P.jsx("input",{type:"text",id:"CV",value:p,onChange:z,className:"fillable"}),P.jsx("div",{id:"warning"}),P.jsxs("div",{className:"button-container",children:[P.jsx("button",{onClick:Q,children:"Finish"}),v&&P.jsx("button",{onClick:Z,children:"Delete"}),P.jsx("button",{onClick:ie,children:"Cancel"})]})]})})}function mT(){const n=Xt(),e=Id(),r=mt(),[s,l]=O.useState([]),[u,c]=O.useState([]);O.useEffect(()=>{try{l(Object.values(r.state.answers)),setId(r.state.id),console.log(Object.values(r.state.answers))}catch{console.log("no answers using empty array")}e.get("/questions.json").then(y=>{const _=y.data;if(_){const v=Object.keys(_).map(x=>({id:x,..._[x]}));c(v),console.log(v)}else console.log("No questions found.")}).catch(y=>{console.error("Error while getting questions:",y)})},[]);function h(y){n("/create",{state:{answers:s,id:y-1}})}function p(){n("/done",{state:{answers:s}})}function m(y){y.target.style.cursor="pointer"}return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"content-container",children:[P.jsx("h2",{className:"title",children:"Questions"}),P.jsx("ul",{children:u.map((y,_)=>P.jsx("li",{onClick:()=>h(y.id),children:P.jsx("div",{className:"card",onMouseOver:v=>m(v),children:P.jsx("div",{className:"card-content",children:P.jsx("div",{className:"content",children:P.jsx("div",{className:"name",children:y.legend},"question.legend")})})})},y.id))}),P.jsx("button",{onClick:p,children:"Back"})]})})}function gT(){const n=Xt(),{state:e}=mt(),{groupName:r}=e,[s,l]=O.useState(""),[u,c]=O.useState([]),[h,p]=O.useState(""),m=()=>{if(!s||u.length===0){p("Please provide a title and at least one question.");return}const y=Qn(),_=new Date().toISOString().replace(/[:.]/g,"-"),v=He(y,`groups/${r}/quizzes/${_}`);console.log("Saving to path:",`groups/${r}/quizzes/${_}`);const x={title:s,questions:u,date:new Date().toISOString().split("T")[0]};console.log(x),vn(v,x).then(()=>{const E=He(y,`groups/${r}/latest`);vn(E,{latestQuiz:{id:_,date:new Date().toISOString().split("T")[0]}}).then(()=>{n("/quizPage",{state:{groupName:r,quizId:_,username:e.username}})}).catch(N=>{p("Error updating group with latest quiz: "+N.message)})}).catch(E=>{p("Error creating quiz: "+E.message)})};return P.jsx("div",{className:"quiz-creation-container",children:P.jsxs("div",{className:"quiz-creation-card",children:[P.jsxs("h2",{children:["Create a Quiz for ",r]}),P.jsx("div",{className:"input-group",children:P.jsx("input",{type:"text",placeholder:"Enter Quiz Title",value:s,onChange:y=>l(y.target.value),className:"input-field"})}),P.jsx("div",{className:"input-group",children:P.jsx("textarea",{placeholder:"Enter Questions (separate by new lines)",value:u.join(`
`),onChange:y=>c(y.target.value.split(`
`)),className:"textarea-field"})}),P.jsx("button",{onClick:m,className:"create-quiz-btn",children:"Create Quiz"}),h&&P.jsx("p",{className:"error-message",children:h})]})})}function yT(){const n=mt(),e=Xt(),[r,s]=O.useState({id:0,name:"Q0",legend:"",answer:""}),[l,u]=O.useState([]),[c,h]=O.useState(1),[p,m]=O.useState([""]),y=c===1,_=c===l.length;O.useEffect(()=>{try{console.log(n.state.id),h(1);try{m(n.state.answers)}catch{console.log("No answers, using empty array")}}catch(z){console.log("Error getting state: "+z)}console.log(n.state.quizId);const M=He(Gn,`groups/${n.state.groupName}/quizzes/${n.state.quizId}/questions`);Cn(M).then(z=>{if(z.exists()){const $=z.val(),H=Object.keys($);console.log(H),u(H),v(H[0])}else console.log("No questions found in the database.")}).catch(z=>{console.log("Error while getting questions: "+z)})},[n.state.id]);const v=M=>{var Q,Z;const z=(Q=n.state)==null?void 0:Q.groupName,$=((Z=n.state)==null?void 0:Z.quizId)||"2024-12-10T19-37-39-210Z";if(!z||!M){console.log("Missing required parameters: groupName or questionId.");return}const H=He(Gn,`groups/${z}/quizzes/${$}`);Cn(H).then(ie=>{if(ie.exists()){const se=ie.val();console.log(se.questions[M]),s(se.questions[M])}else console.log(`No question found with the specified ID: ${M} in quiz: ${$}`)}).catch(ie=>{console.error(`Error getting question data for group: ${z}, quiz: ${$}, question: ${M}.`,ie)})};O.useEffect(()=>{console.log(l.length),l.length>0&&(m(new Array(l.length).fill("")),console.log("Answers initialized"))},[l]);const x=M=>{const z=M.target.value;m($=>{const H=[...$];return H[c-1]=z,H})},E=()=>{const M=c<l.length?c+1:c;m(z=>{const $=[...z];return $[M-1]="",$}),v(l[M-1]),h(M)},N=()=>{const M=c>1?c-1:c;m(z=>{const $=[...z];return $[M-1]="",$}),v(l[M-1]),h(M)};function R(){D(p)&&e("/doneUser",{state:{answers:p,username:n.state.username,groupName:n.state.groupName,quizId:n.state.quizId}})}function D(M){let z=!0;for(const $ of M)if(!$){document.getElementById("warning").innerHTML="Please answer all questions",z=!1;break}return z}return l.length===0||!p||typeof r!="string"?P.jsx("div",{children:"Loading..."}):P.jsx("div",{id:"all-quiz",children:P.jsxs("div",{id:"quiz",className:"quiz_center",children:[P.jsx("span",{id:"INFO",children:P.jsxs("span",{children:["Question: ",P.jsx("span",{id:"questionNumber",children:c})]})}),P.jsx("form",{name:"quiz_form",id:"quiz_form",method:"get",children:r?P.jsxs("fieldset",{children:[P.jsxs("legend",{children:[" ",r]}),P.jsx("div",{children:P.jsx("textarea",{value:p[c-1]||"",onChange:x,placeholder:"Type your answer here"})})]}):P.jsx("div",{children:"No question to display"})}),P.jsx("div",{id:"warning"}),P.jsxs("div",{className:"button-container",children:[!y&&P.jsx("button",{onClick:N,id:"prev",children:"Previous"}),!_&&P.jsx("button",{onClick:E,id:"next",children:"Next"}),_&&P.jsx("button",{onClick:R,id:"Finish",children:"Finish"})]})]})})}function _T(){return P.jsxs(nw,{children:[P.jsx(Gt,{path:"/",element:P.jsx(Fw,{})}),P.jsx(Gt,{path:"/quiz",element:P.jsx(Lx,{})}),P.jsx(Gt,{path:"/quiz-creation",element:P.jsx(gT,{})}),P.jsx(Gt,{path:"/quizPage",element:P.jsx(yT,{})}),P.jsx(Gt,{path:"/login",element:P.jsx(Mx,{})}),P.jsx(Gt,{path:"/options",element:P.jsx(Fx,{})}),P.jsx(Gt,{path:"/done",element:P.jsx(fT,{})}),P.jsx(Gt,{path:"/doneUser",element:P.jsx(hT,{})}),P.jsx(Gt,{path:"/create",element:P.jsx(pT,{})}),P.jsx(Gt,{path:"/edit",element:P.jsx(mT,{})})]})}f0.createRoot(document.getElementById("root")).render(P.jsx(s0.StrictMode,{children:P.jsx(Tw,{children:P.jsx(_T,{})})}));
