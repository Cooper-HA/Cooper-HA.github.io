(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function Jm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qu={exports:{}},rs={},Vu={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function uw(){if(Ip)return de;Ip=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=_&&N[_]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function R(N,F,ce){this.props=N,this.context=F,this.refs=T,this.updater=ce||k}R.prototype.isReactComponent={},R.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function b(){}b.prototype=R.prototype;function L(N,F,ce){this.props=N,this.context=F,this.refs=T,this.updater=ce||k}var $=L.prototype=new b;$.constructor=L,E($,R.prototype),$.isPureReactComponent=!0;var K=Array.isArray,z=Object.prototype.hasOwnProperty,V={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function q(N,F,ce){var pe,_e={},ve=null,ke=null;if(F!=null)for(pe in F.ref!==void 0&&(ke=F.ref),F.key!==void 0&&(ve=""+F.key),F)z.call(F,pe)&&!B.hasOwnProperty(pe)&&(_e[pe]=F[pe]);var Ce=arguments.length-2;if(Ce===1)_e.children=ce;else if(1<Ce){for(var Oe=Array(Ce),It=0;It<Ce;It++)Oe[It]=arguments[It+2];_e.children=Oe}if(N&&N.defaultProps)for(pe in Ce=N.defaultProps,Ce)_e[pe]===void 0&&(_e[pe]=Ce[pe]);return{$$typeof:n,type:N,key:ve,ref:ke,props:_e,_owner:V.current}}function J(N,F){return{$$typeof:n,type:N.type,key:F,ref:N.ref,props:N.props,_owner:N._owner}}function Q(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function ae(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ce){return F[ce]})}var We=/\/+/g;function nt(N,F){return typeof N=="object"&&N!==null&&N.key!=null?ae(""+N.key):F.toString(36)}function bt(N,F,ce,pe,_e){var ve=typeof N;(ve==="undefined"||ve==="boolean")&&(N=null);var ke=!1;if(N===null)ke=!0;else switch(ve){case"string":case"number":ke=!0;break;case"object":switch(N.$$typeof){case n:case e:ke=!0}}if(ke)return ke=N,_e=_e(ke),N=pe===""?"."+nt(ke,0):pe,K(_e)?(ce="",N!=null&&(ce=N.replace(We,"$&/")+"/"),bt(_e,F,ce,"",function(It){return It})):_e!=null&&(Q(_e)&&(_e=J(_e,ce+(!_e.key||ke&&ke.key===_e.key?"":(""+_e.key).replace(We,"$&/")+"/")+N)),F.push(_e)),1;if(ke=0,pe=pe===""?".":pe+":",K(N))for(var Ce=0;Ce<N.length;Ce++){ve=N[Ce];var Oe=pe+nt(ve,Ce);ke+=bt(ve,F,ce,Oe,_e)}else if(Oe=v(N),typeof Oe=="function")for(N=Oe.call(N),Ce=0;!(ve=N.next()).done;)ve=ve.value,Oe=pe+nt(ve,Ce++),ke+=bt(ve,F,ce,Oe,_e);else if(ve==="object")throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ke}function Mt(N,F,ce){if(N==null)return N;var pe=[],_e=0;return bt(N,pe,"","",function(ve){return F.call(ce,ve,_e++)}),pe}function yt(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(ce){(N._status===0||N._status===-1)&&(N._status=1,N._result=ce)},function(ce){(N._status===0||N._status===-1)&&(N._status=2,N._result=ce)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var Fe={current:null},G={transition:null},se={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:G,ReactCurrentOwner:V};function Z(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:Mt,forEach:function(N,F,ce){Mt(N,function(){F.apply(this,arguments)},ce)},count:function(N){var F=0;return Mt(N,function(){F++}),F},toArray:function(N){return Mt(N,function(F){return F})||[]},only:function(N){if(!Q(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},de.Component=R,de.Fragment=r,de.Profiler=l,de.PureComponent=L,de.StrictMode=s,de.Suspense=m,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,de.act=Z,de.cloneElement=function(N,F,ce){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var pe=E({},N.props),_e=N.key,ve=N.ref,ke=N._owner;if(F!=null){if(F.ref!==void 0&&(ve=F.ref,ke=V.current),F.key!==void 0&&(_e=""+F.key),N.type&&N.type.defaultProps)var Ce=N.type.defaultProps;for(Oe in F)z.call(F,Oe)&&!B.hasOwnProperty(Oe)&&(pe[Oe]=F[Oe]===void 0&&Ce!==void 0?Ce[Oe]:F[Oe])}var Oe=arguments.length-2;if(Oe===1)pe.children=ce;else if(1<Oe){Ce=Array(Oe);for(var It=0;It<Oe;It++)Ce[It]=arguments[It+2];pe.children=Ce}return{$$typeof:n,type:N.type,key:_e,ref:ve,props:pe,_owner:ke}},de.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},de.createElement=q,de.createFactory=function(N){var F=q.bind(null,N);return F.type=N,F},de.createRef=function(){return{current:null}},de.forwardRef=function(N){return{$$typeof:h,render:N}},de.isValidElement=Q,de.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:yt}},de.memo=function(N,F){return{$$typeof:p,type:N,compare:F===void 0?null:F}},de.startTransition=function(N){var F=G.transition;G.transition={};try{N()}finally{G.transition=F}},de.unstable_act=Z,de.useCallback=function(N,F){return Fe.current.useCallback(N,F)},de.useContext=function(N){return Fe.current.useContext(N)},de.useDebugValue=function(){},de.useDeferredValue=function(N){return Fe.current.useDeferredValue(N)},de.useEffect=function(N,F){return Fe.current.useEffect(N,F)},de.useId=function(){return Fe.current.useId()},de.useImperativeHandle=function(N,F,ce){return Fe.current.useImperativeHandle(N,F,ce)},de.useInsertionEffect=function(N,F){return Fe.current.useInsertionEffect(N,F)},de.useLayoutEffect=function(N,F){return Fe.current.useLayoutEffect(N,F)},de.useMemo=function(N,F){return Fe.current.useMemo(N,F)},de.useReducer=function(N,F,ce){return Fe.current.useReducer(N,F,ce)},de.useRef=function(N){return Fe.current.useRef(N)},de.useState=function(N){return Fe.current.useState(N)},de.useSyncExternalStore=function(N,F,ce){return Fe.current.useSyncExternalStore(N,F,ce)},de.useTransition=function(){return Fe.current.useTransition()},de.version="18.3.1",de}var Pp;function Bc(){return Pp||(Pp=1,Vu.exports=uw()),Vu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function cw(){if(Ap)return rs;Ap=1;var n=Bc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,m,p){var y,_={},v=null,k=null;p!==void 0&&(v=""+p),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(k=m.ref);for(y in m)s.call(m,y)&&!a.hasOwnProperty(y)&&(_[y]=m[y]);if(h&&h.defaultProps)for(y in m=h.defaultProps,m)_[y]===void 0&&(_[y]=m[y]);return{$$typeof:e,type:h,key:v,ref:k,props:_,_owner:l.current}}return rs.Fragment=r,rs.jsx=c,rs.jsxs=c,rs}var Op;function dw(){return Op||(Op=1,qu.exports=cw()),qu.exports}var C=dw(),I=Bc();const fw=Jm(I);var el={},Qu={exports:{}},St={},Gu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function hw(){return Dp||(Dp=1,function(n){function e(G,se){var Z=G.length;G.push(se);e:for(;0<Z;){var N=Z-1>>>1,F=G[N];if(0<l(F,se))G[N]=se,G[Z]=F,Z=N;else break e}}function r(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var se=G[0],Z=G.pop();if(Z!==se){G[0]=Z;e:for(var N=0,F=G.length,ce=F>>>1;N<ce;){var pe=2*(N+1)-1,_e=G[pe],ve=pe+1,ke=G[ve];if(0>l(_e,Z))ve<F&&0>l(ke,_e)?(G[N]=ke,G[ve]=Z,N=ve):(G[N]=_e,G[pe]=Z,N=pe);else if(ve<F&&0>l(ke,Z))G[N]=ke,G[ve]=Z,N=ve;else break e}}return se}function l(G,se){var Z=G.sortIndex-se.sortIndex;return Z!==0?Z:G.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var m=[],p=[],y=1,_=null,v=3,k=!1,E=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(G){for(var se=r(p);se!==null;){if(se.callback===null)s(p);else if(se.startTime<=G)s(p),se.sortIndex=se.expirationTime,e(m,se);else break;se=r(p)}}function K(G){if(T=!1,$(G),!E)if(r(m)!==null)E=!0,yt(z);else{var se=r(p);se!==null&&Fe(K,se.startTime-G)}}function z(G,se){E=!1,T&&(T=!1,b(q),q=-1),k=!0;var Z=v;try{for($(se),_=r(m);_!==null&&(!(_.expirationTime>se)||G&&!ae());){var N=_.callback;if(typeof N=="function"){_.callback=null,v=_.priorityLevel;var F=N(_.expirationTime<=se);se=n.unstable_now(),typeof F=="function"?_.callback=F:_===r(m)&&s(m),$(se)}else s(m);_=r(m)}if(_!==null)var ce=!0;else{var pe=r(p);pe!==null&&Fe(K,pe.startTime-se),ce=!1}return ce}finally{_=null,v=Z,k=!1}}var V=!1,B=null,q=-1,J=5,Q=-1;function ae(){return!(n.unstable_now()-Q<J)}function We(){if(B!==null){var G=n.unstable_now();Q=G;var se=!0;try{se=B(!0,G)}finally{se?nt():(V=!1,B=null)}}else V=!1}var nt;if(typeof L=="function")nt=function(){L(We)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,Mt=bt.port2;bt.port1.onmessage=We,nt=function(){Mt.postMessage(null)}}else nt=function(){R(We,0)};function yt(G){B=G,V||(V=!0,nt())}function Fe(G,se){q=R(function(){G(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){E||k||(E=!0,yt(z))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return r(m)},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var Z=v;v=se;try{return G()}finally{v=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Z=v;v=G;try{return se()}finally{v=Z}},n.unstable_scheduleCallback=function(G,se,Z){var N=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?N+Z:N):Z=N,G){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Z+F,G={id:y++,callback:se,priorityLevel:G,startTime:Z,expirationTime:F,sortIndex:-1},Z>N?(G.sortIndex=Z,e(p,G),r(m)===null&&G===r(p)&&(T?(b(q),q=-1):T=!0,Fe(K,Z-N))):(G.sortIndex=F,e(m,G),E||k||(E=!0,yt(z))),G},n.unstable_shouldYield=ae,n.unstable_wrapCallback=function(G){var se=v;return function(){var Z=v;v=se;try{return G.apply(this,arguments)}finally{v=Z}}}}(Ku)),Ku}var Lp;function pw(){return Lp||(Lp=1,Gu.exports=hw()),Gu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function mw(){if(bp)return St;bp=1;var n=Bc(),e=pw();function r(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function a(t,i){c(t,i),c(t+"Capture",i)}function c(t,i){for(l[t]=i,t=0;t<i.length;t++)s.add(i[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function v(t){return m.call(_,t)?!0:m.call(y,t)?!1:p.test(t)?_[t]=!0:(y[t]=!0,!1)}function k(t,i,o,u){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,i,o,u){if(i===null||typeof i>"u"||k(t,i,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function T(t,i,o,u,d,f,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=i,this.sanitizeURL=f,this.removeEmptyString=g}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){R[t]=new T(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];R[i]=new T(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){R[t]=new T(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){R[t]=new T(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){R[t]=new T(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){R[t]=new T(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){R[t]=new T(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){R[t]=new T(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){R[t]=new T(t,5,!1,t.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function L(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(b,L);R[i]=new T(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(b,L);R[i]=new T(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(b,L);R[i]=new T(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){R[t]=new T(t,1,!1,t.toLowerCase(),null,!1,!1)}),R.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){R[t]=new T(t,1,!1,t.toLowerCase(),null,!0,!0)});function $(t,i,o,u){var d=R.hasOwnProperty(i)?R[i]:null;(d!==null?d.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,o,d,u)&&(o=null),u||d===null?v(i)&&(o===null?t.removeAttribute(i):t.setAttribute(i,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(i=d.attributeName,u=d.attributeNamespace,o===null?t.removeAttribute(i):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?t.setAttributeNS(u,i,o):t.setAttribute(i,o))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),V=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ae=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),Mt=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),G=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,N;function F(t){if(N===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+t}var ce=!1;function pe(t,i){if(!t||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(O){var u=O}Reflect.construct(t,[],i)}else{try{i.call()}catch(O){u=O}t.call(i.prototype)}else{try{throw Error()}catch(O){u=O}t()}}catch(O){if(O&&u&&typeof O.stack=="string"){for(var d=O.stack.split(`
`),f=u.stack.split(`
`),g=d.length-1,w=f.length-1;1<=g&&0<=w&&d[g]!==f[w];)w--;for(;1<=g&&0<=w;g--,w--)if(d[g]!==f[w]){if(g!==1||w!==1)do if(g--,w--,0>w||d[g]!==f[w]){var S=`
`+d[g].replace(" at new "," at ");return t.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",t.displayName)),S}while(1<=g&&0<=w);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?F(t):""}function _e(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=pe(t.type,!1),t;case 11:return t=pe(t.type.render,!1),t;case 1:return t=pe(t.type,!0),t;default:return""}}function ve(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case V:return"Portal";case J:return"Profiler";case q:return"StrictMode";case nt:return"Suspense";case bt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ae:return(t.displayName||"Context")+".Consumer";case Q:return(t._context.displayName||"Context")+".Provider";case We:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mt:return i=t.displayName||null,i!==null?i:ve(t.type)||"Memo";case yt:i=t._payload,t=t._init;try{return ve(t(i))}catch{}}return null}function ke(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ce(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oe(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function It(t){var i=Oe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(g){u=""+g,f.call(this,g)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(g){u=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ws(t){t._valueTracker||(t._valueTracker=It(t))}function Ld(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=Oe(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function Hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xl(t,i){var o=i.checked;return Z({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function bd(t,i){var o=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;o=Ce(i.value!=null?i.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Md(t,i){i=i.checked,i!=null&&$(t,"checked",i,!1)}function Zl(t,i){Md(t,i);var o=Ce(i.value),u=i.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?ea(t,i.type,o):i.hasOwnProperty("defaultValue")&&ea(t,i.type,Ce(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Fd(t,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,o||i===t.value||(t.value=i),t.defaultValue=i}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ea(t,i,o){(i!=="number"||Hs(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var _i=Array.isArray;function Nr(t,i,o,u){if(t=t.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=i.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ce(o),i=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function ta(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jd(t,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(r(92));if(_i(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),o=i}t._wrapperState={initialValue:Ce(o)}}function zd(t,i){var o=Ce(i.value),u=Ce(i.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),i.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Ud(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Bd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Bd(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qs,$d=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,u,d){MSApp.execUnsafeLocalFunction(function(){return t(i,o,u,d)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=qs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function vi(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h_=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(t){h_.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),wi[i]=wi[t]})});function Wd(t,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||wi.hasOwnProperty(t)&&wi[t]?(""+i).trim():i+"px"}function Hd(t,i){t=t.style;for(var o in i)if(i.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=Wd(o,i[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,d):t[o]=d}}var p_=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(t,i){if(i){if(p_[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function ia(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function oa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,Ir=null,Pr=null;function qd(t){if(t=$i(t)){if(typeof la!="function")throw Error(r(280));var i=t.stateNode;i&&(i=mo(i),la(t.stateNode,t.type,i))}}function Vd(t){Ir?Pr?Pr.push(t):Pr=[t]:Ir=t}function Qd(){if(Ir){var t=Ir,i=Pr;if(Pr=Ir=null,qd(t),i)for(t=0;t<i.length;t++)qd(i[t])}}function Gd(t,i){return t(i)}function Kd(){}var aa=!1;function Yd(t,i,o){if(aa)return t(i,o);aa=!0;try{return Gd(t,i,o)}finally{aa=!1,(Ir!==null||Pr!==null)&&(Kd(),Qd())}}function Ei(t,i){var o=t.stateNode;if(o===null)return null;var u=mo(o);if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var ua=!1;if(h)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){ua=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{ua=!1}function m_(t,i,o,u,d,f,g,w,S){var O=Array.prototype.slice.call(arguments,3);try{i.apply(o,O)}catch(j){this.onError(j)}}var Si=!1,Vs=null,Qs=!1,ca=null,g_={onError:function(t){Si=!0,Vs=t}};function y_(t,i,o,u,d,f,g,w,S){Si=!1,Vs=null,m_.apply(g_,arguments)}function __(t,i,o,u,d,f,g,w,S){if(y_.apply(this,arguments),Si){if(Si){var O=Vs;Si=!1,Vs=null}else throw Error(r(198));Qs||(Qs=!0,ca=O)}}function rr(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function Jd(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Xd(t){if(rr(t)!==t)throw Error(r(188))}function v_(t){var i=t.alternate;if(!i){if(i=rr(t),i===null)throw Error(r(188));return i!==t?null:t}for(var o=t,u=i;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return Xd(d),t;if(f===u)return Xd(d),i;f=f.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=f;else{for(var g=!1,w=d.child;w;){if(w===o){g=!0,o=d,u=f;break}if(w===u){g=!0,u=d,o=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===o){g=!0,o=f,u=d;break}if(w===u){g=!0,u=f,o=d;break}w=w.sibling}if(!g)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:i}function Zd(t){return t=v_(t),t!==null?ef(t):null}function ef(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=ef(t);if(i!==null)return i;t=t.sibling}return null}var tf=e.unstable_scheduleCallback,nf=e.unstable_cancelCallback,w_=e.unstable_shouldYield,E_=e.unstable_requestPaint,Be=e.unstable_now,C_=e.unstable_getCurrentPriorityLevel,da=e.unstable_ImmediatePriority,rf=e.unstable_UserBlockingPriority,Gs=e.unstable_NormalPriority,S_=e.unstable_LowPriority,sf=e.unstable_IdlePriority,Ks=null,sn=null;function x_(t){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Ks,t,void 0,(t.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:R_,k_=Math.log,T_=Math.LN2;function R_(t){return t>>>=0,t===0?32:31-(k_(t)/T_|0)|0}var Ys=64,Js=4194304;function xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xs(t,i){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,f=t.pingedLanes,g=o&268435455;if(g!==0){var w=g&~d;w!==0?u=xi(w):(f&=g,f!==0&&(u=xi(f)))}else g=o&~d,g!==0?u=xi(g):f!==0&&(u=xi(f));if(u===0)return 0;if(i!==0&&i!==u&&!(i&d)&&(d=u&-u,f=i&-i,d>=f||d===16&&(f&4194240)!==0))return i;if(u&4&&(u|=o&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=u;0<i;)o=31-Vt(i),d=1<<o,u|=t[o],i&=~d;return u}function N_(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I_(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes;0<f;){var g=31-Vt(f),w=1<<g,S=d[g];S===-1?(!(w&o)||w&u)&&(d[g]=N_(w,i)):S<=i&&(t.expiredLanes|=w),f&=~w}}function fa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function of(){var t=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),t}function ha(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function ki(t,i,o){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Vt(i),t[i]=o}function P_(t,i){var o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Vt(o),f=1<<d;i[d]=0,u[d]=-1,t[d]=-1,o&=~f}}function pa(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-Vt(o),d=1<<u;d&i|t[u]&i&&(t[u]|=i),o&=~d}}var Se=0;function lf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var af,ma,uf,cf,df,ga=!1,Zs=[],In=null,Pn=null,An=null,Ti=new Map,Ri=new Map,On=[],A_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ff(t,i){switch(t){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Ti.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(i.pointerId)}}function Ni(t,i,o,u,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},i!==null&&(i=$i(i),i!==null&&ma(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function O_(t,i,o,u,d){switch(i){case"focusin":return In=Ni(In,t,i,o,u,d),!0;case"dragenter":return Pn=Ni(Pn,t,i,o,u,d),!0;case"mouseover":return An=Ni(An,t,i,o,u,d),!0;case"pointerover":var f=d.pointerId;return Ti.set(f,Ni(Ti.get(f)||null,t,i,o,u,d)),!0;case"gotpointercapture":return f=d.pointerId,Ri.set(f,Ni(Ri.get(f)||null,t,i,o,u,d)),!0}return!1}function hf(t){var i=ir(t.target);if(i!==null){var o=rr(i);if(o!==null){if(i=o.tag,i===13){if(i=Jd(o),i!==null){t.blockedOn=i,df(t.priority,function(){uf(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eo(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=_a(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);sa=u,o.target.dispatchEvent(u),sa=null}else return i=$i(o),i!==null&&ma(i),t.blockedOn=o,!1;i.shift()}return!0}function pf(t,i,o){eo(t)&&o.delete(i)}function D_(){ga=!1,In!==null&&eo(In)&&(In=null),Pn!==null&&eo(Pn)&&(Pn=null),An!==null&&eo(An)&&(An=null),Ti.forEach(pf),Ri.forEach(pf)}function Ii(t,i){t.blockedOn===i&&(t.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,D_)))}function Pi(t){function i(d){return Ii(d,t)}if(0<Zs.length){Ii(Zs[0],t);for(var o=1;o<Zs.length;o++){var u=Zs[o];u.blockedOn===t&&(u.blockedOn=null)}}for(In!==null&&Ii(In,t),Pn!==null&&Ii(Pn,t),An!==null&&Ii(An,t),Ti.forEach(i),Ri.forEach(i),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)hf(o),o.blockedOn===null&&On.shift()}var Ar=K.ReactCurrentBatchConfig,to=!0;function L_(t,i,o,u){var d=Se,f=Ar.transition;Ar.transition=null;try{Se=1,ya(t,i,o,u)}finally{Se=d,Ar.transition=f}}function b_(t,i,o,u){var d=Se,f=Ar.transition;Ar.transition=null;try{Se=4,ya(t,i,o,u)}finally{Se=d,Ar.transition=f}}function ya(t,i,o,u){if(to){var d=_a(t,i,o,u);if(d===null)ba(t,i,u,no,o),ff(t,u);else if(O_(d,t,i,o,u))u.stopPropagation();else if(ff(t,u),i&4&&-1<A_.indexOf(t)){for(;d!==null;){var f=$i(d);if(f!==null&&af(f),f=_a(t,i,o,u),f===null&&ba(t,i,u,no,o),f===d)break;d=f}d!==null&&u.stopPropagation()}else ba(t,i,u,null,o)}}var no=null;function _a(t,i,o,u){if(no=null,t=oa(u),t=ir(t),t!==null)if(i=rr(t),i===null)t=null;else if(o=i.tag,o===13){if(t=Jd(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return no=t,null}function mf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C_()){case da:return 1;case rf:return 4;case Gs:case S_:return 16;case sf:return 536870912;default:return 16}default:return 16}}var Dn=null,va=null,ro=null;function gf(){if(ro)return ro;var t,i=va,o=i.length,u,d="value"in Dn?Dn.value:Dn.textContent,f=d.length;for(t=0;t<o&&i[t]===d[t];t++);var g=o-t;for(u=1;u<=g&&i[o-u]===d[f-u];u++);return ro=d.slice(t,1<u?1-u:void 0)}function io(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function yf(){return!1}function Pt(t){function i(o,u,d,f,g){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?so:yf,this.isPropagationStopped=yf,this}return Z(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),i}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Pt(Or),Ai=Z({},Or,{view:0,detail:0}),M_=Pt(Ai),Ea,Ca,Oi,oo=Z({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Ea=t.screenX-Oi.screenX,Ca=t.screenY-Oi.screenY):Ca=Ea=0,Oi=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),_f=Pt(oo),F_=Z({},oo,{dataTransfer:0}),j_=Pt(F_),z_=Z({},Ai,{relatedTarget:0}),Sa=Pt(z_),U_=Z({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),B_=Pt(U_),$_=Z({},Or,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W_=Pt($_),H_=Z({},Or,{data:0}),vf=Pt(H_),q_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G_(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Q_[t])?!!i[t]:!1}function xa(){return G_}var K_=Z({},Ai,{key:function(t){if(t.key){var i=q_[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=io(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(t){return t.type==="keypress"?io(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?io(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y_=Pt(K_),J_=Z({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=Pt(J_),X_=Z({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Z_=Pt(X_),ev=Z({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=Pt(ev),nv=Z({},oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rv=Pt(nv),iv=[9,13,27,32],ka=h&&"CompositionEvent"in window,Di=null;h&&"documentMode"in document&&(Di=document.documentMode);var sv=h&&"TextEvent"in window&&!Di,Ef=h&&(!ka||Di&&8<Di&&11>=Di),Cf=" ",Sf=!1;function xf(t,i){switch(t){case"keyup":return iv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function ov(t,i){switch(t){case"compositionend":return kf(i);case"keypress":return i.which!==32?null:(Sf=!0,Cf);case"textInput":return t=i.data,t===Cf&&Sf?null:t;default:return null}}function lv(t,i){if(Dr)return t==="compositionend"||!ka&&xf(t,i)?(t=gf(),ro=va=Dn=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ef&&i.locale!=="ko"?null:i.data;default:return null}}var av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!av[t.type]:i==="textarea"}function Rf(t,i,o,u){Vd(u),i=fo(i,"onChange"),0<i.length&&(o=new wa("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var Li=null,bi=null;function uv(t){qf(t,0)}function lo(t){var i=jr(t);if(Ld(i))return t}function cv(t,i){if(t==="change")return i}var Nf=!1;if(h){var Ta;if(h){var Ra="oninput"in document;if(!Ra){var If=document.createElement("div");If.setAttribute("oninput","return;"),Ra=typeof If.oninput=="function"}Ta=Ra}else Ta=!1;Nf=Ta&&(!document.documentMode||9<document.documentMode)}function Pf(){Li&&(Li.detachEvent("onpropertychange",Af),bi=Li=null)}function Af(t){if(t.propertyName==="value"&&lo(bi)){var i=[];Rf(i,bi,t,oa(t)),Yd(uv,i)}}function dv(t,i,o){t==="focusin"?(Pf(),Li=i,bi=o,Li.attachEvent("onpropertychange",Af)):t==="focusout"&&Pf()}function fv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lo(bi)}function hv(t,i){if(t==="click")return lo(i)}function pv(t,i){if(t==="input"||t==="change")return lo(i)}function mv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Qt=typeof Object.is=="function"?Object.is:mv;function Mi(t,i){if(Qt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!m.call(i,d)||!Qt(t[d],i[d]))return!1}return!0}function Of(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Df(t,i){var o=Of(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Of(o)}}function Lf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bf(){for(var t=window,i=Hs();i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=Hs(t.document)}return i}function Na(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function gv(t){var i=bf(),o=t.focusedElem,u=t.selectionRange;if(i!==o&&o&&o.ownerDocument&&Lf(o.ownerDocument.documentElement,o)){if(u!==null&&Na(o)){if(i=u.start,t=u.end,t===void 0&&(t=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(t,o.value.length);else if(t=(i=o.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!t.extend&&f>u&&(d=u,u=f,f=d),d=Df(o,f);var g=Df(o,u);d&&g&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==g.node||t.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),t.removeAllRanges(),f>u?(t.addRange(i),t.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),t.addRange(i)))}}for(i=[],t=o;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)t=i[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yv=h&&"documentMode"in document&&11>=document.documentMode,Lr=null,Ia=null,Fi=null,Pa=!1;function Mf(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pa||Lr==null||Lr!==Hs(u)||(u=Lr,"selectionStart"in u&&Na(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fi&&Mi(Fi,u)||(Fi=u,u=fo(Ia,"onSelect"),0<u.length&&(i=new wa("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=Lr)))}function ao(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var br={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},Aa={},Ff={};h&&(Ff=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function uo(t){if(Aa[t])return Aa[t];if(!br[t])return t;var i=br[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ff)return Aa[t]=i[o];return t}var jf=uo("animationend"),zf=uo("animationiteration"),Uf=uo("animationstart"),Bf=uo("transitionend"),$f=new Map,Wf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(t,i){$f.set(t,i),a(i,[t])}for(var Oa=0;Oa<Wf.length;Oa++){var Da=Wf[Oa],_v=Da.toLowerCase(),vv=Da[0].toUpperCase()+Da.slice(1);Ln(_v,"on"+vv)}Ln(jf,"onAnimationEnd"),Ln(zf,"onAnimationIteration"),Ln(Uf,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Bf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function Hf(t,i,o){var u=t.type||"unknown-event";t.currentTarget=o,__(u,i,void 0,t),t.currentTarget=null}function qf(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var f=void 0;if(i)for(var g=u.length-1;0<=g;g--){var w=u[g],S=w.instance,O=w.currentTarget;if(w=w.listener,S!==f&&d.isPropagationStopped())break e;Hf(d,w,O),f=S}else for(g=0;g<u.length;g++){if(w=u[g],S=w.instance,O=w.currentTarget,w=w.listener,S!==f&&d.isPropagationStopped())break e;Hf(d,w,O),f=S}}}if(Qs)throw t=ca,Qs=!1,ca=null,t}function Pe(t,i){var o=i[Ba];o===void 0&&(o=i[Ba]=new Set);var u=t+"__bubble";o.has(u)||(Vf(i,t,2,!1),o.add(u))}function La(t,i,o){var u=0;i&&(u|=4),Vf(o,t,u,i)}var co="_reactListening"+Math.random().toString(36).slice(2);function zi(t){if(!t[co]){t[co]=!0,s.forEach(function(o){o!=="selectionchange"&&(wv.has(o)||La(o,!1,t),La(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[co]||(i[co]=!0,La("selectionchange",!1,i))}}function Vf(t,i,o,u){switch(mf(i)){case 1:var d=L_;break;case 4:d=b_;break;default:d=ya}o=d.bind(null,i,o,t),d=void 0,!ua||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(i,o,{capture:!0,passive:d}):t.addEventListener(i,o,!0):d!==void 0?t.addEventListener(i,o,{passive:d}):t.addEventListener(i,o,!1)}function ba(t,i,o,u,d){var f=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var g=u.tag;if(g===3||g===4){var w=u.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(g===4)for(g=u.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;g=g.return}for(;w!==null;){if(g=ir(w),g===null)return;if(S=g.tag,S===5||S===6){u=f=g;continue e}w=w.parentNode}}u=u.return}Yd(function(){var O=f,j=oa(o),U=[];e:{var M=$f.get(t);if(M!==void 0){var Y=wa,ee=t;switch(t){case"keypress":if(io(o)===0)break e;case"keydown":case"keyup":Y=Y_;break;case"focusin":ee="focus",Y=Sa;break;case"focusout":ee="blur",Y=Sa;break;case"beforeblur":case"afterblur":Y=Sa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=j_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Z_;break;case jf:case zf:case Uf:Y=B_;break;case Bf:Y=tv;break;case"scroll":Y=M_;break;case"wheel":Y=rv;break;case"copy":case"cut":case"paste":Y=W_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=wf}var te=(i&4)!==0,$e=!te&&t==="scroll",P=te?M!==null?M+"Capture":null:M;te=[];for(var x=O,A;x!==null;){A=x;var W=A.stateNode;if(A.tag===5&&W!==null&&(A=W,P!==null&&(W=Ei(x,P),W!=null&&te.push(Ui(x,W,A)))),$e)break;x=x.return}0<te.length&&(M=new Y(M,ee,null,o,j),U.push({event:M,listeners:te}))}}if(!(i&7)){e:{if(M=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",M&&o!==sa&&(ee=o.relatedTarget||o.fromElement)&&(ir(ee)||ee[pn]))break e;if((Y||M)&&(M=j.window===j?j:(M=j.ownerDocument)?M.defaultView||M.parentWindow:window,Y?(ee=o.relatedTarget||o.toElement,Y=O,ee=ee?ir(ee):null,ee!==null&&($e=rr(ee),ee!==$e||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Y=null,ee=O),Y!==ee)){if(te=_f,W="onMouseLeave",P="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(te=wf,W="onPointerLeave",P="onPointerEnter",x="pointer"),$e=Y==null?M:jr(Y),A=ee==null?M:jr(ee),M=new te(W,x+"leave",Y,o,j),M.target=$e,M.relatedTarget=A,W=null,ir(j)===O&&(te=new te(P,x+"enter",ee,o,j),te.target=A,te.relatedTarget=$e,W=te),$e=W,Y&&ee)t:{for(te=Y,P=ee,x=0,A=te;A;A=Mr(A))x++;for(A=0,W=P;W;W=Mr(W))A++;for(;0<x-A;)te=Mr(te),x--;for(;0<A-x;)P=Mr(P),A--;for(;x--;){if(te===P||P!==null&&te===P.alternate)break t;te=Mr(te),P=Mr(P)}te=null}else te=null;Y!==null&&Qf(U,M,Y,te,!1),ee!==null&&$e!==null&&Qf(U,$e,ee,te,!0)}}e:{if(M=O?jr(O):window,Y=M.nodeName&&M.nodeName.toLowerCase(),Y==="select"||Y==="input"&&M.type==="file")var ne=cv;else if(Tf(M))if(Nf)ne=pv;else{ne=fv;var re=dv}else(Y=M.nodeName)&&Y.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(ne=hv);if(ne&&(ne=ne(t,O))){Rf(U,ne,o,j);break e}re&&re(t,M,O),t==="focusout"&&(re=M._wrapperState)&&re.controlled&&M.type==="number"&&ea(M,"number",M.value)}switch(re=O?jr(O):window,t){case"focusin":(Tf(re)||re.contentEditable==="true")&&(Lr=re,Ia=O,Fi=null);break;case"focusout":Fi=Ia=Lr=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Mf(U,o,j);break;case"selectionchange":if(yv)break;case"keydown":case"keyup":Mf(U,o,j)}var ie;if(ka)e:{switch(t){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Dr?xf(t,o)&&(le="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(le="onCompositionStart");le&&(Ef&&o.locale!=="ko"&&(Dr||le!=="onCompositionStart"?le==="onCompositionEnd"&&Dr&&(ie=gf()):(Dn=j,va="value"in Dn?Dn.value:Dn.textContent,Dr=!0)),re=fo(O,le),0<re.length&&(le=new vf(le,t,null,o,j),U.push({event:le,listeners:re}),ie?le.data=ie:(ie=kf(o),ie!==null&&(le.data=ie)))),(ie=sv?ov(t,o):lv(t,o))&&(O=fo(O,"onBeforeInput"),0<O.length&&(j=new vf("onBeforeInput","beforeinput",null,o,j),U.push({event:j,listeners:O}),j.data=ie))}qf(U,i)})}function Ui(t,i,o){return{instance:t,listener:i,currentTarget:o}}function fo(t,i){for(var o=i+"Capture",u=[];t!==null;){var d=t,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Ei(t,o),f!=null&&u.unshift(Ui(t,f,d)),f=Ei(t,i),f!=null&&u.push(Ui(t,f,d))),t=t.return}return u}function Mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qf(t,i,o,u,d){for(var f=i._reactName,g=[];o!==null&&o!==u;){var w=o,S=w.alternate,O=w.stateNode;if(S!==null&&S===u)break;w.tag===5&&O!==null&&(w=O,d?(S=Ei(o,f),S!=null&&g.unshift(Ui(o,S,w))):d||(S=Ei(o,f),S!=null&&g.push(Ui(o,S,w)))),o=o.return}g.length!==0&&t.push({event:i,listeners:g})}var Ev=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function Gf(t){return(typeof t=="string"?t:""+t).replace(Ev,`
`).replace(Cv,"")}function ho(t,i,o){if(i=Gf(i),Gf(t)!==i&&o)throw Error(r(425))}function po(){}var Ma=null,Fa=null;function ja(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(t){return Kf.resolve(null).then(t).catch(kv)}:za;function kv(t){setTimeout(function(){throw t})}function Ua(t,i){var o=i,u=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){t.removeChild(d),Pi(i);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Pi(i)}function bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Yf(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),on="__reactFiber$"+Fr,Bi="__reactProps$"+Fr,pn="__reactContainer$"+Fr,Ba="__reactEvents$"+Fr,Tv="__reactListeners$"+Fr,Rv="__reactHandles$"+Fr;function ir(t){var i=t[on];if(i)return i;for(var o=t.parentNode;o;){if(i=o[pn]||o[on]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Yf(t);t!==null;){if(o=t[on])return o;t=Yf(t)}return i}t=o,o=t.parentNode}return null}function $i(t){return t=t[on]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function mo(t){return t[Bi]||null}var $a=[],zr=-1;function Mn(t){return{current:t}}function Ae(t){0>zr||(t.current=$a[zr],$a[zr]=null,zr--)}function Te(t,i){zr++,$a[zr]=t.current,t.current=i}var Fn={},lt=Mn(Fn),_t=Mn(!1),sr=Fn;function Ur(t,i){var o=t.type.contextTypes;if(!o)return Fn;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=i[f];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=d),d}function vt(t){return t=t.childContextTypes,t!=null}function go(){Ae(_t),Ae(lt)}function Jf(t,i,o){if(lt.current!==Fn)throw Error(r(168));Te(lt,i),Te(_t,o)}function Xf(t,i,o){var u=t.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in i))throw Error(r(108,ke(t)||"Unknown",d));return Z({},o,u)}function yo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fn,sr=lt.current,Te(lt,t),Te(_t,_t.current),!0}function Zf(t,i,o){var u=t.stateNode;if(!u)throw Error(r(169));o?(t=Xf(t,i,sr),u.__reactInternalMemoizedMergedChildContext=t,Ae(_t),Ae(lt),Te(lt,t)):Ae(_t),Te(_t,o)}var mn=null,_o=!1,Wa=!1;function eh(t){mn===null?mn=[t]:mn.push(t)}function Nv(t){_o=!0,eh(t)}function jn(){if(!Wa&&mn!==null){Wa=!0;var t=0,i=Se;try{var o=mn;for(Se=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}mn=null,_o=!1}catch(d){throw mn!==null&&(mn=mn.slice(t+1)),tf(da,jn),d}finally{Se=i,Wa=!1}}return null}var Br=[],$r=0,vo=null,wo=0,Ft=[],jt=0,or=null,gn=1,yn="";function lr(t,i){Br[$r++]=wo,Br[$r++]=vo,vo=t,wo=i}function th(t,i,o){Ft[jt++]=gn,Ft[jt++]=yn,Ft[jt++]=or,or=t;var u=gn;t=yn;var d=32-Vt(u)-1;u&=~(1<<d),o+=1;var f=32-Vt(i)+d;if(30<f){var g=d-d%5;f=(u&(1<<g)-1).toString(32),u>>=g,d-=g,gn=1<<32-Vt(i)+d|o<<d|u,yn=f+t}else gn=1<<f|o<<d|u,yn=t}function Ha(t){t.return!==null&&(lr(t,1),th(t,1,0))}function qa(t){for(;t===vo;)vo=Br[--$r],Br[$r]=null,wo=Br[--$r],Br[$r]=null;for(;t===or;)or=Ft[--jt],Ft[jt]=null,yn=Ft[--jt],Ft[jt]=null,gn=Ft[--jt],Ft[jt]=null}var At=null,Ot=null,De=!1,Gt=null;function nh(t,i){var o=$t(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=t,i=t.deletions,i===null?(t.deletions=[o],t.flags|=16):i.push(o)}function rh(t,i){switch(t.tag){case 5:var o=t.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,At=t,Ot=bn(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,At=t,Ot=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=or!==null?{id:gn,overflow:yn}:null,t.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=$t(18,null,null,0),o.stateNode=i,o.return=t,t.child=o,At=t,Ot=null,!0):!1;default:return!1}}function Va(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qa(t){if(De){var i=Ot;if(i){var o=i;if(!rh(t,i)){if(Va(t))throw Error(r(418));i=bn(o.nextSibling);var u=At;i&&rh(t,i)?nh(u,o):(t.flags=t.flags&-4097|2,De=!1,At=t)}}else{if(Va(t))throw Error(r(418));t.flags=t.flags&-4097|2,De=!1,At=t}}}function ih(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;At=t}function Eo(t){if(t!==At)return!1;if(!De)return ih(t),De=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!ja(t.type,t.memoizedProps)),i&&(i=Ot)){if(Va(t))throw sh(),Error(r(418));for(;i;)nh(t,i),i=bn(i.nextSibling)}if(ih(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(i===0){Ot=bn(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}t=t.nextSibling}Ot=null}}else Ot=At?bn(t.stateNode.nextSibling):null;return!0}function sh(){for(var t=Ot;t;)t=bn(t.nextSibling)}function Wr(){Ot=At=null,De=!1}function Ga(t){Gt===null?Gt=[t]:Gt.push(t)}var Iv=K.ReactCurrentBatchConfig;function Wi(t,i,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var u=o.stateNode}if(!u)throw Error(r(147,t));var d=u,f=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(g){var w=d.refs;g===null?delete w[f]:w[f]=g},i._stringRef=f,i)}if(typeof t!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,t))}return t}function Co(t,i){throw t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function oh(t){var i=t._init;return i(t._payload)}function lh(t){function i(P,x){if(t){var A=P.deletions;A===null?(P.deletions=[x],P.flags|=16):A.push(x)}}function o(P,x){if(!t)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function u(P,x){for(P=new Map;x!==null;)x.key!==null?P.set(x.key,x):P.set(x.index,x),x=x.sibling;return P}function d(P,x){return P=Vn(P,x),P.index=0,P.sibling=null,P}function f(P,x,A){return P.index=A,t?(A=P.alternate,A!==null?(A=A.index,A<x?(P.flags|=2,x):A):(P.flags|=2,x)):(P.flags|=1048576,x)}function g(P){return t&&P.alternate===null&&(P.flags|=2),P}function w(P,x,A,W){return x===null||x.tag!==6?(x=zu(A,P.mode,W),x.return=P,x):(x=d(x,A),x.return=P,x)}function S(P,x,A,W){var ne=A.type;return ne===B?j(P,x,A.props.children,W,A.key):x!==null&&(x.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===yt&&oh(ne)===x.type)?(W=d(x,A.props),W.ref=Wi(P,x,A),W.return=P,W):(W=Vo(A.type,A.key,A.props,null,P.mode,W),W.ref=Wi(P,x,A),W.return=P,W)}function O(P,x,A,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=Uu(A,P.mode,W),x.return=P,x):(x=d(x,A.children||[]),x.return=P,x)}function j(P,x,A,W,ne){return x===null||x.tag!==7?(x=mr(A,P.mode,W,ne),x.return=P,x):(x=d(x,A),x.return=P,x)}function U(P,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return x=zu(""+x,P.mode,A),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case z:return A=Vo(x.type,x.key,x.props,null,P.mode,A),A.ref=Wi(P,null,x),A.return=P,A;case V:return x=Uu(x,P.mode,A),x.return=P,x;case yt:var W=x._init;return U(P,W(x._payload),A)}if(_i(x)||se(x))return x=mr(x,P.mode,A,null),x.return=P,x;Co(P,x)}return null}function M(P,x,A,W){var ne=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ne!==null?null:w(P,x,""+A,W);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case z:return A.key===ne?S(P,x,A,W):null;case V:return A.key===ne?O(P,x,A,W):null;case yt:return ne=A._init,M(P,x,ne(A._payload),W)}if(_i(A)||se(A))return ne!==null?null:j(P,x,A,W,null);Co(P,A)}return null}function Y(P,x,A,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number")return P=P.get(A)||null,w(x,P,""+W,ne);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case z:return P=P.get(W.key===null?A:W.key)||null,S(x,P,W,ne);case V:return P=P.get(W.key===null?A:W.key)||null,O(x,P,W,ne);case yt:var re=W._init;return Y(P,x,A,re(W._payload),ne)}if(_i(W)||se(W))return P=P.get(A)||null,j(x,P,W,ne,null);Co(x,W)}return null}function ee(P,x,A,W){for(var ne=null,re=null,ie=x,le=x=0,Xe=null;ie!==null&&le<A.length;le++){ie.index>le?(Xe=ie,ie=null):Xe=ie.sibling;var we=M(P,ie,A[le],W);if(we===null){ie===null&&(ie=Xe);break}t&&ie&&we.alternate===null&&i(P,ie),x=f(we,x,le),re===null?ne=we:re.sibling=we,re=we,ie=Xe}if(le===A.length)return o(P,ie),De&&lr(P,le),ne;if(ie===null){for(;le<A.length;le++)ie=U(P,A[le],W),ie!==null&&(x=f(ie,x,le),re===null?ne=ie:re.sibling=ie,re=ie);return De&&lr(P,le),ne}for(ie=u(P,ie);le<A.length;le++)Xe=Y(ie,P,le,A[le],W),Xe!==null&&(t&&Xe.alternate!==null&&ie.delete(Xe.key===null?le:Xe.key),x=f(Xe,x,le),re===null?ne=Xe:re.sibling=Xe,re=Xe);return t&&ie.forEach(function(Qn){return i(P,Qn)}),De&&lr(P,le),ne}function te(P,x,A,W){var ne=se(A);if(typeof ne!="function")throw Error(r(150));if(A=ne.call(A),A==null)throw Error(r(151));for(var re=ne=null,ie=x,le=x=0,Xe=null,we=A.next();ie!==null&&!we.done;le++,we=A.next()){ie.index>le?(Xe=ie,ie=null):Xe=ie.sibling;var Qn=M(P,ie,we.value,W);if(Qn===null){ie===null&&(ie=Xe);break}t&&ie&&Qn.alternate===null&&i(P,ie),x=f(Qn,x,le),re===null?ne=Qn:re.sibling=Qn,re=Qn,ie=Xe}if(we.done)return o(P,ie),De&&lr(P,le),ne;if(ie===null){for(;!we.done;le++,we=A.next())we=U(P,we.value,W),we!==null&&(x=f(we,x,le),re===null?ne=we:re.sibling=we,re=we);return De&&lr(P,le),ne}for(ie=u(P,ie);!we.done;le++,we=A.next())we=Y(ie,P,le,we.value,W),we!==null&&(t&&we.alternate!==null&&ie.delete(we.key===null?le:we.key),x=f(we,x,le),re===null?ne=we:re.sibling=we,re=we);return t&&ie.forEach(function(aw){return i(P,aw)}),De&&lr(P,le),ne}function $e(P,x,A,W){if(typeof A=="object"&&A!==null&&A.type===B&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case z:e:{for(var ne=A.key,re=x;re!==null;){if(re.key===ne){if(ne=A.type,ne===B){if(re.tag===7){o(P,re.sibling),x=d(re,A.props.children),x.return=P,P=x;break e}}else if(re.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===yt&&oh(ne)===re.type){o(P,re.sibling),x=d(re,A.props),x.ref=Wi(P,re,A),x.return=P,P=x;break e}o(P,re);break}else i(P,re);re=re.sibling}A.type===B?(x=mr(A.props.children,P.mode,W,A.key),x.return=P,P=x):(W=Vo(A.type,A.key,A.props,null,P.mode,W),W.ref=Wi(P,x,A),W.return=P,P=W)}return g(P);case V:e:{for(re=A.key;x!==null;){if(x.key===re)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){o(P,x.sibling),x=d(x,A.children||[]),x.return=P,P=x;break e}else{o(P,x);break}else i(P,x);x=x.sibling}x=Uu(A,P.mode,W),x.return=P,P=x}return g(P);case yt:return re=A._init,$e(P,x,re(A._payload),W)}if(_i(A))return ee(P,x,A,W);if(se(A))return te(P,x,A,W);Co(P,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,x!==null&&x.tag===6?(o(P,x.sibling),x=d(x,A),x.return=P,P=x):(o(P,x),x=zu(A,P.mode,W),x.return=P,P=x),g(P)):o(P,x)}return $e}var Hr=lh(!0),ah=lh(!1),So=Mn(null),xo=null,qr=null,Ka=null;function Ya(){Ka=qr=xo=null}function Ja(t){var i=So.current;Ae(So),t._currentValue=i}function Xa(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function Vr(t,i){xo=t,Ka=qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(wt=!0),t.firstContext=null)}function zt(t){var i=t._currentValue;if(Ka!==t)if(t={context:t,memoizedValue:i,next:null},qr===null){if(xo===null)throw Error(r(308));qr=t,xo.dependencies={lanes:0,firstContext:t}}else qr=qr.next=t;return i}var ar=null;function Za(t){ar===null?ar=[t]:ar.push(t)}function uh(t,i,o,u){var d=i.interleaved;return d===null?(o.next=o,Za(i)):(o.next=d.next,d.next=o),i.interleaved=o,_n(t,u)}function _n(t,i){t.lanes|=i;var o=t.alternate;for(o!==null&&(o.lanes|=i),o=t,t=t.return;t!==null;)t.childLanes|=i,o=t.alternate,o!==null&&(o.childLanes|=i),o=t,t=t.return;return o.tag===3?o.stateNode:null}var zn=!1;function eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ch(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vn(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Un(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,ge&2){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,_n(t,o)}return d=u.interleaved,d===null?(i.next=i,Za(u)):(i.next=d.next,d.next=i),u.interleaved=i,_n(t,o)}function ko(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,pa(t,o)}}function dh(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var g={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=g:f=f.next=g,o=o.next}while(o!==null);f===null?d=f=i:f=f.next=i}else d=f=i;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}function To(t,i,o,u){var d=t.updateQueue;zn=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var S=w,O=S.next;S.next=null,g===null?f=O:g.next=O,g=S;var j=t.alternate;j!==null&&(j=j.updateQueue,w=j.lastBaseUpdate,w!==g&&(w===null?j.firstBaseUpdate=O:w.next=O,j.lastBaseUpdate=S))}if(f!==null){var U=d.baseState;g=0,j=O=S=null,w=f;do{var M=w.lane,Y=w.eventTime;if((u&M)===M){j!==null&&(j=j.next={eventTime:Y,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ee=t,te=w;switch(M=i,Y=o,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){U=ee.call(Y,U,M);break e}U=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,M=typeof ee=="function"?ee.call(Y,U,M):ee,M==null)break e;U=Z({},U,M);break e;case 2:zn=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,M=d.effects,M===null?d.effects=[w]:M.push(w))}else Y={eventTime:Y,lane:M,tag:w.tag,payload:w.payload,callback:w.callback,next:null},j===null?(O=j=Y,S=U):j=j.next=Y,g|=M;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;M=w,w=M.next,M.next=null,d.lastBaseUpdate=M,d.shared.pending=null}}while(!0);if(j===null&&(S=U),d.baseState=S,d.firstBaseUpdate=O,d.lastBaseUpdate=j,i=d.shared.interleaved,i!==null){d=i;do g|=d.lane,d=d.next;while(d!==i)}else f===null&&(d.shared.lanes=0);dr|=g,t.lanes=g,t.memoizedState=U}}function fh(t,i,o){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var u=t[i],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(r(191,d));d.call(u)}}}var Hi={},ln=Mn(Hi),qi=Mn(Hi),Vi=Mn(Hi);function ur(t){if(t===Hi)throw Error(r(174));return t}function tu(t,i){switch(Te(Vi,i),Te(qi,t),Te(ln,Hi),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:na(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=na(i,t)}Ae(ln),Te(ln,i)}function Qr(){Ae(ln),Ae(qi),Ae(Vi)}function hh(t){ur(Vi.current);var i=ur(ln.current),o=na(i,t.type);i!==o&&(Te(qi,t),Te(ln,o))}function nu(t){qi.current===t&&(Ae(ln),Ae(qi))}var Le=Mn(0);function Ro(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ru=[];function iu(){for(var t=0;t<ru.length;t++)ru[t]._workInProgressVersionPrimary=null;ru.length=0}var No=K.ReactCurrentDispatcher,su=K.ReactCurrentBatchConfig,cr=0,be=null,Ve=null,Ye=null,Io=!1,Qi=!1,Gi=0,Pv=0;function at(){throw Error(r(321))}function ou(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Qt(t[o],i[o]))return!1;return!0}function lu(t,i,o,u,d,f){if(cr=f,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,No.current=t===null||t.memoizedState===null?Lv:bv,t=o(u,d),Qi){f=0;do{if(Qi=!1,Gi=0,25<=f)throw Error(r(301));f+=1,Ye=Ve=null,i.updateQueue=null,No.current=Mv,t=o(u,d)}while(Qi)}if(No.current=Oo,i=Ve!==null&&Ve.next!==null,cr=0,Ye=Ve=be=null,Io=!1,i)throw Error(r(300));return t}function au(){var t=Gi!==0;return Gi=0,t}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?be.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Ut(){if(Ve===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var i=Ye===null?be.memoizedState:Ye.next;if(i!==null)Ye=i,Ve=t;else{if(t===null)throw Error(r(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ye===null?be.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Ki(t,i){return typeof i=="function"?i(t):i}function uu(t){var i=Ut(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=Ve,d=u.baseQueue,f=o.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}u.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,u=u.baseState;var w=g=null,S=null,O=f;do{var j=O.lane;if((cr&j)===j)S!==null&&(S=S.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),u=O.hasEagerState?O.eagerState:t(u,O.action);else{var U={lane:j,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};S===null?(w=S=U,g=u):S=S.next=U,be.lanes|=j,dr|=j}O=O.next}while(O!==null&&O!==f);S===null?g=u:S.next=w,Qt(u,i.memoizedState)||(wt=!0),i.memoizedState=u,i.baseState=g,i.baseQueue=S,o.lastRenderedState=u}if(t=o.interleaved,t!==null){d=t;do f=d.lane,be.lanes|=f,dr|=f,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function cu(t){var i=Ut(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,f=i.memoizedState;if(d!==null){o.pending=null;var g=d=d.next;do f=t(f,g.action),g=g.next;while(g!==d);Qt(f,i.memoizedState)||(wt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),o.lastRenderedState=f}return[f,u]}function ph(){}function mh(t,i){var o=be,u=Ut(),d=i(),f=!Qt(u.memoizedState,d);if(f&&(u.memoizedState=d,wt=!0),u=u.queue,du(_h.bind(null,o,u,t),[t]),u.getSnapshot!==i||f||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Yi(9,yh.bind(null,o,u,d,i),void 0,null),Je===null)throw Error(r(349));cr&30||gh(o,i,d)}return d}function gh(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=be.updateQueue,i===null?(i={lastEffect:null,stores:null},be.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function yh(t,i,o,u){i.value=o,i.getSnapshot=u,vh(i)&&wh(t)}function _h(t,i,o){return o(function(){vh(i)&&wh(t)})}function vh(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Qt(t,o)}catch{return!0}}function wh(t){var i=_n(t,1);i!==null&&Xt(i,t,1,-1)}function Eh(t){var i=an();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i.queue=t,t=t.dispatch=Dv.bind(null,be,t),[i.memoizedState,t]}function Yi(t,i,o,u){return t={tag:t,create:i,destroy:o,deps:u,next:null},i=be.updateQueue,i===null?(i={lastEffect:null,stores:null},be.updateQueue=i,i.lastEffect=t.next=t):(o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t)),t}function Ch(){return Ut().memoizedState}function Po(t,i,o,u){var d=an();be.flags|=t,d.memoizedState=Yi(1|i,o,void 0,u===void 0?null:u)}function Ao(t,i,o,u){var d=Ut();u=u===void 0?null:u;var f=void 0;if(Ve!==null){var g=Ve.memoizedState;if(f=g.destroy,u!==null&&ou(u,g.deps)){d.memoizedState=Yi(i,o,f,u);return}}be.flags|=t,d.memoizedState=Yi(1|i,o,f,u)}function Sh(t,i){return Po(8390656,8,t,i)}function du(t,i){return Ao(2048,8,t,i)}function xh(t,i){return Ao(4,2,t,i)}function kh(t,i){return Ao(4,4,t,i)}function Th(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Rh(t,i,o){return o=o!=null?o.concat([t]):null,Ao(4,4,Th.bind(null,i,t),o)}function fu(){}function Nh(t,i){var o=Ut();i=i===void 0?null:i;var u=o.memoizedState;return u!==null&&i!==null&&ou(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function Ih(t,i){var o=Ut();i=i===void 0?null:i;var u=o.memoizedState;return u!==null&&i!==null&&ou(i,u[1])?u[0]:(t=t(),o.memoizedState=[t,i],t)}function Ph(t,i,o){return cr&21?(Qt(o,i)||(o=of(),be.lanes|=o,dr|=o,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=o)}function Av(t,i){var o=Se;Se=o!==0&&4>o?o:4,t(!0);var u=su.transition;su.transition={};try{t(!1),i()}finally{Se=o,su.transition=u}}function Ah(){return Ut().memoizedState}function Ov(t,i,o){var u=Hn(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Oh(t))Dh(i,o);else if(o=uh(t,i,o,u),o!==null){var d=ht();Xt(o,t,u,d),Lh(o,i,u)}}function Dv(t,i,o){var u=Hn(t),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oh(t))Dh(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,w=f(g,o);if(d.hasEagerState=!0,d.eagerState=w,Qt(w,g)){var S=i.interleaved;S===null?(d.next=d,Za(i)):(d.next=S.next,S.next=d),i.interleaved=d;return}}catch{}finally{}o=uh(t,i,d,u),o!==null&&(d=ht(),Xt(o,t,u,d),Lh(o,i,u))}}function Oh(t){var i=t.alternate;return t===be||i!==null&&i===be}function Dh(t,i){Qi=Io=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Lh(t,i,o){if(o&4194240){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,pa(t,o)}}var Oo={readContext:zt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Lv={readContext:zt,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:zt,useEffect:Sh,useImperativeHandle:function(t,i,o){return o=o!=null?o.concat([t]):null,Po(4194308,4,Th.bind(null,i,t),o)},useLayoutEffect:function(t,i){return Po(4194308,4,t,i)},useInsertionEffect:function(t,i){return Po(4,2,t,i)},useMemo:function(t,i){var o=an();return i=i===void 0?null:i,t=t(),o.memoizedState=[t,i],t},useReducer:function(t,i,o){var u=an();return i=o!==void 0?o(i):i,u.memoizedState=u.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},u.queue=t,t=t.dispatch=Ov.bind(null,be,t),[u.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:Eh,useDebugValue:fu,useDeferredValue:function(t){return an().memoizedState=t},useTransition:function(){var t=Eh(!1),i=t[0];return t=Av.bind(null,t[1]),an().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,o){var u=be,d=an();if(De){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),Je===null)throw Error(r(349));cr&30||gh(u,i,o)}d.memoizedState=o;var f={value:o,getSnapshot:i};return d.queue=f,Sh(_h.bind(null,u,f,t),[t]),u.flags|=2048,Yi(9,yh.bind(null,u,f,o,i),void 0,null),o},useId:function(){var t=an(),i=Je.identifierPrefix;if(De){var o=yn,u=gn;o=(u&~(1<<32-Vt(u)-1)).toString(32)+o,i=":"+i+"R"+o,o=Gi++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=Pv++,i=":"+i+"r"+o.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},bv={readContext:zt,useCallback:Nh,useContext:zt,useEffect:du,useImperativeHandle:Rh,useInsertionEffect:xh,useLayoutEffect:kh,useMemo:Ih,useReducer:uu,useRef:Ch,useState:function(){return uu(Ki)},useDebugValue:fu,useDeferredValue:function(t){var i=Ut();return Ph(i,Ve.memoizedState,t)},useTransition:function(){var t=uu(Ki)[0],i=Ut().memoizedState;return[t,i]},useMutableSource:ph,useSyncExternalStore:mh,useId:Ah,unstable_isNewReconciler:!1},Mv={readContext:zt,useCallback:Nh,useContext:zt,useEffect:du,useImperativeHandle:Rh,useInsertionEffect:xh,useLayoutEffect:kh,useMemo:Ih,useReducer:cu,useRef:Ch,useState:function(){return cu(Ki)},useDebugValue:fu,useDeferredValue:function(t){var i=Ut();return Ve===null?i.memoizedState=t:Ph(i,Ve.memoizedState,t)},useTransition:function(){var t=cu(Ki)[0],i=Ut().memoizedState;return[t,i]},useMutableSource:ph,useSyncExternalStore:mh,useId:Ah,unstable_isNewReconciler:!1};function Kt(t,i){if(t&&t.defaultProps){i=Z({},i),t=t.defaultProps;for(var o in t)i[o]===void 0&&(i[o]=t[o]);return i}return i}function hu(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:Z({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Do={isMounted:function(t){return(t=t._reactInternals)?rr(t)===t:!1},enqueueSetState:function(t,i,o){t=t._reactInternals;var u=ht(),d=Hn(t),f=vn(u,d);f.payload=i,o!=null&&(f.callback=o),i=Un(t,f,d),i!==null&&(Xt(i,t,d,u),ko(i,t,d))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=ht(),d=Hn(t),f=vn(u,d);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Un(t,f,d),i!==null&&(Xt(i,t,d,u),ko(i,t,d))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=ht(),u=Hn(t),d=vn(o,u);d.tag=2,i!=null&&(d.callback=i),i=Un(t,d,u),i!==null&&(Xt(i,t,u,o),ko(i,t,u))}};function bh(t,i,o,u,d,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,f,g):i.prototype&&i.prototype.isPureReactComponent?!Mi(o,u)||!Mi(d,f):!0}function Mh(t,i,o){var u=!1,d=Fn,f=i.contextType;return typeof f=="object"&&f!==null?f=zt(f):(d=vt(i)?sr:lt.current,u=i.contextTypes,f=(u=u!=null)?Ur(t,d):Fn),i=new i(o,f),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Do,t.stateNode=i,i._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=f),i}function Fh(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&Do.enqueueReplaceState(i,i.state,null)}function pu(t,i,o,u){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},eu(t);var f=i.contextType;typeof f=="object"&&f!==null?d.context=zt(f):(f=vt(i)?sr:lt.current,d.context=Ur(t,f)),d.state=t.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(hu(t,i,f,o),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Do.enqueueReplaceState(d,d.state,null),To(t,o,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Gr(t,i){try{var o="",u=i;do o+=_e(u),u=u.return;while(u);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:i,stack:d,digest:null}}function mu(t,i,o){return{value:t,source:null,stack:o??null,digest:i??null}}function gu(t,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Fv=typeof WeakMap=="function"?WeakMap:Map;function jh(t,i,o){o=vn(-1,o),o.tag=3,o.payload={element:null};var u=i.value;return o.callback=function(){Uo||(Uo=!0,Au=u),gu(t,i)},o}function zh(t,i,o){o=vn(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=i.value;o.payload=function(){return u(d)},o.callback=function(){gu(t,i)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){gu(t,i),typeof u!="function"&&($n===null?$n=new Set([this]):$n.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),o}function Uh(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Fv;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(o)||(d.add(o),t=Jv.bind(null,t,i,o),i.then(t,t))}function Bh(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function $h(t,i,o,u,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===i?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=vn(-1,1),i.tag=2,Un(o,i,1))),o.lanes|=1),t)}var jv=K.ReactCurrentOwner,wt=!1;function ft(t,i,o,u){i.child=t===null?ah(i,null,o,u):Hr(i,t.child,o,u)}function Wh(t,i,o,u,d){o=o.render;var f=i.ref;return Vr(i,d),u=lu(t,i,o,u,f,d),o=au(),t!==null&&!wt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,wn(t,i,d)):(De&&o&&Ha(i),i.flags|=1,ft(t,i,u,d),i.child)}function Hh(t,i,o,u,d){if(t===null){var f=o.type;return typeof f=="function"&&!ju(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=f,qh(t,i,f,u,d)):(t=Vo(o.type,null,u,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!(t.lanes&d)){var g=f.memoizedProps;if(o=o.compare,o=o!==null?o:Mi,o(g,u)&&t.ref===i.ref)return wn(t,i,d)}return i.flags|=1,t=Vn(f,u),t.ref=i.ref,t.return=i,i.child=t}function qh(t,i,o,u,d){if(t!==null){var f=t.memoizedProps;if(Mi(f,u)&&t.ref===i.ref)if(wt=!1,i.pendingProps=u=f,(t.lanes&d)!==0)t.flags&131072&&(wt=!0);else return i.lanes=t.lanes,wn(t,i,d)}return yu(t,i,o,u,d)}function Vh(t,i,o){var u=i.pendingProps,d=u.children,f=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Yr,Dt),Dt|=o;else{if(!(o&1073741824))return t=f!==null?f.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,Te(Yr,Dt),Dt|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:o,Te(Yr,Dt),Dt|=u}else f!==null?(u=f.baseLanes|o,i.memoizedState=null):u=o,Te(Yr,Dt),Dt|=u;return ft(t,i,d,o),i.child}function Qh(t,i){var o=i.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function yu(t,i,o,u,d){var f=vt(o)?sr:lt.current;return f=Ur(i,f),Vr(i,d),o=lu(t,i,o,u,f,d),u=au(),t!==null&&!wt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,wn(t,i,d)):(De&&u&&Ha(i),i.flags|=1,ft(t,i,o,d),i.child)}function Gh(t,i,o,u,d){if(vt(o)){var f=!0;yo(i)}else f=!1;if(Vr(i,d),i.stateNode===null)bo(t,i),Mh(i,o,u),pu(i,o,u,d),u=!0;else if(t===null){var g=i.stateNode,w=i.memoizedProps;g.props=w;var S=g.context,O=o.contextType;typeof O=="object"&&O!==null?O=zt(O):(O=vt(o)?sr:lt.current,O=Ur(i,O));var j=o.getDerivedStateFromProps,U=typeof j=="function"||typeof g.getSnapshotBeforeUpdate=="function";U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==u||S!==O)&&Fh(i,g,u,O),zn=!1;var M=i.memoizedState;g.state=M,To(i,u,g,d),S=i.memoizedState,w!==u||M!==S||_t.current||zn?(typeof j=="function"&&(hu(i,o,j,u),S=i.memoizedState),(w=zn||bh(i,o,w,u,M,S,O))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=S),g.props=u,g.state=S,g.context=O,u=w):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,ch(t,i),w=i.memoizedProps,O=i.type===i.elementType?w:Kt(i.type,w),g.props=O,U=i.pendingProps,M=g.context,S=o.contextType,typeof S=="object"&&S!==null?S=zt(S):(S=vt(o)?sr:lt.current,S=Ur(i,S));var Y=o.getDerivedStateFromProps;(j=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==U||M!==S)&&Fh(i,g,u,S),zn=!1,M=i.memoizedState,g.state=M,To(i,u,g,d);var ee=i.memoizedState;w!==U||M!==ee||_t.current||zn?(typeof Y=="function"&&(hu(i,o,Y,u),ee=i.memoizedState),(O=zn||bh(i,o,O,u,M,ee,S)||!1)?(j||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,S),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,S)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&M===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&M===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ee),g.props=u,g.state=ee,g.context=S,u=O):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&M===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&M===t.memoizedState||(i.flags|=1024),u=!1)}return _u(t,i,o,u,f,d)}function _u(t,i,o,u,d,f){Qh(t,i);var g=(i.flags&128)!==0;if(!u&&!g)return d&&Zf(i,o,!1),wn(t,i,f);u=i.stateNode,jv.current=i;var w=g&&typeof o.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,t!==null&&g?(i.child=Hr(i,t.child,null,f),i.child=Hr(i,null,w,f)):ft(t,i,w,f),i.memoizedState=u.state,d&&Zf(i,o,!0),i.child}function Kh(t){var i=t.stateNode;i.pendingContext?Jf(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Jf(t,i.context,!1),tu(t,i.containerInfo)}function Yh(t,i,o,u,d){return Wr(),Ga(d),i.flags|=256,ft(t,i,o,u),i.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function wu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jh(t,i,o){var u=i.pendingProps,d=Le.current,f=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=t!==null&&t.memoizedState===null?!1:(d&2)!==0),w?(f=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Te(Le,d&1),t===null)return Qa(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(g=u.children,t=u.fallback,f?(u=i.mode,f=i.child,g={mode:"hidden",children:g},!(u&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Qo(g,u,0,null),t=mr(t,u,o,null),f.return=i,t.return=i,f.sibling=t,i.child=f,i.child.memoizedState=wu(o),i.memoizedState=vu,t):Eu(i,g));if(d=t.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return zv(t,i,g,u,w,d,o);if(f){f=u.fallback,g=i.mode,d=t.child,w=d.sibling;var S={mode:"hidden",children:u.children};return!(g&1)&&i.child!==d?(u=i.child,u.childLanes=0,u.pendingProps=S,i.deletions=null):(u=Vn(d,S),u.subtreeFlags=d.subtreeFlags&14680064),w!==null?f=Vn(w,f):(f=mr(f,g,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,g=t.child.memoizedState,g=g===null?wu(o):{baseLanes:g.baseLanes|o,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=t.childLanes&~o,i.memoizedState=vu,u}return f=t.child,t=f.sibling,u=Vn(f,{mode:"visible",children:u.children}),!(i.mode&1)&&(u.lanes=o),u.return=i,u.sibling=null,t!==null&&(o=i.deletions,o===null?(i.deletions=[t],i.flags|=16):o.push(t)),i.child=u,i.memoizedState=null,u}function Eu(t,i){return i=Qo({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Lo(t,i,o,u){return u!==null&&Ga(u),Hr(i,t.child,null,o),t=Eu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function zv(t,i,o,u,d,f,g){if(o)return i.flags&256?(i.flags&=-257,u=mu(Error(r(422))),Lo(t,i,g,u)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(f=u.fallback,d=i.mode,u=Qo({mode:"visible",children:u.children},d,0,null),f=mr(f,d,g,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,i.mode&1&&Hr(i,t.child,null,g),i.child.memoizedState=wu(g),i.memoizedState=vu,f);if(!(i.mode&1))return Lo(t,i,g,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var w=u.dgst;return u=w,f=Error(r(419)),u=mu(f,u,void 0),Lo(t,i,g,u)}if(w=(g&t.childLanes)!==0,wt||w){if(u=Je,u!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(u.suspendedLanes|g)?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,_n(t,d),Xt(u,t,d,-1))}return Fu(),u=mu(Error(r(421))),Lo(t,i,g,u)}return d.data==="$?"?(i.flags|=128,i.child=t.child,i=Xv.bind(null,t),d._reactRetry=i,null):(t=f.treeContext,Ot=bn(d.nextSibling),At=i,De=!0,Gt=null,t!==null&&(Ft[jt++]=gn,Ft[jt++]=yn,Ft[jt++]=or,gn=t.id,yn=t.overflow,or=i),i=Eu(i,u.children),i.flags|=4096,i)}function Xh(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),Xa(t.return,i,o)}function Cu(t,i,o,u,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=d)}function Zh(t,i,o){var u=i.pendingProps,d=u.revealOrder,f=u.tail;if(ft(t,i,u.children,o),u=Le.current,u&2)u=u&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xh(t,o,i);else if(t.tag===19)Xh(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Te(Le,u),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(o=i.child,d=null;o!==null;)t=o.alternate,t!==null&&Ro(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Cu(i,!1,d,o,f);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Ro(t)===null){i.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Cu(i,!0,o,null,f);break;case"together":Cu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bo(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function wn(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),dr|=i.lanes,!(o&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,o=Vn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Vn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Uv(t,i,o){switch(i.tag){case 3:Kh(i),Wr();break;case 5:hh(i);break;case 1:vt(i.type)&&yo(i);break;case 4:tu(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,d=i.memoizedProps.value;Te(So,u._currentValue),u._currentValue=d;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(Te(Le,Le.current&1),i.flags|=128,null):o&i.child.childLanes?Jh(t,i,o):(Te(Le,Le.current&1),t=wn(t,i,o),t!==null?t.sibling:null);Te(Le,Le.current&1);break;case 19:if(u=(o&i.childLanes)!==0,t.flags&128){if(u)return Zh(t,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Te(Le,Le.current),u)break;return null;case 22:case 23:return i.lanes=0,Vh(t,i,o)}return wn(t,i,o)}var ep,Su,tp,np;ep=function(t,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Su=function(){},tp=function(t,i,o,u){var d=t.memoizedProps;if(d!==u){t=i.stateNode,ur(ln.current);var f=null;switch(o){case"input":d=Xl(t,d),u=Xl(t,u),f=[];break;case"select":d=Z({},d,{value:void 0}),u=Z({},u,{value:void 0}),f=[];break;case"textarea":d=ta(t,d),u=ta(t,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=po)}ra(o,u);var g;o=null;for(O in d)if(!u.hasOwnProperty(O)&&d.hasOwnProperty(O)&&d[O]!=null)if(O==="style"){var w=d[O];for(g in w)w.hasOwnProperty(g)&&(o||(o={}),o[g]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(l.hasOwnProperty(O)?f||(f=[]):(f=f||[]).push(O,null));for(O in u){var S=u[O];if(w=d!=null?d[O]:void 0,u.hasOwnProperty(O)&&S!==w&&(S!=null||w!=null))if(O==="style")if(w){for(g in w)!w.hasOwnProperty(g)||S&&S.hasOwnProperty(g)||(o||(o={}),o[g]="");for(g in S)S.hasOwnProperty(g)&&w[g]!==S[g]&&(o||(o={}),o[g]=S[g])}else o||(f||(f=[]),f.push(O,o)),o=S;else O==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(f=f||[]).push(O,S)):O==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(O,""+S):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(l.hasOwnProperty(O)?(S!=null&&O==="onScroll"&&Pe("scroll",t),f||w===S||(f=[])):(f=f||[]).push(O,S))}o&&(f=f||[]).push("style",o);var O=f;(i.updateQueue=O)&&(i.flags|=4)}},np=function(t,i,o,u){o!==u&&(i.flags|=4)};function Ji(t,i){if(!De)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ut(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function Bv(t,i,o){var u=i.pendingProps;switch(qa(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return vt(i.type)&&go(),ut(i),null;case 3:return u=i.stateNode,Qr(),Ae(_t),Ae(lt),iu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Eo(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Gt!==null&&(Lu(Gt),Gt=null))),Su(t,i),ut(i),null;case 5:nu(i);var d=ur(Vi.current);if(o=i.type,t!==null&&i.stateNode!=null)tp(t,i,o,u,d),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(r(166));return ut(i),null}if(t=ur(ln.current),Eo(i)){u=i.stateNode,o=i.type;var f=i.memoizedProps;switch(u[on]=i,u[Bi]=f,t=(i.mode&1)!==0,o){case"dialog":Pe("cancel",u),Pe("close",u);break;case"iframe":case"object":case"embed":Pe("load",u);break;case"video":case"audio":for(d=0;d<ji.length;d++)Pe(ji[d],u);break;case"source":Pe("error",u);break;case"img":case"image":case"link":Pe("error",u),Pe("load",u);break;case"details":Pe("toggle",u);break;case"input":bd(u,f),Pe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Pe("invalid",u);break;case"textarea":jd(u,f),Pe("invalid",u)}ra(o,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var w=f[g];g==="children"?typeof w=="string"?u.textContent!==w&&(f.suppressHydrationWarning!==!0&&ho(u.textContent,w,t),d=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&ho(u.textContent,w,t),d=["children",""+w]):l.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Pe("scroll",u)}switch(o){case"input":Ws(u),Fd(u,f,!0);break;case"textarea":Ws(u),Ud(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=po)}u=d,i.updateQueue=u,u!==null&&(i.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=g.createElement(o,{is:u.is}):(t=g.createElement(o),o==="select"&&(g=t,u.multiple?g.multiple=!0:u.size&&(g.size=u.size))):t=g.createElementNS(t,o),t[on]=i,t[Bi]=u,ep(t,i,!1,!1),i.stateNode=t;e:{switch(g=ia(o,u),o){case"dialog":Pe("cancel",t),Pe("close",t),d=u;break;case"iframe":case"object":case"embed":Pe("load",t),d=u;break;case"video":case"audio":for(d=0;d<ji.length;d++)Pe(ji[d],t);d=u;break;case"source":Pe("error",t),d=u;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),d=u;break;case"details":Pe("toggle",t),d=u;break;case"input":bd(t,u),d=Xl(t,u),Pe("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=Z({},u,{value:void 0}),Pe("invalid",t);break;case"textarea":jd(t,u),d=ta(t,u),Pe("invalid",t);break;default:d=u}ra(o,d),w=d;for(f in w)if(w.hasOwnProperty(f)){var S=w[f];f==="style"?Hd(t,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&$d(t,S)):f==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&vi(t,S):typeof S=="number"&&vi(t,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?S!=null&&f==="onScroll"&&Pe("scroll",t):S!=null&&$(t,f,S,g))}switch(o){case"input":Ws(t),Fd(t,u,!1);break;case"textarea":Ws(t),Ud(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Ce(u.value));break;case"select":t.multiple=!!u.multiple,f=u.value,f!=null?Nr(t,!!u.multiple,f,!1):u.defaultValue!=null&&Nr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=po)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return ut(i),null;case 6:if(t&&i.stateNode!=null)np(t,i,t.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(o=ur(Vi.current),ur(ln.current),Eo(i)){if(u=i.stateNode,o=i.memoizedProps,u[on]=i,(f=u.nodeValue!==o)&&(t=At,t!==null))switch(t.tag){case 3:ho(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ho(u.nodeValue,o,(t.mode&1)!==0)}f&&(i.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[on]=i,i.stateNode=u}return ut(i),null;case 13:if(Ae(Le),u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Ot!==null&&i.mode&1&&!(i.flags&128))sh(),Wr(),i.flags|=98560,f=!1;else if(f=Eo(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[on]=i}else Wr(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;ut(i),f=!1}else Gt!==null&&(Lu(Gt),Gt=null),f=!0;if(!f)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(i.child.flags|=8192,i.mode&1&&(t===null||Le.current&1?Qe===0&&(Qe=3):Fu())),i.updateQueue!==null&&(i.flags|=4),ut(i),null);case 4:return Qr(),Su(t,i),t===null&&zi(i.stateNode.containerInfo),ut(i),null;case 10:return Ja(i.type._context),ut(i),null;case 17:return vt(i.type)&&go(),ut(i),null;case 19:if(Ae(Le),f=i.memoizedState,f===null)return ut(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)Ji(f,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(g=Ro(t),g!==null){for(i.flags|=128,Ji(f,!1),u=g.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=o,o=i.child;o!==null;)f=o,t=u,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,t=g.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Te(Le,Le.current&1|2),i.child}t=t.sibling}f.tail!==null&&Be()>Jr&&(i.flags|=128,u=!0,Ji(f,!1),i.lanes=4194304)}else{if(!u)if(t=Ro(g),t!==null){if(i.flags|=128,u=!0,o=t.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Ji(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!De)return ut(i),null}else 2*Be()-f.renderingStartTime>Jr&&o!==1073741824&&(i.flags|=128,u=!0,Ji(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(o=f.last,o!==null?o.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Be(),i.sibling=null,o=Le.current,Te(Le,u?o&1|2:o&1),i):(ut(i),null);case 22:case 23:return Mu(),u=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(i.flags|=8192),u&&i.mode&1?Dt&1073741824&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function $v(t,i){switch(qa(i),i.tag){case 1:return vt(i.type)&&go(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qr(),Ae(_t),Ae(lt),iu(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return nu(i),null;case 13:if(Ae(Le),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Wr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ae(Le),null;case 4:return Qr(),null;case 10:return Ja(i.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var Mo=!1,ct=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,X=null;function Kr(t,i){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){je(t,i,u)}else o.current=null}function xu(t,i,o){try{o()}catch(u){je(t,i,u)}}var rp=!1;function Hv(t,i){if(Ma=to,t=bf(),Na(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var g=0,w=-1,S=-1,O=0,j=0,U=t,M=null;t:for(;;){for(var Y;U!==o||d!==0&&U.nodeType!==3||(w=g+d),U!==f||u!==0&&U.nodeType!==3||(S=g+u),U.nodeType===3&&(g+=U.nodeValue.length),(Y=U.firstChild)!==null;)M=U,U=Y;for(;;){if(U===t)break t;if(M===o&&++O===d&&(w=g),M===f&&++j===u&&(S=g),(Y=U.nextSibling)!==null)break;U=M,M=U.parentNode}U=Y}o=w===-1||S===-1?null:{start:w,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fa={focusedElem:t,selectionRange:o},to=!1,X=i;X!==null;)if(i=X,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,X=t;else for(;X!==null;){i=X;try{var ee=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,$e=ee.memoizedState,P=i.stateNode,x=P.getSnapshotBeforeUpdate(i.elementType===i.type?te:Kt(i.type,te),$e);P.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var A=i.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(W){je(i,i.return,W)}if(t=i.sibling,t!==null){t.return=i.return,X=t;break}X=i.return}return ee=rp,rp=!1,ee}function Xi(t,i,o){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var f=d.destroy;d.destroy=void 0,f!==void 0&&xu(i,o,f)}d=d.next}while(d!==u)}}function Fo(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==i)}}function ku(t){var i=t.ref;if(i!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof i=="function"?i(t):i.current=t}}function ip(t){var i=t.alternate;i!==null&&(t.alternate=null,ip(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[on],delete i[Bi],delete i[Ba],delete i[Tv],delete i[Rv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sp(t){return t.tag===5||t.tag===3||t.tag===4}function op(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tu(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(t,i):o.insertBefore(t,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(t,o)):(i=o,i.appendChild(t)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=po));else if(u!==4&&(t=t.child,t!==null))for(Tu(t,i,o),t=t.sibling;t!==null;)Tu(t,i,o),t=t.sibling}function Ru(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Ru(t,i,o),t=t.sibling;t!==null;)Ru(t,i,o),t=t.sibling}var rt=null,Yt=!1;function Bn(t,i,o){for(o=o.child;o!==null;)lp(t,i,o),o=o.sibling}function lp(t,i,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Ks,o)}catch{}switch(o.tag){case 5:ct||Kr(o,i);case 6:var u=rt,d=Yt;rt=null,Bn(t,i,o),rt=u,Yt=d,rt!==null&&(Yt?(t=rt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):rt.removeChild(o.stateNode));break;case 18:rt!==null&&(Yt?(t=rt,o=o.stateNode,t.nodeType===8?Ua(t.parentNode,o):t.nodeType===1&&Ua(t,o),Pi(t)):Ua(rt,o.stateNode));break;case 4:u=rt,d=Yt,rt=o.stateNode.containerInfo,Yt=!0,Bn(t,i,o),rt=u,Yt=d;break;case 0:case 11:case 14:case 15:if(!ct&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&xu(o,i,g),d=d.next}while(d!==u)}Bn(t,i,o);break;case 1:if(!ct&&(Kr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){je(o,i,w)}Bn(t,i,o);break;case 21:Bn(t,i,o);break;case 22:o.mode&1?(ct=(u=ct)||o.memoizedState!==null,Bn(t,i,o),ct=u):Bn(t,i,o);break;default:Bn(t,i,o)}}function ap(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Wv),i.forEach(function(u){var d=Zv.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}}function Jt(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var f=t,g=i,w=g;e:for(;w!==null;){switch(w.tag){case 5:rt=w.stateNode,Yt=!1;break e;case 3:rt=w.stateNode.containerInfo,Yt=!0;break e;case 4:rt=w.stateNode.containerInfo,Yt=!0;break e}w=w.return}if(rt===null)throw Error(r(160));lp(f,g,d),rt=null,Yt=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(O){je(d,i,O)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)up(i,t),i=i.sibling}function up(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(i,t),un(t),u&4){try{Xi(3,t,t.return),Fo(3,t)}catch(te){je(t,t.return,te)}try{Xi(5,t,t.return)}catch(te){je(t,t.return,te)}}break;case 1:Jt(i,t),un(t),u&512&&o!==null&&Kr(o,o.return);break;case 5:if(Jt(i,t),un(t),u&512&&o!==null&&Kr(o,o.return),t.flags&32){var d=t.stateNode;try{vi(d,"")}catch(te){je(t,t.return,te)}}if(u&4&&(d=t.stateNode,d!=null)){var f=t.memoizedProps,g=o!==null?o.memoizedProps:f,w=t.type,S=t.updateQueue;if(t.updateQueue=null,S!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&Md(d,f),ia(w,g);var O=ia(w,f);for(g=0;g<S.length;g+=2){var j=S[g],U=S[g+1];j==="style"?Hd(d,U):j==="dangerouslySetInnerHTML"?$d(d,U):j==="children"?vi(d,U):$(d,j,U,O)}switch(w){case"input":Zl(d,f);break;case"textarea":zd(d,f);break;case"select":var M=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?Nr(d,!!f.multiple,Y,!1):M!==!!f.multiple&&(f.defaultValue!=null?Nr(d,!!f.multiple,f.defaultValue,!0):Nr(d,!!f.multiple,f.multiple?[]:"",!1))}d[Bi]=f}catch(te){je(t,t.return,te)}}break;case 6:if(Jt(i,t),un(t),u&4){if(t.stateNode===null)throw Error(r(162));d=t.stateNode,f=t.memoizedProps;try{d.nodeValue=f}catch(te){je(t,t.return,te)}}break;case 3:if(Jt(i,t),un(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Pi(i.containerInfo)}catch(te){je(t,t.return,te)}break;case 4:Jt(i,t),un(t);break;case 13:Jt(i,t),un(t),d=t.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Pu=Be())),u&4&&ap(t);break;case 22:if(j=o!==null&&o.memoizedState!==null,t.mode&1?(ct=(O=ct)||j,Jt(i,t),ct=O):Jt(i,t),un(t),u&8192){if(O=t.memoizedState!==null,(t.stateNode.isHidden=O)&&!j&&t.mode&1)for(X=t,j=t.child;j!==null;){for(U=X=j;X!==null;){switch(M=X,Y=M.child,M.tag){case 0:case 11:case 14:case 15:Xi(4,M,M.return);break;case 1:Kr(M,M.return);var ee=M.stateNode;if(typeof ee.componentWillUnmount=="function"){u=M,o=M.return;try{i=u,ee.props=i.memoizedProps,ee.state=i.memoizedState,ee.componentWillUnmount()}catch(te){je(u,o,te)}}break;case 5:Kr(M,M.return);break;case 22:if(M.memoizedState!==null){fp(U);continue}}Y!==null?(Y.return=M,X=Y):fp(U)}j=j.sibling}e:for(j=null,U=t;;){if(U.tag===5){if(j===null){j=U;try{d=U.stateNode,O?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=U.stateNode,S=U.memoizedProps.style,g=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=Wd("display",g))}catch(te){je(t,t.return,te)}}}else if(U.tag===6){if(j===null)try{U.stateNode.nodeValue=O?"":U.memoizedProps}catch(te){je(t,t.return,te)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===t)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===t)break e;for(;U.sibling===null;){if(U.return===null||U.return===t)break e;j===U&&(j=null),U=U.return}j===U&&(j=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Jt(i,t),un(t),u&4&&ap(t);break;case 21:break;default:Jt(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{e:{for(var o=t.return;o!==null;){if(sp(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(vi(d,""),u.flags&=-33);var f=op(t);Ru(t,f,d);break;case 3:case 4:var g=u.stateNode.containerInfo,w=op(t);Tu(t,w,g);break;default:throw Error(r(161))}}catch(S){je(t,t.return,S)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function qv(t,i,o){X=t,cp(t)}function cp(t,i,o){for(var u=(t.mode&1)!==0;X!==null;){var d=X,f=d.child;if(d.tag===22&&u){var g=d.memoizedState!==null||Mo;if(!g){var w=d.alternate,S=w!==null&&w.memoizedState!==null||ct;w=Mo;var O=ct;if(Mo=g,(ct=S)&&!O)for(X=d;X!==null;)g=X,S=g.child,g.tag===22&&g.memoizedState!==null?hp(d):S!==null?(S.return=g,X=S):hp(d);for(;f!==null;)X=f,cp(f),f=f.sibling;X=d,Mo=w,ct=O}dp(t)}else d.subtreeFlags&8772&&f!==null?(f.return=d,X=f):dp(t)}}function dp(t){for(;X!==null;){var i=X;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ct||Fo(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!ct)if(o===null)u.componentDidMount();else{var d=i.elementType===i.type?o.memoizedProps:Kt(i.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&fh(i,f,u);break;case 3:var g=i.updateQueue;if(g!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}fh(i,g,o)}break;case 5:var w=i.stateNode;if(o===null&&i.flags&4){o=w;var S=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var O=i.alternate;if(O!==null){var j=O.memoizedState;if(j!==null){var U=j.dehydrated;U!==null&&Pi(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ct||i.flags&512&&ku(i)}catch(M){je(i,i.return,M)}}if(i===t){X=null;break}if(o=i.sibling,o!==null){o.return=i.return,X=o;break}X=i.return}}function fp(t){for(;X!==null;){var i=X;if(i===t){X=null;break}var o=i.sibling;if(o!==null){o.return=i.return,X=o;break}X=i.return}}function hp(t){for(;X!==null;){var i=X;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Fo(4,i)}catch(S){je(i,o,S)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var d=i.return;try{u.componentDidMount()}catch(S){je(i,d,S)}}var f=i.return;try{ku(i)}catch(S){je(i,f,S)}break;case 5:var g=i.return;try{ku(i)}catch(S){je(i,g,S)}}}catch(S){je(i,i.return,S)}if(i===t){X=null;break}var w=i.sibling;if(w!==null){w.return=i.return,X=w;break}X=i.return}}var Vv=Math.ceil,jo=K.ReactCurrentDispatcher,Nu=K.ReactCurrentOwner,Bt=K.ReactCurrentBatchConfig,ge=0,Je=null,He=null,it=0,Dt=0,Yr=Mn(0),Qe=0,Zi=null,dr=0,zo=0,Iu=0,es=null,Et=null,Pu=0,Jr=1/0,En=null,Uo=!1,Au=null,$n=null,Bo=!1,Wn=null,$o=0,ts=0,Ou=null,Wo=-1,Ho=0;function ht(){return ge&6?Be():Wo!==-1?Wo:Wo=Be()}function Hn(t){return t.mode&1?ge&2&&it!==0?it&-it:Iv.transition!==null?(Ho===0&&(Ho=of()),Ho):(t=Se,t!==0||(t=window.event,t=t===void 0?16:mf(t.type)),t):1}function Xt(t,i,o,u){if(50<ts)throw ts=0,Ou=null,Error(r(185));ki(t,o,u),(!(ge&2)||t!==Je)&&(t===Je&&(!(ge&2)&&(zo|=o),Qe===4&&qn(t,it)),Ct(t,u),o===1&&ge===0&&!(i.mode&1)&&(Jr=Be()+500,_o&&jn()))}function Ct(t,i){var o=t.callbackNode;I_(t,i);var u=Xs(t,t===Je?it:0);if(u===0)o!==null&&nf(o),t.callbackNode=null,t.callbackPriority=0;else if(i=u&-u,t.callbackPriority!==i){if(o!=null&&nf(o),i===1)t.tag===0?Nv(mp.bind(null,t)):eh(mp.bind(null,t)),xv(function(){!(ge&6)&&jn()}),o=null;else{switch(lf(u)){case 1:o=da;break;case 4:o=rf;break;case 16:o=Gs;break;case 536870912:o=sf;break;default:o=Gs}o=Sp(o,pp.bind(null,t))}t.callbackPriority=i,t.callbackNode=o}}function pp(t,i){if(Wo=-1,Ho=0,ge&6)throw Error(r(327));var o=t.callbackNode;if(Xr()&&t.callbackNode!==o)return null;var u=Xs(t,t===Je?it:0);if(u===0)return null;if(u&30||u&t.expiredLanes||i)i=qo(t,u);else{i=u;var d=ge;ge|=2;var f=yp();(Je!==t||it!==i)&&(En=null,Jr=Be()+500,hr(t,i));do try{Kv();break}catch(w){gp(t,w)}while(!0);Ya(),jo.current=f,ge=d,He!==null?i=0:(Je=null,it=0,i=Qe)}if(i!==0){if(i===2&&(d=fa(t),d!==0&&(u=d,i=Du(t,d))),i===1)throw o=Zi,hr(t,0),qn(t,u),Ct(t,Be()),o;if(i===6)qn(t,u);else{if(d=t.current.alternate,!(u&30)&&!Qv(d)&&(i=qo(t,u),i===2&&(f=fa(t),f!==0&&(u=f,i=Du(t,f))),i===1))throw o=Zi,hr(t,0),qn(t,u),Ct(t,Be()),o;switch(t.finishedWork=d,t.finishedLanes=u,i){case 0:case 1:throw Error(r(345));case 2:pr(t,Et,En);break;case 3:if(qn(t,u),(u&130023424)===u&&(i=Pu+500-Be(),10<i)){if(Xs(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){ht(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=za(pr.bind(null,t,Et,En),i);break}pr(t,Et,En);break;case 4:if(qn(t,u),(u&4194240)===u)break;for(i=t.eventTimes,d=-1;0<u;){var g=31-Vt(u);f=1<<g,g=i[g],g>d&&(d=g),u&=~f}if(u=d,u=Be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Vv(u/1960))-u,10<u){t.timeoutHandle=za(pr.bind(null,t,Et,En),u);break}pr(t,Et,En);break;case 5:pr(t,Et,En);break;default:throw Error(r(329))}}}return Ct(t,Be()),t.callbackNode===o?pp.bind(null,t):null}function Du(t,i){var o=es;return t.current.memoizedState.isDehydrated&&(hr(t,i).flags|=256),t=qo(t,i),t!==2&&(i=Et,Et=o,i!==null&&Lu(i)),t}function Lu(t){Et===null?Et=t:Et.push.apply(Et,t)}function Qv(t){for(var i=t;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],f=d.getSnapshot;d=d.value;try{if(!Qt(f(),d))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qn(t,i){for(i&=~Iu,i&=~zo,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var o=31-Vt(i),u=1<<o;t[o]=-1,i&=~u}}function mp(t){if(ge&6)throw Error(r(327));Xr();var i=Xs(t,0);if(!(i&1))return Ct(t,Be()),null;var o=qo(t,i);if(t.tag!==0&&o===2){var u=fa(t);u!==0&&(i=u,o=Du(t,u))}if(o===1)throw o=Zi,hr(t,0),qn(t,i),Ct(t,Be()),o;if(o===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,pr(t,Et,En),Ct(t,Be()),null}function bu(t,i){var o=ge;ge|=1;try{return t(i)}finally{ge=o,ge===0&&(Jr=Be()+500,_o&&jn())}}function fr(t){Wn!==null&&Wn.tag===0&&!(ge&6)&&Xr();var i=ge;ge|=1;var o=Bt.transition,u=Se;try{if(Bt.transition=null,Se=1,t)return t()}finally{Se=u,Bt.transition=o,ge=i,!(ge&6)&&jn()}}function Mu(){Dt=Yr.current,Ae(Yr)}function hr(t,i){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Sv(o)),He!==null)for(o=He.return;o!==null;){var u=o;switch(qa(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&go();break;case 3:Qr(),Ae(_t),Ae(lt),iu();break;case 5:nu(u);break;case 4:Qr();break;case 13:Ae(Le);break;case 19:Ae(Le);break;case 10:Ja(u.type._context);break;case 22:case 23:Mu()}o=o.return}if(Je=t,He=t=Vn(t.current,null),it=Dt=i,Qe=0,Zi=null,Iu=zo=dr=0,Et=es=null,ar!==null){for(i=0;i<ar.length;i++)if(o=ar[i],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,f=o.pending;if(f!==null){var g=f.next;f.next=d,u.next=g}o.pending=u}ar=null}return t}function gp(t,i){do{var o=He;try{if(Ya(),No.current=Oo,Io){for(var u=be.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Io=!1}if(cr=0,Ye=Ve=be=null,Qi=!1,Gi=0,Nu.current=null,o===null||o.return===null){Qe=1,Zi=i,He=null;break}e:{var f=t,g=o.return,w=o,S=i;if(i=it,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var O=S,j=w,U=j.tag;if(!(j.mode&1)&&(U===0||U===11||U===15)){var M=j.alternate;M?(j.updateQueue=M.updateQueue,j.memoizedState=M.memoizedState,j.lanes=M.lanes):(j.updateQueue=null,j.memoizedState=null)}var Y=Bh(g);if(Y!==null){Y.flags&=-257,$h(Y,g,w,f,i),Y.mode&1&&Uh(f,O,i),i=Y,S=O;var ee=i.updateQueue;if(ee===null){var te=new Set;te.add(S),i.updateQueue=te}else ee.add(S);break e}else{if(!(i&1)){Uh(f,O,i),Fu();break e}S=Error(r(426))}}else if(De&&w.mode&1){var $e=Bh(g);if($e!==null){!($e.flags&65536)&&($e.flags|=256),$h($e,g,w,f,i),Ga(Gr(S,w));break e}}f=S=Gr(S,w),Qe!==4&&(Qe=2),es===null?es=[f]:es.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var P=jh(f,S,i);dh(f,P);break e;case 1:w=S;var x=f.type,A=f.stateNode;if(!(f.flags&128)&&(typeof x.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&($n===null||!$n.has(A)))){f.flags|=65536,i&=-i,f.lanes|=i;var W=zh(f,w,i);dh(f,W);break e}}f=f.return}while(f!==null)}vp(o)}catch(ne){i=ne,He===o&&o!==null&&(He=o=o.return);continue}break}while(!0)}function yp(){var t=jo.current;return jo.current=Oo,t===null?Oo:t}function Fu(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Je===null||!(dr&268435455)&&!(zo&268435455)||qn(Je,it)}function qo(t,i){var o=ge;ge|=2;var u=yp();(Je!==t||it!==i)&&(En=null,hr(t,i));do try{Gv();break}catch(d){gp(t,d)}while(!0);if(Ya(),ge=o,jo.current=u,He!==null)throw Error(r(261));return Je=null,it=0,Qe}function Gv(){for(;He!==null;)_p(He)}function Kv(){for(;He!==null&&!w_();)_p(He)}function _p(t){var i=Cp(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,i===null?vp(t):He=i,Nu.current=null}function vp(t){var i=t;do{var o=i.alternate;if(t=i.return,i.flags&32768){if(o=$v(o,i),o!==null){o.flags&=32767,He=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,He=null;return}}else if(o=Bv(o,i,Dt),o!==null){He=o;return}if(i=i.sibling,i!==null){He=i;return}He=i=t}while(i!==null);Qe===0&&(Qe=5)}function pr(t,i,o){var u=Se,d=Bt.transition;try{Bt.transition=null,Se=1,Yv(t,i,o,u)}finally{Bt.transition=d,Se=u}return null}function Yv(t,i,o,u){do Xr();while(Wn!==null);if(ge&6)throw Error(r(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(P_(t,f),t===Je&&(He=Je=null,it=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Bo||(Bo=!0,Sp(Gs,function(){return Xr(),null})),f=(o.flags&15990)!==0,o.subtreeFlags&15990||f){f=Bt.transition,Bt.transition=null;var g=Se;Se=1;var w=ge;ge|=4,Nu.current=null,Hv(t,o),up(o,t),gv(Fa),to=!!Ma,Fa=Ma=null,t.current=o,qv(o),E_(),ge=w,Se=g,Bt.transition=f}else t.current=o;if(Bo&&(Bo=!1,Wn=t,$o=d),f=t.pendingLanes,f===0&&($n=null),x_(o.stateNode),Ct(t,Be()),i!==null)for(u=t.onRecoverableError,o=0;o<i.length;o++)d=i[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Uo)throw Uo=!1,t=Au,Au=null,t;return $o&1&&t.tag!==0&&Xr(),f=t.pendingLanes,f&1?t===Ou?ts++:(ts=0,Ou=t):ts=0,jn(),null}function Xr(){if(Wn!==null){var t=lf($o),i=Bt.transition,o=Se;try{if(Bt.transition=null,Se=16>t?16:t,Wn===null)var u=!1;else{if(t=Wn,Wn=null,$o=0,ge&6)throw Error(r(331));var d=ge;for(ge|=4,X=t.current;X!==null;){var f=X,g=f.child;if(X.flags&16){var w=f.deletions;if(w!==null){for(var S=0;S<w.length;S++){var O=w[S];for(X=O;X!==null;){var j=X;switch(j.tag){case 0:case 11:case 15:Xi(8,j,f)}var U=j.child;if(U!==null)U.return=j,X=U;else for(;X!==null;){j=X;var M=j.sibling,Y=j.return;if(ip(j),j===O){X=null;break}if(M!==null){M.return=Y,X=M;break}X=Y}}}var ee=f.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var $e=te.sibling;te.sibling=null,te=$e}while(te!==null)}}X=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,X=g;else e:for(;X!==null;){if(f=X,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Xi(9,f,f.return)}var P=f.sibling;if(P!==null){P.return=f.return,X=P;break e}X=f.return}}var x=t.current;for(X=x;X!==null;){g=X;var A=g.child;if(g.subtreeFlags&2064&&A!==null)A.return=g,X=A;else e:for(g=x;X!==null;){if(w=X,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Fo(9,w)}}catch(ne){je(w,w.return,ne)}if(w===g){X=null;break e}var W=w.sibling;if(W!==null){W.return=w.return,X=W;break e}X=w.return}}if(ge=d,jn(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Ks,t)}catch{}u=!0}return u}finally{Se=o,Bt.transition=i}}return!1}function wp(t,i,o){i=Gr(o,i),i=jh(t,i,1),t=Un(t,i,1),i=ht(),t!==null&&(ki(t,1,i),Ct(t,i))}function je(t,i,o){if(t.tag===3)wp(t,t,o);else for(;i!==null;){if(i.tag===3){wp(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($n===null||!$n.has(u))){t=Gr(o,t),t=zh(i,t,1),i=Un(i,t,1),t=ht(),i!==null&&(ki(i,1,t),Ct(i,t));break}}i=i.return}}function Jv(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),i=ht(),t.pingedLanes|=t.suspendedLanes&o,Je===t&&(it&o)===o&&(Qe===4||Qe===3&&(it&130023424)===it&&500>Be()-Pu?hr(t,0):Iu|=o),Ct(t,i)}function Ep(t,i){i===0&&(t.mode&1?(i=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):i=1);var o=ht();t=_n(t,i),t!==null&&(ki(t,i,o),Ct(t,o))}function Xv(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Ep(t,o)}function Zv(t,i){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(i),Ep(t,o)}var Cp;Cp=function(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps||_t.current)wt=!0;else{if(!(t.lanes&o)&&!(i.flags&128))return wt=!1,Uv(t,i,o);wt=!!(t.flags&131072)}else wt=!1,De&&i.flags&1048576&&th(i,wo,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;bo(t,i),t=i.pendingProps;var d=Ur(i,lt.current);Vr(i,o),d=lu(null,i,u,t,d,o);var f=au();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,vt(u)?(f=!0,yo(i)):f=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,eu(i),d.updater=Do,i.stateNode=d,d._reactInternals=i,pu(i,u,t,o),i=_u(null,i,u,!0,f,o)):(i.tag=0,De&&f&&Ha(i),ft(null,i,d,o),i=i.child),i;case 16:u=i.elementType;e:{switch(bo(t,i),t=i.pendingProps,d=u._init,u=d(u._payload),i.type=u,d=i.tag=tw(u),t=Kt(u,t),d){case 0:i=yu(null,i,u,t,o);break e;case 1:i=Gh(null,i,u,t,o);break e;case 11:i=Wh(null,i,u,t,o);break e;case 14:i=Hh(null,i,u,Kt(u.type,t),o);break e}throw Error(r(306,u,""))}return i;case 0:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Kt(u,d),yu(t,i,u,d,o);case 1:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Kt(u,d),Gh(t,i,u,d,o);case 3:e:{if(Kh(i),t===null)throw Error(r(387));u=i.pendingProps,f=i.memoizedState,d=f.element,ch(t,i),To(i,u,null,o);var g=i.memoizedState;if(u=g.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){d=Gr(Error(r(423)),i),i=Yh(t,i,u,o,d);break e}else if(u!==d){d=Gr(Error(r(424)),i),i=Yh(t,i,u,o,d);break e}else for(Ot=bn(i.stateNode.containerInfo.firstChild),At=i,De=!0,Gt=null,o=ah(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Wr(),u===d){i=wn(t,i,o);break e}ft(t,i,u,o)}i=i.child}return i;case 5:return hh(i),t===null&&Qa(i),u=i.type,d=i.pendingProps,f=t!==null?t.memoizedProps:null,g=d.children,ja(u,d)?g=null:f!==null&&ja(u,f)&&(i.flags|=32),Qh(t,i),ft(t,i,g,o),i.child;case 6:return t===null&&Qa(i),null;case 13:return Jh(t,i,o);case 4:return tu(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Hr(i,null,u,o):ft(t,i,u,o),i.child;case 11:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Kt(u,d),Wh(t,i,u,d,o);case 7:return ft(t,i,i.pendingProps,o),i.child;case 8:return ft(t,i,i.pendingProps.children,o),i.child;case 12:return ft(t,i,i.pendingProps.children,o),i.child;case 10:e:{if(u=i.type._context,d=i.pendingProps,f=i.memoizedProps,g=d.value,Te(So,u._currentValue),u._currentValue=g,f!==null)if(Qt(f.value,g)){if(f.children===d.children&&!_t.current){i=wn(t,i,o);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var w=f.dependencies;if(w!==null){g=f.child;for(var S=w.firstContext;S!==null;){if(S.context===u){if(f.tag===1){S=vn(-1,o&-o),S.tag=2;var O=f.updateQueue;if(O!==null){O=O.shared;var j=O.pending;j===null?S.next=S:(S.next=j.next,j.next=S),O.pending=S}}f.lanes|=o,S=f.alternate,S!==null&&(S.lanes|=o),Xa(f.return,o,i),w.lanes|=o;break}S=S.next}}else if(f.tag===10)g=f.type===i.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(r(341));g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Xa(g,o,i),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===i){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}ft(t,i,d.children,o),i=i.child}return i;case 9:return d=i.type,u=i.pendingProps.children,Vr(i,o),d=zt(d),u=u(d),i.flags|=1,ft(t,i,u,o),i.child;case 14:return u=i.type,d=Kt(u,i.pendingProps),d=Kt(u.type,d),Hh(t,i,u,d,o);case 15:return qh(t,i,i.type,i.pendingProps,o);case 17:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Kt(u,d),bo(t,i),i.tag=1,vt(u)?(t=!0,yo(i)):t=!1,Vr(i,o),Mh(i,u,d),pu(i,u,d,o),_u(null,i,u,!0,t,o);case 19:return Zh(t,i,o);case 22:return Vh(t,i,o)}throw Error(r(156,i.tag))};function Sp(t,i){return tf(t,i)}function ew(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,i,o,u){return new ew(t,i,o,u)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tw(t){if(typeof t=="function")return ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===We)return 11;if(t===Mt)return 14}return 2}function Vn(t,i){var o=t.alternate;return o===null?(o=$t(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Vo(t,i,o,u,d,f){var g=2;if(u=t,typeof t=="function")ju(t)&&(g=1);else if(typeof t=="string")g=5;else e:switch(t){case B:return mr(o.children,d,f,i);case q:g=8,d|=8;break;case J:return t=$t(12,o,i,d|2),t.elementType=J,t.lanes=f,t;case nt:return t=$t(13,o,i,d),t.elementType=nt,t.lanes=f,t;case bt:return t=$t(19,o,i,d),t.elementType=bt,t.lanes=f,t;case Fe:return Qo(o,d,f,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:g=10;break e;case ae:g=9;break e;case We:g=11;break e;case Mt:g=14;break e;case yt:g=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return i=$t(g,o,i,d),i.elementType=t,i.type=u,i.lanes=f,i}function mr(t,i,o,u){return t=$t(7,t,u,i),t.lanes=o,t}function Qo(t,i,o,u){return t=$t(22,t,u,i),t.elementType=Fe,t.lanes=o,t.stateNode={isHidden:!1},t}function zu(t,i,o){return t=$t(6,t,null,i),t.lanes=o,t}function Uu(t,i,o){return i=$t(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function nw(t,i,o,u,d){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Bu(t,i,o,u,d,f,g,w,S){return t=new nw(t,i,o,w,S),i===1?(i=1,f===!0&&(i|=8)):i=0,f=$t(3,null,null,i),t.current=f,f.stateNode=t,f.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(f),t}function rw(t,i,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:u==null?null:""+u,children:t,containerInfo:i,implementation:o}}function xp(t){if(!t)return Fn;t=t._reactInternals;e:{if(rr(t)!==t||t.tag!==1)throw Error(r(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(vt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(t.tag===1){var o=t.type;if(vt(o))return Xf(t,o,i)}return i}function kp(t,i,o,u,d,f,g,w,S){return t=Bu(o,u,!0,t,d,f,g,w,S),t.context=xp(null),o=t.current,u=ht(),d=Hn(o),f=vn(u,d),f.callback=i??null,Un(o,f,d),t.current.lanes=d,ki(t,d,u),Ct(t,u),t}function Go(t,i,o,u){var d=i.current,f=ht(),g=Hn(d);return o=xp(o),i.context===null?i.context=o:i.pendingContext=o,i=vn(f,g),i.payload={element:t},u=u===void 0?null:u,u!==null&&(i.callback=u),t=Un(d,i,g),t!==null&&(Xt(t,d,g,f),ko(t,d,g)),g}function Ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function $u(t,i){Tp(t,i),(t=t.alternate)&&Tp(t,i)}function iw(){return null}var Rp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wu(t){this._internalRoot=t}Yo.prototype.render=Wu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));Go(t,i,null,null)},Yo.prototype.unmount=Wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;fr(function(){Go(null,t,null,null)}),i[pn]=null}};function Yo(t){this._internalRoot=t}Yo.prototype.unstable_scheduleHydration=function(t){if(t){var i=cf();t={blockedOn:null,target:t,priority:i};for(var o=0;o<On.length&&i!==0&&i<On[o].priority;o++);On.splice(o,0,t),o===0&&hf(t)}};function Hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Np(){}function sw(t,i,o,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var O=Ko(g);f.call(O)}}var g=kp(i,u,t,0,null,!1,!1,"",Np);return t._reactRootContainer=g,t[pn]=g.current,zi(t.nodeType===8?t.parentNode:t),fr(),g}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var w=u;u=function(){var O=Ko(S);w.call(O)}}var S=Bu(t,0,!1,null,null,!1,!1,"",Np);return t._reactRootContainer=S,t[pn]=S.current,zi(t.nodeType===8?t.parentNode:t),fr(function(){Go(i,S,o,u)}),S}function Xo(t,i,o,u,d){var f=o._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var w=d;d=function(){var S=Ko(g);w.call(S)}}Go(i,g,t,d)}else g=sw(o,i,t,d,u);return Ko(g)}af=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var o=xi(i.pendingLanes);o!==0&&(pa(i,o|1),Ct(i,Be()),!(ge&6)&&(Jr=Be()+500,jn()))}break;case 13:fr(function(){var u=_n(t,1);if(u!==null){var d=ht();Xt(u,t,1,d)}}),$u(t,1)}},ma=function(t){if(t.tag===13){var i=_n(t,134217728);if(i!==null){var o=ht();Xt(i,t,134217728,o)}$u(t,134217728)}},uf=function(t){if(t.tag===13){var i=Hn(t),o=_n(t,i);if(o!==null){var u=ht();Xt(o,t,i,u)}$u(t,i)}},cf=function(){return Se},df=function(t,i){var o=Se;try{return Se=t,i()}finally{Se=o}},la=function(t,i,o){switch(i){case"input":if(Zl(t,o),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var d=mo(u);if(!d)throw Error(r(90));Ld(u),Zl(u,d)}}}break;case"textarea":zd(t,o);break;case"select":i=o.value,i!=null&&Nr(t,!!o.multiple,i,!1)}},Gd=bu,Kd=fr;var ow={usingClientEntryPoint:!1,Events:[$i,jr,mo,Vd,Qd,bu]},ns={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lw={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zd(t),t===null?null:t.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||iw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{Ks=Zo.inject(lw),sn=Zo}catch{}}return St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow,St.createPortal=function(t,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(i))throw Error(r(200));return rw(t,i,null,o)},St.createRoot=function(t,i){if(!Hu(t))throw Error(r(299));var o=!1,u="",d=Rp;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Bu(t,1,!1,null,null,o,!1,u,d),t[pn]=i.current,zi(t.nodeType===8?t.parentNode:t),new Wu(i)},St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Zd(i),t=t===null?null:t.stateNode,t},St.flushSync=function(t){return fr(t)},St.hydrate=function(t,i,o){if(!Jo(i))throw Error(r(200));return Xo(null,t,i,!0,o)},St.hydrateRoot=function(t,i,o){if(!Hu(t))throw Error(r(405));var u=o!=null&&o.hydratedSources||null,d=!1,f="",g=Rp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),i=kp(i,null,t,1,o??null,d,!1,f,g),t[pn]=i.current,zi(t),u)for(t=0;t<u.length;t++)o=u[t],d=o._getVersion,d=d(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,d]:i.mutableSourceEagerHydrationData.push(o,d);return new Yo(i)},St.render=function(t,i,o){if(!Jo(i))throw Error(r(200));return Xo(null,t,i,!1,o)},St.unmountComponentAtNode=function(t){if(!Jo(t))throw Error(r(40));return t._reactRootContainer?(fr(function(){Xo(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1},St.unstable_batchedUpdates=bu,St.unstable_renderSubtreeIntoContainer=function(t,i,o,u){if(!Jo(o))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Xo(t,i,o,!1,u)},St.version="18.3.1-next-f1338f8080-20240426",St}var Mp;function gw(){if(Mp)return Qu.exports;Mp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qu.exports=mw(),Qu.exports}var Fp;function yw(){if(Fp)return el;Fp=1;var n=gw();return el.createRoot=n.createRoot,el.hydrateRoot=n.hydrateRoot,el}var _w=yw();const vw=Jm(_w);var is={},jp;function ww(){if(jp)return is;jp=1,Object.defineProperty(is,"__esModule",{value:!0}),is.parse=c,is.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,k){const E=new a,T=v.length;if(T<2)return E;const R=(k==null?void 0:k.decode)||y;let b=0;do{const L=v.indexOf("=",b);if(L===-1)break;const $=v.indexOf(";",b),K=$===-1?T:$;if(L>K){b=v.lastIndexOf(";",L-1)+1;continue}const z=h(v,b,L),V=m(v,L,z),B=v.slice(z,V);if(E[B]===void 0){let q=h(v,L+1,K),J=m(v,K,q);const Q=R(v.slice(q,J));E[B]=Q}b=K+1}while(b<T);return E}function h(v,k,E){do{const T=v.charCodeAt(k);if(T!==32&&T!==9)return k}while(++k<E);return E}function m(v,k,E){for(;k>E;){const T=v.charCodeAt(--k);if(T!==32&&T!==9)return k+1}return E}function p(v,k,E){const T=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const R=T(k);if(!e.test(R))throw new TypeError(`argument val is invalid: ${k}`);let b=v+"="+R;if(!E)return b;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);b+="; Max-Age="+E.maxAge}if(E.domain){if(!r.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);b+="; Domain="+E.domain}if(E.path){if(!s.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);b+="; Path="+E.path}if(E.expires){if(!_(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);b+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(b+="; HttpOnly"),E.secure&&(b+="; Secure"),E.partitioned&&(b+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return b}function y(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return l.call(v)==="[object Date]"}return is}ww();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zp="popstate";function Ew(n={}){function e(s,l){let{pathname:a,search:c,hash:h}=s.location;return hc("",{pathname:a,search:c,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:gs(l)}return Sw(e,r,null,n)}function Me(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cw(){return Math.random().toString(36).substring(2,10)}function Up(n,e){return{usr:n.state,key:n.key,idx:e}}function hc(n,e,r=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ci(e):e,state:r,key:e&&e.key||s||Cw()}}function gs({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function ci(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function Sw(n,e,r,s={}){let{window:l=document.defaultView,v5Compat:a=!1}=s,c=l.history,h="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let R=y(),b=R==null?null:R-p;p=R,m&&m({action:h,location:T.location,delta:b})}function v(R,b){h="PUSH";let L=hc(T.location,R,b);p=y()+1;let $=Up(L,p),K=T.createHref(L);try{c.pushState($,"",K)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;l.location.assign(K)}a&&m&&m({action:h,location:T.location,delta:1})}function k(R,b){h="REPLACE";let L=hc(T.location,R,b);p=y();let $=Up(L,p),K=T.createHref(L);c.replaceState($,"",K),a&&m&&m({action:h,location:T.location,delta:0})}function E(R){let b=l.location.origin!=="null"?l.location.origin:l.location.href,L=typeof R=="string"?R:gs(R);return L=L.replace(/ $/,"%20"),Me(b,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,b)}let T={get action(){return h},get location(){return n(l,c)},listen(R){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(zp,_),m=R,()=>{l.removeEventListener(zp,_),m=null}},createHref(R){return e(l,R)},createURL:E,encodeLocation(R){let b=E(R);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:k,go(R){return c.go(R)}};return T}function Xm(n,e,r="/"){return xw(n,e,r,!1)}function xw(n,e,r,s){let l=typeof e=="string"?ci(e):e,a=Zn(l.pathname||"/",r);if(a==null)return null;let c=Zm(n);kw(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let p=Mw(a);h=Lw(c[m],p,s)}return h}function Zm(n,e=[],r=[],s=""){let l=(a,c,h)=>{let m={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};m.relativePath.startsWith("/")&&(Me(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Sn([s,m.relativePath]),y=r.concat(m);a.children&&a.children.length>0&&(Me(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Zm(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Ow(p,a.index),routesMeta:y})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))l(a,c);else for(let m of eg(a.path))l(a,c,m)}),e}function eg(n){let e=n.split("/");if(e.length===0)return[];let[r,...s]=e,l=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let c=eg(s.join("/")),h=[];return h.push(...c.map(m=>m===""?a:[a,m].join("/"))),l&&h.push(...c),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function kw(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:Dw(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var Tw=/^:[\w-]+$/,Rw=3,Nw=2,Iw=1,Pw=10,Aw=-2,Bp=n=>n==="*";function Ow(n,e){let r=n.split("/"),s=r.length;return r.some(Bp)&&(s+=Aw),e&&(s+=Nw),r.filter(l=>!Bp(l)).reduce((l,a)=>l+(Tw.test(a)?Rw:a===""?Iw:Pw),s)}function Dw(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function Lw(n,e,r=!1){let{routesMeta:s}=n,l={},a="/",c=[];for(let h=0;h<s.length;++h){let m=s[h],p=h===s.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=dl({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),v=m.route;if(!_&&p&&r&&!s[s.length-1].route.index&&(_=dl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(l,_.params),c.push({params:l,pathname:Sn([a,_.pathname]),pathnameBase:Uw(Sn([a,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(a=Sn([a,_.pathnameBase]))}return c}function dl(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,s]=bw(n.path,n.caseSensitive,n.end),l=e.match(r);if(!l)return null;let a=l[0],c=a.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},v)=>{if(y==="*"){let E=h[v]||"";c=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const k=h[v];return _&&!k?p[y]=void 0:p[y]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:c,pattern:n}}function bw(n,e=!1,r=!0){dn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(s.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function Mw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=n.charAt(r);return s&&s!=="/"?null:n.slice(r)||"/"}function Fw(n,e="/"){let{pathname:r,search:s="",hash:l=""}=typeof n=="string"?ci(n):n;return{pathname:r?r.startsWith("/")?r:jw(r,e):e,search:Bw(s),hash:$w(l)}}function jw(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Yu(n,e,r,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zw(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tg(n){let e=zw(n);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function ng(n,e,r,s=!1){let l;typeof n=="string"?l=ci(n):(l={...n},Me(!l.pathname||!l.pathname.includes("?"),Yu("?","pathname","search",l)),Me(!l.pathname||!l.pathname.includes("#"),Yu("#","pathname","hash",l)),Me(!l.search||!l.search.includes("#"),Yu("#","search","hash",l)));let a=n===""||l.pathname==="",c=a?"/":l.pathname,h;if(c==null)h=r;else{let _=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),_-=1;l.pathname=v.join("/")}h=_>=0?e[_]:"/"}let m=Fw(l,h),p=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Sn=n=>n.join("/").replace(/\/\/+/g,"/"),Uw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Bw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$w=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Ww(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rg=["POST","PUT","PATCH","DELETE"];new Set(rg);var Hw=["GET",...rg];new Set(Hw);var di=I.createContext(null);di.displayName="DataRouter";var Al=I.createContext(null);Al.displayName="DataRouterState";var ig=I.createContext({isTransitioning:!1});ig.displayName="ViewTransition";var qw=I.createContext(new Map);qw.displayName="Fetchers";var Vw=I.createContext(null);Vw.displayName="Await";var fn=I.createContext(null);fn.displayName="Navigation";var Ps=I.createContext(null);Ps.displayName="Location";var Rn=I.createContext({outlet:null,matches:[],isDataRoute:!1});Rn.displayName="Route";var $c=I.createContext(null);$c.displayName="RouteError";function Qw(n,{relative:e}={}){Me(As(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=I.useContext(fn),{hash:l,pathname:a,search:c}=Os(n,{relative:e}),h=a;return r!=="/"&&(h=a==="/"?r:Sn([r,a])),s.createHref({pathname:h,search:c,hash:l})}function As(){return I.useContext(Ps)!=null}function tt(){return Me(As(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Ps).location}var sg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function og(n){I.useContext(fn).static||I.useLayoutEffect(n)}function Nt(){let{isDataRoute:n}=I.useContext(Rn);return n?o0():Gw()}function Gw(){Me(As(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(di),{basename:e,navigator:r}=I.useContext(fn),{matches:s}=I.useContext(Rn),{pathname:l}=tt(),a=JSON.stringify(tg(s)),c=I.useRef(!1);return og(()=>{c.current=!0}),I.useCallback((m,p={})=>{if(dn(c.current,sg),!c.current)return;if(typeof m=="number"){r.go(m);return}let y=ng(m,JSON.parse(a),l,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Sn([e,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[e,r,a,l,n])}I.createContext(null);function Os(n,{relative:e}={}){let{matches:r}=I.useContext(Rn),{pathname:s}=tt(),l=JSON.stringify(tg(r));return I.useMemo(()=>ng(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function Kw(n,e){return lg(n,e)}function lg(n,e,r,s){var b;Me(As(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(fn),{matches:a}=I.useContext(Rn),c=a[a.length-1],h=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let L=y&&y.path||"";ag(m,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=tt(),v;if(e){let L=typeof e=="string"?ci(e):e;Me(p==="/"||((b=L.pathname)==null?void 0:b.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),v=L}else v=_;let k=v.pathname||"/",E=k;if(p!=="/"){let L=p.replace(/^\//,"").split("/");E="/"+k.replace(/^\//,"").split("/").slice(L.length).join("/")}let T=Xm(n,{pathname:E});dn(y||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),dn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=e0(T&&T.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:Sn([p,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:Sn([p,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,r,s);return e&&R?I.createElement(Ps.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function Yw(){let n=s0(),e=Ww(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:l},r):null,c)}var Jw=I.createElement(Yw,null),Xw=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?I.createElement(Rn.Provider,{value:this.props.routeContext},I.createElement($c.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zw({routeContext:n,match:e,children:r}){let s=I.useContext(di);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Rn.Provider,{value:n},r)}function e0(n,e=[],r=null,s=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let l=n,a=r==null?void 0:r.errors;if(a!=null){let m=l.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Me(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,h=-1;if(r)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:_}=r,v=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||v){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,y)=>{let _,v=!1,k=null,E=null;r&&(_=a&&p.route.id?a[p.route.id]:void 0,k=p.route.errorElement||Jw,c&&(h<0&&y===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):h===y&&(v=!0,E=p.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,y+1)),R=()=>{let b;return _?b=k:v?b=E:p.route.Component?b=I.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=m,I.createElement(Zw,{match:p,routeContext:{outlet:m,matches:T,isDataRoute:r!=null},children:b})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?I.createElement(Xw,{location:r.location,revalidation:r.revalidation,component:k,error:_,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}function Wc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t0(n){let e=I.useContext(di);return Me(e,Wc(n)),e}function n0(n){let e=I.useContext(Al);return Me(e,Wc(n)),e}function r0(n){let e=I.useContext(Rn);return Me(e,Wc(n)),e}function Hc(n){let e=r0(n),r=e.matches[e.matches.length-1];return Me(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function i0(){return Hc("useRouteId")}function s0(){var s;let n=I.useContext($c),e=n0("useRouteError"),r=Hc("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[r]}function o0(){let{router:n}=t0("useNavigate"),e=Hc("useNavigate"),r=I.useRef(!1);return og(()=>{r.current=!0}),I.useCallback(async(l,a={})=>{dn(r.current,sg),r.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...a}))},[n,e])}var $p={};function ag(n,e,r){!e&&!$p[n]&&($p[n]=!0,dn(!1,r))}I.memo(l0);function l0({routes:n,future:e,state:r}){return lg(n,void 0,r,e)}function xt(n){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a0({basename:n="/",children:e=null,location:r,navigationType:s="POP",navigator:l,static:a=!1}){Me(!As(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:c,navigator:l,static:a,future:{}}),[c,l,a]);typeof r=="string"&&(r=ci(r));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:v="default"}=r,k=I.useMemo(()=>{let E=Zn(m,c);return E==null?null:{location:{pathname:E,search:p,hash:y,state:_,key:v},navigationType:s}},[c,m,p,y,_,v,s]);return dn(k!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:I.createElement(fn.Provider,{value:h},I.createElement(Ps.Provider,{children:e,value:k}))}function u0({children:n,location:e}){return Kw(pc(n),e)}function pc(n,e=[]){let r=[];return I.Children.forEach(n,(s,l)=>{if(!I.isValidElement(s))return;let a=[...e,l];if(s.type===I.Fragment){r.push.apply(r,pc(s.props.children,a));return}Me(s.type===xt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=pc(s.props.children,a)),r.push(c)}),r}var il="get",sl="application/x-www-form-urlencoded";function Ol(n){return n!=null&&typeof n.tagName=="string"}function c0(n){return Ol(n)&&n.tagName.toLowerCase()==="button"}function d0(n){return Ol(n)&&n.tagName.toLowerCase()==="form"}function f0(n){return Ol(n)&&n.tagName.toLowerCase()==="input"}function h0(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function p0(n,e){return n.button===0&&(!e||e==="_self")&&!h0(n)}var tl=null;function m0(){if(tl===null)try{new FormData(document.createElement("form"),0),tl=!1}catch{tl=!0}return tl}var g0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ju(n){return n!=null&&!g0.has(n)?(dn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):n}function y0(n,e){let r,s,l,a,c;if(d0(n)){let h=n.getAttribute("action");s=h?Zn(h,e):null,r=n.getAttribute("method")||il,l=Ju(n.getAttribute("enctype"))||sl,a=new FormData(n)}else if(c0(n)||f0(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(s=m?Zn(m,e):null,r=n.getAttribute("formmethod")||h.getAttribute("method")||il,l=Ju(n.getAttribute("formenctype"))||Ju(h.getAttribute("enctype"))||sl,a=new FormData(h,n),!m0()){let{name:p,type:y,value:_}=n;if(y==="image"){let v=p?`${p}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else p&&a.append(p,_)}}else{if(Ol(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=il,s=null,l=sl,c=n}return a&&l==="text/plain"&&(c=a,a=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:a,body:c}}function qc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function _0(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v0(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function w0(n,e,r){let s=await Promise.all(n.map(async l=>{let a=e.routes[l.route.id];if(a){let c=await _0(a,r);return c.links?c.links():[]}return[]}));return x0(s.flat(1).filter(v0).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Wp(n,e,r,s,l,a){let c=(m,p)=>r[p]?m.route.id!==r[p].route.id:!0,h=(m,p)=>{var y;return r[p].pathname!==m.pathname||((y=r[p].route.path)==null?void 0:y.endsWith("*"))&&r[p].params["*"]!==m.params["*"]};return a==="assets"?e.filter((m,p)=>c(m,p)||h(m,p)):a==="data"?e.filter((m,p)=>{var _;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((_=r[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function E0(n,e){return C0(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function C0(n){return[...new Set(n)]}function S0(n){let e={},r=Object.keys(n).sort();for(let s of r)e[s]=n[s];return e}function x0(n,e){let r=new Set;return new Set(e),n.reduce((s,l)=>{let a=JSON.stringify(S0(l));return r.has(a)||(r.add(a),s.push({key:a,link:l})),s},[])}function k0(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function T0(){let n=I.useContext(di);return qc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function R0(){let n=I.useContext(Al);return qc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vc=I.createContext(void 0);Vc.displayName="FrameworkContext";function ug(){let n=I.useContext(Vc);return qc(n,"You must render this element inside a <HydratedRouter> element"),n}function N0(n,e){let r=I.useContext(Vc),[s,l]=I.useState(!1),[a,c]=I.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,v=I.useRef(null);I.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let T=b=>{b.forEach(L=>{c(L.isIntersecting)})},R=new IntersectionObserver(T,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[n]),I.useEffect(()=>{if(s){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[s]);let k=()=>{l(!0)},E=()=>{l(!1),c(!1)};return r?n!=="intent"?[a,v,{}]:[a,v,{onFocus:ss(h,k),onBlur:ss(m,E),onMouseEnter:ss(p,k),onMouseLeave:ss(y,E),onTouchStart:ss(_,k)}]:[!1,v,{}]}function ss(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function I0({page:n,...e}){let{router:r}=T0(),s=I.useMemo(()=>Xm(r.routes,n,r.basename),[r.routes,n,r.basename]);return s?I.createElement(A0,{page:n,matches:s,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function P0(n){let{manifest:e,routeModules:r}=ug(),[s,l]=I.useState([]);return I.useEffect(()=>{let a=!1;return w0(n,e,r).then(c=>{a||l(c)}),()=>{a=!0}},[n,e,r]),s}function A0({page:n,matches:e,...r}){let s=tt(),{manifest:l,routeModules:a}=ug(),{loaderData:c,matches:h}=R0(),m=I.useMemo(()=>Wp(n,e,h,l,s,"data"),[n,e,h,l,s]),p=I.useMemo(()=>Wp(n,e,h,l,s,"assets"),[n,e,h,l,s]),y=I.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let k=new Set,E=!1;if(e.forEach(R=>{var L;let b=l.routes[R.route.id];!b||!b.hasLoader||(!m.some($=>$.route.id===R.route.id)&&R.route.id in c&&((L=a[R.route.id])!=null&&L.shouldRevalidate)||b.hasClientLoader?E=!0:k.add(R.route.id))}),k.size===0)return[];let T=k0(n);return E&&k.size>0&&T.searchParams.set("_routes",e.filter(R=>k.has(R.route.id)).map(R=>R.route.id).join(",")),[T.pathname+T.search]},[c,s,l,m,e,n,a]),_=I.useMemo(()=>E0(p,l),[p,l]),v=P0(p);return I.createElement(I.Fragment,null,y.map(k=>I.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),_.map(k=>I.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),v.map(({key:k,link:E})=>I.createElement("link",{key:k,...E})))}function O0(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var cg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cg&&(window.__reactRouterVersion="7.0.2")}catch{}function D0({basename:n,children:e,window:r}){let s=I.useRef();s.current==null&&(s.current=Ew({window:r,v5Compat:!0}));let l=s.current,[a,c]=I.useState({action:l.action,location:l.location}),h=I.useCallback(m=>{I.startTransition(()=>c(m))},[c]);return I.useLayoutEffect(()=>l.listen(h),[l,h]),I.createElement(a0,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:l})}var dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fg=I.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:l,reloadDocument:a,replace:c,state:h,target:m,to:p,preventScrollReset:y,viewTransition:_,...v},k){let{basename:E}=I.useContext(fn),T=typeof p=="string"&&dg.test(p),R,b=!1;if(typeof p=="string"&&T&&(R=p,cg))try{let J=new URL(window.location.href),Q=p.startsWith("//")?new URL(J.protocol+p):new URL(p),ae=Zn(Q.pathname,E);Q.origin===J.origin&&ae!=null?p=ae+Q.search+Q.hash:b=!0}catch{dn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=Qw(p,{relative:l}),[$,K,z]=N0(s,v),V=F0(p,{replace:c,state:h,target:m,preventScrollReset:y,relative:l,viewTransition:_});function B(J){e&&e(J),J.defaultPrevented||V(J)}let q=I.createElement("a",{...v,...z,href:R||L,onClick:b||a?e:B,ref:O0(k,K),target:m,"data-discover":!T&&r==="render"?"true":void 0});return $&&!T?I.createElement(I.Fragment,null,q,I.createElement(I0,{page:L})):q});fg.displayName="Link";var L0=I.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:l=!1,style:a,to:c,viewTransition:h,children:m,...p},y){let _=Os(c,{relative:p.relative}),v=tt(),k=I.useContext(Al),{navigator:E,basename:T}=I.useContext(fn),R=k!=null&&$0(_)&&h===!0,b=E.encodeLocation?E.encodeLocation(_).pathname:_.pathname,L=v.pathname,$=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;r||(L=L.toLowerCase(),$=$?$.toLowerCase():null,b=b.toLowerCase()),$&&T&&($=Zn($,T)||$);const K=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let z=L===b||!l&&L.startsWith(b)&&L.charAt(K)==="/",V=$!=null&&($===b||!l&&$.startsWith(b)&&$.charAt(b.length)==="/"),B={isActive:z,isPending:V,isTransitioning:R},q=z?e:void 0,J;typeof s=="function"?J=s(B):J=[s,z?"active":null,V?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Q=typeof a=="function"?a(B):a;return I.createElement(fg,{...p,"aria-current":q,className:J,ref:y,style:Q,to:c,viewTransition:h},typeof m=="function"?m(B):m)});L0.displayName="NavLink";var b0=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:l,state:a,method:c=il,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...v},k)=>{let E=U0(),T=B0(h,{relative:p}),R=c.toLowerCase()==="get"?"get":"post",b=typeof h=="string"&&dg.test(h),L=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let K=$.nativeEvent.submitter,z=(K==null?void 0:K.getAttribute("formmethod"))||c;E(K||$.currentTarget,{fetcherKey:e,method:z,navigate:r,replace:l,state:a,relative:p,preventScrollReset:y,viewTransition:_})};return I.createElement("form",{ref:k,method:R,action:T,onSubmit:s?m:L,...v,"data-discover":!b&&n==="render"?"true":void 0})});b0.displayName="Form";function M0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hg(n){let e=I.useContext(di);return Me(e,M0(n)),e}function F0(n,{target:e,replace:r,state:s,preventScrollReset:l,relative:a,viewTransition:c}={}){let h=Nt(),m=tt(),p=Os(n,{relative:a});return I.useCallback(y=>{if(p0(y,e)){y.preventDefault();let _=r!==void 0?r:gs(m)===gs(p);h(n,{replace:_,state:s,preventScrollReset:l,relative:a,viewTransition:c})}},[m,h,p,r,s,e,n,l,a,c])}var j0=0,z0=()=>`__${String(++j0)}__`;function U0(){let{router:n}=hg("useSubmit"),{basename:e}=I.useContext(fn),r=i0();return I.useCallback(async(s,l={})=>{let{action:a,method:c,encType:h,formData:m,body:p}=y0(s,e);if(l.navigate===!1){let y=l.fetcherKey||z0();await n.fetch(y,r,l.action||a,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||c,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||a,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||c,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,r])}function B0(n,{relative:e}={}){let{basename:r}=I.useContext(fn),s=I.useContext(Rn);Me(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),a={...Os(n||".",{relative:e})},c=tt();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&l.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Sn([r,a.pathname])),gs(a)}function $0(n,e={}){let r=I.useContext(ig);Me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hg("useViewTransitionState"),l=Os(n,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Zn(r.currentLocation.pathname,s)||r.currentLocation.pathname,c=Zn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return dl(l.pathname,c)!=null||dl(l.pathname,a)!=null}new TextEncoder;function W0(){const n=Nt(),e=()=>{n("/login")},r=()=>{n("/quiz",{state:{id:1}})};return C.jsx("div",{className:"welcome-container",children:C.jsxs("div",{className:"welcome-card",children:[C.jsx("h1",{children:"Welcome to the Quiz!"}),C.jsx("p",{className:"welcome-description",children:"Ready to test your general knowledge? Press the button below to begin the quiz."}),C.jsxs("div",{className:"button-container",children:[C.jsx("button",{onClick:r,className:"continue-btn",children:"Guest"}),C.jsx("button",{onClick:e,className:"loginI-btn",children:"Login to Continue"})]})]})})}var Hp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(n,e){if(!n)throw fi(e)},fi=function(n){return new Error("Firebase Database ("+pg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},H0=function(n){const e=[];let r=0,s=0;for(;r<n.length;){const l=n[r++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const a=n[r++];e[s++]=String.fromCharCode((l&31)<<6|a&63)}else if(l>239&&l<365){const a=n[r++],c=n[r++],h=n[r++],m=((l&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const a=n[r++],c=n[r++];e[s++]=String.fromCharCode((l&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Qc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const a=n[l],c=l+1<n.length,h=c?n[l+1]:0,m=l+2<n.length,p=m?n[l+2]:0,y=a>>2,_=(a&3)<<4|h>>4;let v=(h&15)<<2|p>>6,k=p&63;m||(k=64,c||(v=64)),s.push(r[y],r[_],r[v],r[k])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mg(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):H0(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const a=r[n.charAt(l++)],h=l<n.length?r[n.charAt(l)]:0;++l;const p=l<n.length?r[n.charAt(l)]:64;++l;const _=l<n.length?r[n.charAt(l)]:64;if(++l,a==null||h==null||p==null||_==null)throw new q0;const v=a<<2|h>>4;if(s.push(v),p!==64){const k=h<<4&240|p>>2;if(s.push(k),_!==64){const E=p<<6&192|_;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class q0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gg=function(n){const e=mg(n);return Qc.encodeByteArray(e,!0)},fl=function(n){return gg(n).replace(/\./g,"")},mc=function(n){try{return Qc.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n){return yg(void 0,n)}function yg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Q0(r)||(n[r]=yg(n[r],e[r]));return n}function Q0(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=()=>G0().__FIREBASE_DEFAULTS__,Y0=()=>{if(typeof process>"u"||typeof Hp>"u")return;const n=Hp.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},J0=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mc(n[1]);return e&&JSON.parse(e)},_g=()=>{try{return K0()||Y0()||J0()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},X0=n=>{var e,r;return(r=(e=_g())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},Z0=n=>{const e=X0(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},vg=()=>{var n;return(n=_g())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fl(JSON.stringify(r)),fl(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tE())}function nE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eg(){return pg.NODE_ADMIN===!0}function rE(){try{return typeof indexedDB=="object"}catch{return!1}}function iE(){return new Promise((n,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var a;e(((a=l.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="FirebaseError";class Ls extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=sE,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cg.prototype.create)}}class Cg{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},l=`${this.service}/${e}`,a=this.errors[e],c=a?oE(a,s):"Error",h=`${this.serviceName}: ${c} (${l}).`;return new Ls(l,h,s)}}function oE(n,e){return n.replace(lE,(r,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const lE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(n){return JSON.parse(n)}function Ke(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=function(n){let e={},r={},s={},l="";try{const a=n.split(".");e=ys(mc(a[0])||""),r=ys(mc(a[1])||""),l=a[2],s=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:s,signature:l}},aE=function(n){const e=Sg(n),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},uE=function(n){const e=Sg(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ii(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function qp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hl(n,e,r){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(r,n[l],l,n));return s}function gc(n,e){if(n===e)return!0;const r=Object.keys(n),s=Object.keys(e);for(const l of r){if(!s.includes(l))return!1;const a=n[l],c=e[l];if(Vp(a)&&Vp(c)){if(!gc(a,c))return!1}else if(a!==c)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function Vp(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(n){const e=[];for(const[r,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let _=0;_<16;_++)s[_]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let _=16;_<80;_++){const v=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],a=this.chain_[1],c=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,y;for(let _=0;_<80;_++){_<40?_<20?(p=h^a&(c^h),y=1518500249):(p=a^c^h,y=1859775393):_<60?(p=a&c|h&(a|c),y=2400959708):(p=a^c^h,y=3395469782);const v=(l<<5|l>>>27)+p+m+y+s[_]&4294967295;m=h,h=c,c=(a<<30|a>>>2)&4294967295,a=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const s=r-this.blockSize;let l=0;const a=this.buf_;let c=this.inbuf_;for(;l<r;){if(c===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<r;)if(a[c]=e.charCodeAt(l),++c,++l,c===this.blockSize){this.compress_(a),c=0;break}}else for(;l<r;)if(a[c]=e[l],++c,++l,c===this.blockSize){this.compress_(a),c=0;break}}this.inbuf_=c,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let a=24;a>=0;a-=8)e[s]=this.chain_[l]>>a&255,++s;return e}}function Dl(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const a=l-55296;s++,H(s<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(s)-56320;l=65536+(a<<10)+c}l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):l<65536?(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},Ll=function(n){let e=0;for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n){return n&&n._delegate?n._delegate:n}class _s{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Ds;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(l)return null;throw a}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mE(e))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:l});s.resolve(a)}catch{}}}}clearInstance(e=gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gr){return this.instances.has(e)}getOptions(e=gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);s===h&&c.resolve(l)}return l}onInit(e,r){var s;const l=this.normalizeInstanceIdentifier(r),a=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(l,a);const c=this.instances.get(l);return c&&e(c,l),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pE(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=gr){return this.component?this.component.multipleInstances?e:gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pE(n){return n===gr?void 0:n}function mE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new hE(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const yE={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},_E=Ne.INFO,vE={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},wE=(n,e,...r)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=vE[e];if(l)console[l](`[${s}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=_E,this._logHandler=wE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const EE=(n,e)=>e.some(r=>n instanceof r);let Qp,Gp;function CE(){return Qp||(Qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SE(){return Gp||(Gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kg=new WeakMap,yc=new WeakMap,Tg=new WeakMap,Xu=new WeakMap,Gc=new WeakMap;function xE(n){const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{r(Kn(n.result)),l()},c=()=>{s(n.error),l()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(r=>{r instanceof IDBCursor&&kg.set(r,n)}).catch(()=>{}),Gc.set(e,n),e}function kE(n){if(yc.has(n))return;const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{r(),l()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});yc.set(n,e)}let _c={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return yc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tg.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Kn(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function TE(n){_c=n(_c)}function RE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=n.call(Zu(this),e,...r);return Tg.set(s,e.sort?e.sort():[e]),Kn(s)}:SE().includes(n)?function(...e){return n.apply(Zu(this),e),Kn(kg.get(this))}:function(...e){return Kn(n.apply(Zu(this),e))}}function NE(n){return typeof n=="function"?RE(n):(n instanceof IDBTransaction&&kE(n),EE(n,CE())?new Proxy(n,_c):n)}function Kn(n){if(n instanceof IDBRequest)return xE(n);if(Xu.has(n))return Xu.get(n);const e=NE(n);return e!==n&&(Xu.set(n,e),Gc.set(e,n)),e}const Zu=n=>Gc.get(n);function IE(n,e,{blocked:r,upgrade:s,blocking:l,terminated:a}={}){const c=indexedDB.open(n,e),h=Kn(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Kn(c.result),m.oldVersion,m.newVersion,Kn(c.transaction),m)}),r&&c.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),h.then(m=>{a&&m.addEventListener("close",()=>a()),l&&m.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const PE=["get","getKey","getAll","getAllKeys","count"],AE=["put","add","delete","clear"],ec=new Map;function Kp(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ec.get(e))return ec.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,l=AE.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||PE.includes(r)))return;const a=async function(c,...h){const m=this.transaction(c,l?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[r](...h),l&&m.done]))[0]};return ec.set(e,a),a}TE(n=>({...n,get:(e,r,s)=>Kp(e,r)||n.get(e,r,s),has:(e,r)=>!!Kp(e,r)||n.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(DE(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function DE(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vc="@firebase/app",Yp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new xg("@firebase/app"),LE="@firebase/app-compat",bE="@firebase/analytics-compat",ME="@firebase/analytics",FE="@firebase/app-check-compat",jE="@firebase/app-check",zE="@firebase/auth",UE="@firebase/auth-compat",BE="@firebase/database",$E="@firebase/data-connect",WE="@firebase/database-compat",HE="@firebase/functions",qE="@firebase/functions-compat",VE="@firebase/installations",QE="@firebase/installations-compat",GE="@firebase/messaging",KE="@firebase/messaging-compat",YE="@firebase/performance",JE="@firebase/performance-compat",XE="@firebase/remote-config",ZE="@firebase/remote-config-compat",eC="@firebase/storage",tC="@firebase/storage-compat",nC="@firebase/firestore",rC="@firebase/vertexai",iC="@firebase/firestore-compat",sC="firebase",oC="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="[DEFAULT]",lC={[vc]:"fire-core",[LE]:"fire-core-compat",[ME]:"fire-analytics",[bE]:"fire-analytics-compat",[jE]:"fire-app-check",[FE]:"fire-app-check-compat",[zE]:"fire-auth",[UE]:"fire-auth-compat",[BE]:"fire-rtdb",[$E]:"fire-data-connect",[WE]:"fire-rtdb-compat",[HE]:"fire-fn",[qE]:"fire-fn-compat",[VE]:"fire-iid",[QE]:"fire-iid-compat",[GE]:"fire-fcm",[KE]:"fire-fcm-compat",[YE]:"fire-perf",[JE]:"fire-perf-compat",[XE]:"fire-rc",[ZE]:"fire-rc-compat",[eC]:"fire-gcs",[tC]:"fire-gcs-compat",[nC]:"fire-fst",[iC]:"fire-fst-compat",[rC]:"fire-vertex","fire-js":"fire-js",[sC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Map,aC=new Map,Ec=new Map;function Jp(n,e){try{n.container.addComponent(e)}catch(r){kn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function ml(n){const e=n.name;if(Ec.has(e))return kn.debug(`There were multiple attempts to register component ${e}.`),!1;Ec.set(e,n);for(const r of pl.values())Jp(r,n);for(const r of aC.values())Jp(r,n);return!0}function uC(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new Cg("app","Firebase",cC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=oC;function Rg(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wc,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Yn.create("bad-app-name",{appName:String(l)});if(r||(r=vg()),!r)throw Yn.create("no-options");const a=pl.get(l);if(a){if(gc(r,a.options)&&gc(s,a.config))return a;throw Yn.create("duplicate-app",{appName:l})}const c=new gE(l);for(const m of Ec.values())c.addComponent(m);const h=new dC(r,s,c);return pl.set(l,h),h}function hC(n=wc){const e=pl.get(n);if(!e&&n===wc&&vg())return Rg();if(!e)throw Yn.create("no-app",{appName:n});return e}function ti(n,e,r){var s;let l=(s=lC[n])!==null&&s!==void 0?s:n;r&&(l+=`-${r}`);const a=l.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${l}" with version "${e}":`];a&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kn.warn(h.join(" "));return}ml(new _s(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",mC=1,vs="firebase-heartbeat-store";let tc=null;function Ng(){return tc||(tc=IE(pC,mC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vs)}catch(r){console.warn(r)}}}}).catch(n=>{throw Yn.create("idb-open",{originalErrorMessage:n.message})})),tc}async function gC(n){try{const r=(await Ng()).transaction(vs),s=await r.objectStore(vs).get(Ig(n));return await r.done,s}catch(e){if(e instanceof Ls)kn.warn(e.message);else{const r=Yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kn.warn(r.message)}}}async function Xp(n,e){try{const s=(await Ng()).transaction(vs,"readwrite");await s.objectStore(vs).put(e,Ig(n)),await s.done}catch(r){if(r instanceof Ls)kn.warn(r.message);else{const s=Yn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});kn.warn(s.message)}}}function Ig(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1024,_C=30*24*60*60*1e3;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new EC(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Zp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=_C}),this._storage.overwrite(this._heartbeatsCache))}catch(s){kn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Zp(),{heartbeatsToSend:s,unsentEntries:l}=wC(this._heartbeatsCache.heartbeats),a=fl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return kn.warn(r),""}}}function Zp(){return new Date().toISOString().substring(0,10)}function wC(n,e=yC){const r=[];let s=n.slice();for(const l of n){const a=r.find(c=>c.agent===l.agent);if(a){if(a.dates.push(l.date),em(r)>e){a.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),em(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class EC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rE()?iE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await gC(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Xp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Xp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function em(n){return fl(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(n){ml(new _s("platform-logger",e=>new OE(e),"PRIVATE")),ml(new _s("heartbeat",e=>new vC(e),"PRIVATE")),ti(vc,Yp,n),ti(vc,Yp,"esm2017"),ti("fire-js","")}CC("");var SC="firebase",xC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(SC,xC,"app");var tm={};const nm="@firebase/database",rm="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg="";function kC(n){Pg=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:ys(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new TC(e)}}catch{}return new RC},_r=Ag("localStorage"),NC=Ag("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new xg("@firebase/database"),IC=function(){let n=1;return function(){return n++}}(),Og=function(n){const e=fE(n),r=new dE;r.update(e);const s=r.digest();return Qc.encodeByteArray(s)},bs=function(...n){let e="";for(let r=0;r<n.length;r++){const s=n[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=bs.apply(null,s):typeof s=="object"?e+=Ke(s):e+=s,e+=" "}return e};let ds=null,im=!0;const PC=function(n,e){H(!e,"Can't turn on custom loggers persistently."),ni.logLevel=Ne.VERBOSE,ds=ni.log.bind(ni)},st=function(...n){if(im===!0&&(im=!1,ds===null&&NC.get("logging_enabled")===!0&&PC()),ds){const e=bs.apply(null,n);ds(e)}},Ms=function(n){return function(...e){st(n,...e)}},Cc=function(...n){const e="FIREBASE INTERNAL ERROR: "+bs(...n);ni.error(e)},Tn=function(...n){const e=`FIREBASE FATAL ERROR: ${bs(...n)}`;throw ni.error(e),new Error(e)},gt=function(...n){const e="FIREBASE WARNING: "+bs(...n);ni.warn(e)},AC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kc=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},OC=function(n){if(document.readyState==="complete")n();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},si="[MIN_NAME]",Er="[MAX_NAME]",Tr=function(n,e){if(n===e)return 0;if(n===si||e===Er)return-1;if(e===si||n===Er)return 1;{const r=sm(n),s=sm(e);return r!==null?s!==null?r-s===0?n.length-e.length:r-s:-1:s!==null?1:n<e?-1:1}},DC=function(n,e){return n===e?0:n<e?-1:1},os=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ke(e))},Yc=function(n){if(typeof n!="object"||n===null)return Ke(n);const e=[];for(const s in n)e.push(s);e.sort();let r="{";for(let s=0;s<e.length;s++)s!==0&&(r+=","),r+=Ke(e[s]),r+=":",r+=Yc(n[e[s]]);return r+="}",r},Dg=function(n,e){const r=n.length;if(r<=e)return[n];const s=[];for(let l=0;l<r;l+=e)l+e>r?s.push(n.substring(l,r)):s.push(n.substring(l,l+e));return s};function ot(n,e){for(const r in n)n.hasOwnProperty(r)&&e(r,n[r])}const Lg=function(n){H(!Kc(n),"Invalid JSON number");const e=11,r=52,s=(1<<e-1)-1;let l,a,c,h,m;n===0?(a=0,c=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),a=h+s,c=Math.round(n*Math.pow(2,r-h)-Math.pow(2,r))):(a=0,c=Math.round(n/Math.pow(2,1-s-r))));const p=[];for(m=r;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(m=e;m;m-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(l?1:0),p.reverse();const y=p.join("");let _="";for(m=0;m<64;m+=8){let v=parseInt(y.substr(m,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},LC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function MC(n,e){let r="Unknown Error";n==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?r="Client doesn't have permission to access the desired data.":n==="unavailable"&&(r="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+r);return s.code=n.toUpperCase(),s}const FC=new RegExp("^-?(0*)\\d{1,10}$"),jC=-2147483648,zC=2147483647,sm=function(n){if(FC.test(n)){const e=Number(n);if(e>=jC&&e<=zC)return e}return null},hi=function(n){try{n()}catch(e){setTimeout(()=>{const r=e.stack||"";throw gt("Exception was thrown by user callback.",r),e},Math.floor(0))}},UC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fs=function(n,e){const r=setTimeout(n,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,r,s){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(st("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gt(e)}}class ol{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ol.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="5",bg="v",Mg="s",Fg="r",jg="f",zg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ug="ls",Bg="p",Sc="ac",$g="websocket",Wg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,r,s,l,a=!1,c="",h=!1,m=!1){this.secure=r,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=a,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_r.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_r.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function WC(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function qg(n,e,r){H(typeof e=="string","typeof type must == string"),H(typeof r=="object","typeof params must == object");let s;if(e===$g)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Wg)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);WC(n)&&(r.ns=n.namespace);const l=[];return ot(r,(a,c)=>{l.push(a+"="+c)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.counters_={}}incrementCounter(e,r=1){hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return V0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc={},rc={};function Xc(n){const e=n.toString();return nc[e]||(nc[e]=new HC),nc[e]}function qC(n,e){const r=n.toString();return rc[r]||(rc[r]=e()),rc[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&hi(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="start",QC="close",GC="pLPCommand",KC="pRTLPCB",Vg="id",Qg="pw",Gg="ser",YC="cb",JC="seg",XC="ts",ZC="d",eS="dframe",Kg=1870,Yg=30,tS=Kg-Yg,nS=25e3,rS=3e4;class ei{constructor(e,r,s,l,a,c,h){this.connId=e,this.repoInfo=r,this.applicationId=s,this.appCheckToken=l,this.authToken=a,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ms(e),this.stats_=Xc(r),this.urlFn=m=>(this.appCheckToken&&(m[Sc]=this.appCheckToken),qg(r,Wg,m))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new VC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rS)),OC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zc((...a)=>{const[c,h,m,p,y]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===om)this.id=h,this.password=m;else if(c===QC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...a)=>{const[c,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[om]="t",s[Gg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[YC]=this.scriptTagHolder.uniqueCallbackIdentifier),s[bg]=Jc,this.transportSessionId&&(s[Mg]=this.transportSessionId),this.lastSessionId&&(s[Ug]=this.lastSessionId),this.applicationId&&(s[Bg]=this.applicationId),this.appCheckToken&&(s[Sc]=this.appCheckToken),typeof location<"u"&&location.hostname&&zg.test(location.hostname)&&(s[Fg]=jg);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ei.forceAllow_=!0}static forceDisallow(){ei.forceDisallow_=!0}static isAvailable(){return ei.forceAllow_?!0:!ei.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!LC()&&!bC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Ke(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=gg(r),l=Dg(s,tS);for(let a=0;a<l.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[a]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const s={};s[eS]="t",s[Vg]=e,s[Qg]=r,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Ke(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Zc{constructor(e,r,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=IC(),window[GC+this.uniqueCallbackIdentifier]=e,window[KC+this.uniqueCallbackIdentifier]=r,this.myIFrame=Zc.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){st("frame writing exception"),h.stack&&st(h.stack),st(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||st("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Vg]=this.myID,e[Qg]=this.myPW,e[Gg]=this.currentSerial;let r=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Yg+s.length<=Kg;){const c=this.pendingSegs.shift();s=s+"&"+JC+l+"="+c.seg+"&"+XC+l+"="+c.ts+"&"+ZC+l+"="+c.d,l++}return r=r+s,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,s){this.pendingSegs.push({seg:e,ts:r,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const s=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(s,Math.floor(nS)),a=()=>{clearTimeout(l),s()};this.addTag(e,a)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=()=>{st("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=16384,sS=45e3;let gl=null;typeof MozWebSocket<"u"?gl=MozWebSocket:typeof WebSocket<"u"&&(gl=WebSocket);class Zt{constructor(e,r,s,l,a,c,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ms(this.connId),this.stats_=Xc(r),this.connURL=Zt.connectionURL_(r,c,h,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,l,a){const c={};return c[bg]=Jc,typeof location<"u"&&location.hostname&&zg.test(location.hostname)&&(c[Fg]=jg),r&&(c[Mg]=r),s&&(c[Ug]=s),l&&(c[Sc]=l),a&&(c[Bg]=a),qg(e,$g,c)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_r.set("previous_websocket_failure",!0);try{let s;Eg(),this.mySock=new gl(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Zt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(r);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&gl!==null&&!Zt.forceDisallow_}static previouslyFailed(){return _r.isInMemoryStorage||_r.get("previous_websocket_failure")===!0}markConnectionHealthy(){_r.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=ys(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(H(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=Ke(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=Dg(r,iS);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sS))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zt.responsesRequiredToBeHealthy=2;Zt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static get ALL_TRANSPORTS(){return[ei,Zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=Zt&&Zt.isAvailable();let s=r&&!Zt.previouslyFailed();if(e.webSocketOnly&&(r||gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Zt];else{const l=this.transports_=[];for(const a of ws.ALL_TRANSPORTS)a&&a.isAvailable()&&l.push(a);ws.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ws.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=6e4,lS=5e3,aS=10*1024,uS=100*1024,ic="t",lm="d",cS="s",am="r",dS="e",um="o",cm="a",dm="n",fm="p",fS="h";class hS{constructor(e,r,s,l,a,c,h,m,p,y){this.id=e,this.repoInfo_=r,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=a,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ms("c:"+this.id+":"),this.transportManager_=new ws(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=fs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>aS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ic in e){const r=e[ic];r===cm?this.upgradeIfSecondaryHealthy_():r===am?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===um&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=os("t",e),s=os("d",e);if(r==="c")this.onSecondaryControl_(s);else if(r==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:cm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=os("t",e),s=os("d",e);r==="c"?this.onControl_(s):r==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=os(ic,e);if(lm in e){const s=e[lm];if(r===fS){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===dm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===cS?this.onConnectionShutdown_(s):r===am?this.onReset_(s):r===dS?Cc("Server Error: "+s):r===um?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cc("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Jc!==s&&gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),fs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_r.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{put(e,r,s,l){}merge(e,r,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,s){}onDisconnectMerge(e,r,s){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.allowedEvents_=e,this.listeners_={},H(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,r)}}on(e,r,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:s});const l=this.getInitialEvent(e);l&&r.apply(s,l)}off(e,r,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let a=0;a<l.length;a++)if(l[a].callback===r&&(!s||s===l[a].context)){l.splice(a,1);return}}validateEventType_(e){H(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Xg{static getInstance(){return new yl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return H(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=32,pm=768;class xe{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function Ee(){return new xe("")}function fe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function er(n){return n.pieces_.length-n.pieceNum_}function Ie(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new xe(n.pieces_,e)}function ed(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pS(n){let e="";for(let r=n.pieceNum_;r<n.pieces_.length;r++)n.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[r])));return e||"/"}function Es(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Zg(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let r=n.pieceNum_;r<n.pieces_.length-1;r++)e.push(n.pieces_[r]);return new xe(e,0)}function ze(n,e){const r=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)r.push(n.pieces_[s]);if(e instanceof xe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)r.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&r.push(s[l])}return new xe(r,0)}function me(n){return n.pieceNum_>=n.pieces_.length}function mt(n,e){const r=fe(n),s=fe(e);if(r===null)return e;if(r===s)return mt(Ie(n),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function mS(n,e){const r=Es(n,0),s=Es(e,0);for(let l=0;l<r.length&&l<s.length;l++){const a=Tr(r[l],s[l]);if(a!==0)return a}return r.length===s.length?0:r.length<s.length?-1:1}function td(n,e){if(er(n)!==er(e))return!1;for(let r=n.pieceNum_,s=e.pieceNum_;r<=n.pieces_.length;r++,s++)if(n.pieces_[r]!==e.pieces_[s])return!1;return!0}function Wt(n,e){let r=n.pieceNum_,s=e.pieceNum_;if(er(n)>er(e))return!1;for(;r<n.pieces_.length;){if(n.pieces_[r]!==e.pieces_[s])return!1;++r,++s}return!0}class gS{constructor(e,r){this.errorPrefix_=r,this.parts_=Es(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Ll(this.parts_[s]);ey(this)}}function yS(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Ll(e),ey(n)}function _S(n){const e=n.parts_.pop();n.byteLength_-=Ll(e),n.parts_.length>0&&(n.byteLength_-=1)}function ey(n){if(n.byteLength_>pm)throw new Error(n.errorPrefix_+"has a key path longer than "+pm+" bytes ("+n.byteLength_+").");if(n.parts_.length>hm)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hm+") or object contains a cycle "+yr(n))}function yr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Xg{static getInstance(){return new nd}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return H(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=1e3,vS=60*5*1e3,mm=30*1e3,wS=1.3,ES=3e4,CS="server_kill",gm=3;class xn extends Jg{constructor(e,r,s,l,a,c,h,m){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=a,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=xn.nextPersistentConnectionId_++,this.log_=Ms("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ls,this.maxReconnectDelay_=vS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!Eg())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const l=++this.requestNumber_,a={r:l,a:e,b:r};this.log_(Ke(a)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const r=new Ds,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),r.promise}listen(e,r,s,l){this.initConnection_();const a=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:e,tag:s};this.listens.get(c).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+s+" for "+l);const a={p:s},c="q";e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(c,a,h=>{const m=h.d,p=h.s;xn.warnOnListenWarnings_(m,r),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&hn(e,"w")){const s=ii(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=aE(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(r,s,l=>{const a=l.s,c=l.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,r)}sendUnlisten_(e,r,s,l){this.log_("Unlisten on "+e+" for "+r);const a={p:e},c="n";l&&(a.q=s,a.t=l),this.sendRequest(c,a)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,l){const a={p:r,d:s};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,c=>{l&&setTimeout(()=>{l(c.s,c.d)},Math.floor(0))})}put(e,r,s,l){this.putInternal("p",e,r,s,l)}merge(e,r,s,l){this.putInternal("m",e,r,s,l)}putInternal(e,r,s,l,a){this.initConnection_();const c={p:r,d:s};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:e,request:c,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(a.s,a.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{if(s.s!=="ok"){const a=s.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):Cc("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ES&&(this.reconnectDelay_=ls),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+xn.nextConnectionId_++,a=this.lastSessionId;let c=!1,h=null;const m=function(){h?h.close():(c=!0,s())},p=function(_){H(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?st("getToken() completed but was canceled"):(st("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,h=new hS(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,s,k=>{gt(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(CS)},a))}catch(_){this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&gt(_),m())}}}interrupt(e){st("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){st("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qp(this.interruptReasons_)&&(this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;r?s=r.map(a=>Yc(a)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const s=new xe(e).toString();let l;if(this.listens.has(s)){const a=this.listens.get(s);l=a.get(r),a.delete(r),a.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,r){st("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gm&&(this.reconnectDelay_=mm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){st("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+Pg.replace(/\./g,"-")]=1,wg()?e["framework.cordova"]=1:nE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yl.getInstance().currentlyOnline();return qp(this.interruptReasons_)&&e}}xn.nextPersistentConnectionId_=0;xn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new he(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const s=new he(si,e),l=new he(si,r);return this.compare(s,l)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;class ty extends bl{static get __EMPTY_NODE(){return nl}static set __EMPTY_NODE(e){nl=e}compare(e,r){return Tr(e.name,r.name)}isDefinedOn(e){throw fi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return he.MIN}maxPost(){return new he(Er,nl)}makePost(e,r){return H(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,nl)}toString(){return".key"}}const ri=new ty;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,r,s,l,a=null){this.isReverse_=l,this.resultGenerator_=a,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=r?s(e.key,r):1,l&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class et{constructor(e,r,s,l,a){this.key=e,this.value=r,this.color=s??et.RED,this.left=l??Tt.EMPTY_NODE,this.right=a??Tt.EMPTY_NODE}copy(e,r,s,l,a){return new et(e??this.key,r??this.value,s??this.color,l??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const a=s(e,l.key);return a<0?l=l.copy(null,null,null,l.left.insert(e,r,s),null):a===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,l;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),r(e,s.key)===0){if(s.right.isEmpty())return Tt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}et.RED=!0;et.BLACK=!1;class SS{copy(e,r,s,l,a){return this}insert(e,r,s){return new et(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Tt{constructor(e,r=Tt.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new Tt(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,et.BLACK,null,null))}remove(e){return new Tt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,et.BLACK,null,null))}get(e){let r,s=this.root_;for(;!s.isEmpty();){if(r=this.comparator_(e,s.key),r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}getPredecessorKey(e){let r,s=this.root_,l=null;for(;!s.isEmpty();)if(r=this.comparator_(e,s.key),r===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else r<0?s=s.left:r>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new rl(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new rl(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new rl(this.root_,null,this.comparator_,!0,e)}}Tt.EMPTY_NODE=new SS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n,e){return Tr(n.name,e.name)}function rd(n,e){return Tr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;function kS(n){xc=n}const ny=function(n){return typeof n=="number"?"number:"+Lg(n):"string:"+n},ry=function(n){if(n.isLeafNode()){const e=n.val();H(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hn(e,".sv"),"Priority must be a string or number.")}else H(n===xc||n.isEmpty(),"priority of unexpected type.");H(n===xc||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym;class Ze{static set __childrenNodeConstructor(e){ym=e}static get __childrenNodeConstructor(){return ym}constructor(e,r=Ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ry(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ze(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:fe(e)===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=fe(e);return s===null?r:r.isEmpty()&&s!==".priority"?this:(H(s!==".priority"||er(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ny(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=Lg(this.value_):e+=this.value_,this.lazyHash_=Og(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ze.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ze.__childrenNodeConstructor?-1:(H(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,l=Ze.VALUE_TYPE_ORDER.indexOf(r),a=Ze.VALUE_TYPE_ORDER.indexOf(s);return H(l>=0,"Unknown leaf type: "+r),H(a>=0,"Unknown leaf type: "+s),l===a?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iy,sy;function TS(n){iy=n}function RS(n){sy=n}class NS extends bl{compare(e,r){const s=e.node.getPriority(),l=r.node.getPriority(),a=s.compareTo(l);return a===0?Tr(e.name,r.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return he.MIN}maxPost(){return new he(Er,new Ze("[PRIORITY-POST]",sy))}makePost(e,r){const s=iy(e);return new he(r,new Ze("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ue=new NS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=Math.log(2);class PS{constructor(e){const r=a=>parseInt(Math.log(a)/IS,10),s=a=>parseInt(Array(a+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _l=function(n,e,r,s){n.sort(e);const l=function(m,p){const y=p-m;let _,v;if(y===0)return null;if(y===1)return _=n[m],v=r?r(_):_,new et(v,_.node,et.BLACK,null,null);{const k=parseInt(y/2,10)+m,E=l(m,k),T=l(k+1,p);return _=n[k],v=r?r(_):_,new et(v,_.node,et.BLACK,E,T)}},a=function(m){let p=null,y=null,_=n.length;const v=function(E,T){const R=_-E,b=_;_-=E;const L=l(R+1,b),$=n[R],K=r?r($):$;k(new et(K,$.node,T,null,L))},k=function(E){p?(p.left=E,p=E):(y=E,p=E)};for(let E=0;E<m.count;++E){const T=m.nextBitIsOne(),R=Math.pow(2,m.count-(E+1));T?v(R,et.BLACK):(v(R,et.BLACK),v(R,et.RED))}return y},c=new PS(n.length),h=a(c);return new Tt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;const Zr={};class Cn{static get Default(){return H(Zr&&Ue,"ChildrenNode.ts has not been loaded"),sc=sc||new Cn({".priority":Zr},{".priority":Ue}),sc}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=ii(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof Tt?r:null}hasIndex(e){return hn(this.indexSet_,e.toString())}addIndex(e,r){H(e!==ri,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const a=r.getIterator(he.Wrap);let c=a.getNext();for(;c;)l=l||e.isDefinedOn(c.node),s.push(c),c=a.getNext();let h;l?h=_l(s,e.getCompare()):h=Zr;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const y=Object.assign({},this.indexes_);return y[m]=h,new Cn(y,p)}addToIndexes(e,r){const s=hl(this.indexes_,(l,a)=>{const c=ii(this.indexSet_,a);if(H(c,"Missing index implementation for "+a),l===Zr)if(c.isDefinedOn(e.node)){const h=[],m=r.getIterator(he.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),_l(h,c.getCompare())}else return Zr;else{const h=r.get(e.name);let m=l;return h&&(m=m.remove(new he(e.name,h))),m.insert(e,e.node)}});return new Cn(s,this.indexSet_)}removeFromIndexes(e,r){const s=hl(this.indexes_,l=>{if(l===Zr)return l;{const a=r.get(e.name);return a?l.remove(new he(e.name,a)):l}});return new Cn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as;class oe{static get EMPTY_NODE(){return as||(as=new oe(new Tt(rd),null,Cn.Default))}constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&ry(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||as}updatePriority(e){return this.children_.isEmpty()?this:new oe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?as:r}}getChild(e){const r=fe(e);return r===null?this:this.getImmediateChild(r).getChild(Ie(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(H(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const s=new he(e,r);let l,a;r.isEmpty()?(l=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,r),a=this.indexMap_.addToIndexes(s,this.children_));const c=l.isEmpty()?as:this.priorityNode_;return new oe(l,c,a)}}updateChild(e,r){const s=fe(e);if(s===null)return r;{H(fe(e)!==".priority"||er(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ie(e),r);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,l=0,a=!0;if(this.forEachChild(Ue,(c,h)=>{r[c]=h.val(e),s++,a&&oe.INTEGER_REGEXP_.test(c)?l=Math.max(l,Number(c)):a=!1}),!e&&a&&l<2*s){const c=[];for(const h in r)c[h]=r[h];return c}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ny(this.getPriority().val())+":"),this.forEachChild(Ue,(r,s)=>{const l=s.hash();l!==""&&(e+=":"+r+":"+l)}),this.lazyHash_=e===""?"":Og(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const l=this.resolveIndex_(s);if(l){const a=l.getPredecessorKey(new he(e,r));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new he(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new he(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,he.Wrap);let a=l.peek();for(;a!=null&&r.compare(a,e)<0;)l.getNext(),a=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let a=l.peek();for(;a!=null&&r.compare(a,e)>0;)l.getNext(),a=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fs?-1:0}withIndex(e){if(e===ri||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new oe(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===ri||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const s=this.getIterator(Ue),l=r.getIterator(Ue);let a=s.getNext(),c=l.getNext();for(;a&&c;){if(a.name!==c.name||!a.node.equals(c.node))return!1;a=s.getNext(),c=l.getNext()}return a===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===ri?null:this.indexMap_.get(e.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AS extends oe{constructor(){super(new Tt(rd),oe.EMPTY_NODE,Cn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return oe.EMPTY_NODE}isEmpty(){return!1}}const Fs=new AS;Object.defineProperties(he,{MIN:{value:new he(si,oe.EMPTY_NODE)},MAX:{value:new he(Er,Fs)}});ty.__EMPTY_NODE=oe.EMPTY_NODE;Ze.__childrenNodeConstructor=oe;kS(Fs);RS(Fs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=!0;function Ge(n,e=null){if(n===null)return oe.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),H(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const r=n;return new Ze(r,Ge(e))}if(!(n instanceof Array)&&OS){const r=[];let s=!1;if(ot(n,(c,h)=>{if(c.substring(0,1)!=="."){const m=Ge(h);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),r.push(new he(c,m)))}}),r.length===0)return oe.EMPTY_NODE;const a=_l(r,xS,c=>c.name,rd);if(s){const c=_l(r,Ue.getCompare());return new oe(a,Ge(e),new Cn({".priority":c},{".priority":Ue}))}else return new oe(a,Ge(e),Cn.Default)}else{let r=oe.EMPTY_NODE;return ot(n,(s,l)=>{if(hn(n,s)&&s.substring(0,1)!=="."){const a=Ge(l);(a.isLeafNode()||!a.isEmpty())&&(r=r.updateImmediateChild(s,a))}}),r.updatePriority(Ge(e))}}TS(Ge);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS extends bl{constructor(e){super(),this.indexPath_=e,H(!me(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const s=this.extractChild(e.node),l=this.extractChild(r.node),a=s.compareTo(l);return a===0?Tr(e.name,r.name):a}makePost(e,r){const s=Ge(e),l=oe.EMPTY_NODE.updateChild(this.indexPath_,s);return new he(r,l)}maxPost(){const e=oe.EMPTY_NODE.updateChild(this.indexPath_,Fs);return new he(Er,e)}toString(){return Es(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS extends bl{compare(e,r){const s=e.node.compareTo(r.node);return s===0?Tr(e.name,r.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,r){const s=Ge(e);return new he(r,s)}toString(){return".value"}}const bS=new LS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n){return{type:"value",snapshotNode:n}}function oi(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Cs(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ss(n,e,r){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:r}}function MS(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.index_=e}updateChild(e,r,s,l,a,c){H(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(r);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(r)?c.trackChildChange(Cs(r,h)):H(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(oi(r,s)):c.trackChildChange(Ss(r,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(r,s).withIndex(this.index_)}updateFullNode(e,r,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ue,(l,a)=>{r.hasChild(l)||s.trackChildChange(Cs(l,a))}),r.isLeafNode()||r.forEachChild(Ue,(l,a)=>{if(e.hasChild(l)){const c=e.getImmediateChild(l);c.equals(a)||s.trackChildChange(Ss(l,a,c))}else s.trackChildChange(oi(l,a))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?oe.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.indexedFilter_=new id(e.getIndex()),this.index_=e.getIndex(),this.startPost_=xs.getStartPost_(e),this.endPost_=xs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&s}updateChild(e,r,s,l,a,c){return this.matches(new he(r,s))||(s=oe.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,s,l,a,c)}updateFullNode(e,r,s){r.isLeafNode()&&(r=oe.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(oe.EMPTY_NODE);const a=this;return r.forEachChild(Ue,(c,h)=>{a.matches(new he(c,h))||(l=l.updateImmediateChild(c,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=r=>{const s=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new xs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,s,l,a,c){return this.rangedFilter_.matches(new he(r,s))||(s=oe.EMPTY_NODE),e.getImmediateChild(r).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,s,l,a,c):this.fullLimitUpdateChild_(e,r,s,a,c)}updateFullNode(e,r,s){let l;if(r.isLeafNode()||r.isEmpty())l=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=oe.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;a.hasNext()&&c<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(oe.EMPTY_NODE);let a;this.reverse_?a=l.getReverseIterator(this.index_):a=l.getIterator(this.index_);let c=0;for(;a.hasNext();){const h=a.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:l=l.updateImmediateChild(h.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,s,l,a){let c;if(this.reverse_){const _=this.index_.getCompare();c=(v,k)=>_(k,v)}else c=this.index_.getCompare();const h=e;H(h.numChildren()===this.limit_,"");const m=new he(r,s),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(h.hasChild(r)){const _=h.getImmediateChild(r);let v=l.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===r||h.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const k=v==null?1:c(v,m);if(y&&!s.isEmpty()&&k>=0)return a!=null&&a.trackChildChange(Ss(r,s,_)),h.updateImmediateChild(r,s);{a!=null&&a.trackChildChange(Cs(r,_));const T=h.updateImmediateChild(r,oe.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(a!=null&&a.trackChildChange(oi(v.name,v.node)),T.updateImmediateChild(v.name,v.node)):T}}else return s.isEmpty()?e:y&&c(p,m)>=0?(a!=null&&(a.trackChildChange(Cs(p.name,p.node)),a.trackChildChange(oi(r,s))),h.updateImmediateChild(r,s).updateImmediateChild(p.name,oe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:si}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Er}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new sd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jS(n){return n.loadsAllData()?new id(n.getIndex()):n.hasLimit()?new FS(n):new xs(n)}function _m(n){const e={};if(n.isDefault())return e;let r;if(n.index_===Ue?r="$priority":n.index_===bS?r="$value":n.index_===ri?r="$key":(H(n.index_ instanceof DS,"Unrecognized index type!"),r=n.index_.toString()),e.orderBy=Ke(r),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Ke(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Ke(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Ke(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Ke(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function vm(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let r=n.viewFrom_;r===""&&(n.isViewFromLeft()?r="l":r="r"),e.vf=r}return n.index_!==Ue&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Jg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(H(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Ms("p:rest:"),this.listens_={}}listen(e,r,s,l){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const c=vl.getListenId_(e,s),h={};this.listens_[c]=h;const m=_m(e._queryParams);this.restRequest_(a+".json",m,(p,y)=>{let _=y;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(a,_,!1,s),ii(this.listens_,c)===h){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",l(v,null)}})}unlisten(e,r){const s=vl.getListenId_(e,r);delete this.listens_[s]}get(e){const r=_m(e._queryParams),s=e._path.toString(),l=new Ds;return this.restRequest_(s+".json",r,(a,c)=>{let h=c;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,r={},s){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,a])=>{l&&l.accessToken&&(r.auth=l.accessToken),a&&a.token&&(r.ac=a.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cE(r);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=ys(h.responseText)}catch{gt("Failed to parse JSON response for "+c+": "+h.responseText)}s(null,m)}else h.status!==401&&h.status!==404&&gt("Got unsuccessful REST response for "+c+" Status: "+h.status),s(h.status);s=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(){return{value:null,children:new Map}}function ly(n,e,r){if(me(e))n.value=r,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,r);else{const s=fe(e);n.children.has(s)||n.children.set(s,wl());const l=n.children.get(s);e=Ie(e),ly(l,e,r)}}function kc(n,e,r){n.value!==null?r(e,n.value):US(n,(s,l)=>{const a=new xe(e.toString()+"/"+s);kc(l,a,r)})}function US(n,e){n.children.forEach((r,s)=>{e(s,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&ot(this.last_,(s,l)=>{r[s]=r[s]-l}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=10*1e3,$S=30*1e3,WS=5*60*1e3;class HS{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new BS(e);const s=wm+($S-wm)*Math.random();fs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),r={};let s=!1;ot(e,(l,a)=>{a>0&&hn(this.statsToReport_,l)&&(r[l]=a,s=!0)}),s&&this.server_.reportStats(r),fs(this.reportStats_.bind(this),Math.floor(Math.random()*2*WS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(en||(en={}));function od(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ld(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ad(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,r,s){this.path=e,this.affectedTree=r,this.revert=s,this.type=en.ACK_USER_WRITE,this.source=od()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new xe(e));return new El(Ee(),r,this.revert)}}else return H(fe(this.path)===e,"operationForChild called for unrelated child."),new El(Ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,r){this.source=e,this.path=r,this.type=en.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new ks(this.source,Ee()):new ks(this.source,Ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,r,s){this.source=e,this.path=r,this.snap=s,this.type=en.OVERWRITE}operationForChild(e){return me(this.path)?new Cr(this.source,Ee(),this.snap.getImmediateChild(e)):new Cr(this.source,Ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,r,s){this.source=e,this.path=r,this.children=s,this.type=en.MERGE}operationForChild(e){if(me(this.path)){const r=this.children.subtree(new xe(e));return r.isEmpty()?null:r.value?new Cr(this.source,Ee(),r.value):new li(this.source,Ee(),r)}else return H(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new li(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,r,s){this.node_=e,this.fullyInitialized_=r,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const r=fe(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function VS(n,e,r,s){const l=[],a=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(MS(c.childName,c.snapshotNode))}),us(n,l,"child_removed",e,s,r),us(n,l,"child_added",e,s,r),us(n,l,"child_moved",a,s,r),us(n,l,"child_changed",e,s,r),us(n,l,"value",e,s,r),l}function us(n,e,r,s,l,a){const c=s.filter(h=>h.type===r);c.sort((h,m)=>GS(n,h,m)),c.forEach(h=>{const m=QS(n,h,a);l.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,n.query_))})})}function QS(n,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function GS(n,e,r){if(e.childName==null||r.childName==null)throw fi("Should only compare child_ events.");const s=new he(e.childName,e.snapshotNode),l=new he(r.childName,r.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n,e){return{eventCache:n,serverCache:e}}function hs(n,e,r,s){return Ml(new tr(e,r,s),n.serverCache)}function ay(n,e,r,s){return Ml(n.eventCache,new tr(e,r,s))}function Cl(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;const KS=()=>(oc||(oc=new Tt(DC)),oc);class Re{static fromObject(e){let r=new Re(null);return ot(e,(s,l)=>{r=r.set(new xe(s),l)}),r}constructor(e,r=KS()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:Ee(),value:this.value};if(me(e))return null;{const s=fe(e),l=this.children.get(s);if(l!==null){const a=l.findRootMostMatchingPathAndValue(Ie(e),r);return a!=null?{path:ze(new xe(s),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const r=fe(e),s=this.children.get(r);return s!==null?s.subtree(Ie(e)):new Re(null)}}set(e,r){if(me(e))return new Re(r,this.children);{const s=fe(e),a=(this.children.get(s)||new Re(null)).set(Ie(e),r),c=this.children.insert(s,a);return new Re(this.value,c)}}remove(e){if(me(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const r=fe(e),s=this.children.get(r);if(s){const l=s.remove(Ie(e));let a;return l.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,l),this.value===null&&a.isEmpty()?new Re(null):new Re(this.value,a)}else return this}}get(e){if(me(e))return this.value;{const r=fe(e),s=this.children.get(r);return s?s.get(Ie(e)):null}}setTree(e,r){if(me(e))return r;{const s=fe(e),a=(this.children.get(s)||new Re(null)).setTree(Ie(e),r);let c;return a.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,a),new Re(this.value,c)}}fold(e){return this.fold_(Ee(),e)}fold_(e,r){const s={};return this.children.inorderTraversal((l,a)=>{s[l]=a.fold_(ze(e,l),r)}),r(e,this.value,s)}findOnPath(e,r){return this.findOnPath_(e,Ee(),r)}findOnPath_(e,r,s){const l=this.value?s(r,this.value):!1;if(l)return l;if(me(e))return null;{const a=fe(e),c=this.children.get(a);return c?c.findOnPath_(Ie(e),ze(r,a),s):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,Ee(),r)}foreachOnPath_(e,r,s){if(me(e))return this;{this.value&&s(r,this.value);const l=fe(e),a=this.children.get(l);return a?a.foreachOnPath_(Ie(e),ze(r,l),s):new Re(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,r){this.children.inorderTraversal((s,l)=>{l.foreach_(ze(e,s),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,s)=>{s.value&&e(r,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.writeTree_=e}static empty(){return new nn(new Re(null))}}function ps(n,e,r){if(me(e))return new nn(new Re(r));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let a=s.value;const c=mt(l,e);return a=a.updateChild(c,r),new nn(n.writeTree_.set(l,a))}else{const l=new Re(r),a=n.writeTree_.setTree(e,l);return new nn(a)}}}function Tc(n,e,r){let s=n;return ot(r,(l,a)=>{s=ps(s,ze(e,l),a)}),s}function Em(n,e){if(me(e))return nn.empty();{const r=n.writeTree_.setTree(e,new Re(null));return new nn(r)}}function Rc(n,e){return Rr(n,e)!=null}function Rr(n,e){const r=n.writeTree_.findRootMostValueAndPath(e);return r!=null?n.writeTree_.get(r.path).getChild(mt(r.path,e)):null}function Cm(n){const e=[],r=n.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ue,(s,l)=>{e.push(new he(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new he(s,l.value))}),e}function Jn(n,e){if(me(e))return n;{const r=Rr(n,e);return r!=null?new nn(new Re(r)):new nn(n.writeTree_.subtree(e))}}function Nc(n){return n.writeTree_.isEmpty()}function ai(n,e){return uy(Ee(),n.writeTree_,e)}function uy(n,e,r){if(e.value!=null)return r.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,a)=>{l===".priority"?(H(a.value!==null,"Priority writes must always be leaf nodes"),s=a.value):r=uy(ze(n,l),a,r)}),!r.getChild(n).isEmpty()&&s!==null&&(r=r.updateChild(ze(n,".priority"),s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(n,e){return hy(e,n)}function YS(n,e,r,s,l){H(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:r,writeId:s,visible:l}),l&&(n.visibleWrites=ps(n.visibleWrites,e,r)),n.lastWriteId=s}function JS(n,e,r,s){H(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:r,writeId:s,visible:!0}),n.visibleWrites=Tc(n.visibleWrites,e,r),n.lastWriteId=s}function XS(n,e){for(let r=0;r<n.allWrites.length;r++){const s=n.allWrites[r];if(s.writeId===e)return s}return null}function ZS(n,e){const r=n.allWrites.findIndex(h=>h.writeId===e);H(r>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[r];n.allWrites.splice(r,1);let l=s.visible,a=!1,c=n.allWrites.length-1;for(;l&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=r&&e1(h,s.path)?l=!1:Wt(s.path,h.path)&&(a=!0)),c--}if(l){if(a)return t1(n),!0;if(s.snap)n.visibleWrites=Em(n.visibleWrites,s.path);else{const h=s.children;ot(h,m=>{n.visibleWrites=Em(n.visibleWrites,ze(s.path,m))})}return!0}else return!1}function e1(n,e){if(n.snap)return Wt(n.path,e);for(const r in n.children)if(n.children.hasOwnProperty(r)&&Wt(ze(n.path,r),e))return!0;return!1}function t1(n){n.visibleWrites=cy(n.allWrites,n1,Ee()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function n1(n){return n.visible}function cy(n,e,r){let s=nn.empty();for(let l=0;l<n.length;++l){const a=n[l];if(e(a)){const c=a.path;let h;if(a.snap)Wt(r,c)?(h=mt(r,c),s=ps(s,h,a.snap)):Wt(c,r)&&(h=mt(c,r),s=ps(s,Ee(),a.snap.getChild(h)));else if(a.children){if(Wt(r,c))h=mt(r,c),s=Tc(s,h,a.children);else if(Wt(c,r))if(h=mt(c,r),me(h))s=Tc(s,Ee(),a.children);else{const m=ii(a.children,fe(h));if(m){const p=m.getChild(Ie(h));s=ps(s,Ee(),p)}}}else throw fi("WriteRecord should have .snap or .children")}}return s}function dy(n,e,r,s,l){if(!s&&!l){const a=Rr(n.visibleWrites,e);if(a!=null)return a;{const c=Jn(n.visibleWrites,e);if(Nc(c))return r;if(r==null&&!Rc(c,Ee()))return null;{const h=r||oe.EMPTY_NODE;return ai(c,h)}}}else{const a=Jn(n.visibleWrites,e);if(!l&&Nc(a))return r;if(!l&&r==null&&!Rc(a,Ee()))return null;{const c=function(p){return(p.visible||l)&&(!s||!~s.indexOf(p.writeId))&&(Wt(p.path,e)||Wt(e,p.path))},h=cy(n.allWrites,c,e),m=r||oe.EMPTY_NODE;return ai(h,m)}}}function r1(n,e,r){let s=oe.EMPTY_NODE;const l=Rr(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ue,(a,c)=>{s=s.updateImmediateChild(a,c)}),s;if(r){const a=Jn(n.visibleWrites,e);return r.forEachChild(Ue,(c,h)=>{const m=ai(Jn(a,new xe(c)),h);s=s.updateImmediateChild(c,m)}),Cm(a).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const a=Jn(n.visibleWrites,e);return Cm(a).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function i1(n,e,r,s,l){H(s||l,"Either existingEventSnap or existingServerSnap must exist");const a=ze(e,r);if(Rc(n.visibleWrites,a))return null;{const c=Jn(n.visibleWrites,a);return Nc(c)?l.getChild(r):ai(c,l.getChild(r))}}function s1(n,e,r,s){const l=ze(e,r),a=Rr(n.visibleWrites,l);if(a!=null)return a;if(s.isCompleteForChild(r)){const c=Jn(n.visibleWrites,l);return ai(c,s.getNode().getImmediateChild(r))}else return null}function o1(n,e){return Rr(n.visibleWrites,e)}function l1(n,e,r,s,l,a,c){let h;const m=Jn(n.visibleWrites,e),p=Rr(m,Ee());if(p!=null)h=p;else if(r!=null)h=ai(m,r);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const y=[],_=c.getCompare(),v=a?h.getReverseIteratorFrom(s,c):h.getIteratorFrom(s,c);let k=v.getNext();for(;k&&y.length<l;)_(k,s)!==0&&y.push(k),k=v.getNext();return y}else return[]}function a1(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function Sl(n,e,r,s){return dy(n.writeTree,n.treePath,e,r,s)}function ud(n,e){return r1(n.writeTree,n.treePath,e)}function Sm(n,e,r,s){return i1(n.writeTree,n.treePath,e,r,s)}function xl(n,e){return o1(n.writeTree,ze(n.treePath,e))}function u1(n,e,r,s,l,a){return l1(n.writeTree,n.treePath,e,r,s,l,a)}function cd(n,e,r){return s1(n.writeTree,n.treePath,e,r)}function fy(n,e){return hy(ze(n.treePath,e),n.writeTree)}function hy(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,s=e.childName;H(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),H(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const a=l.type;if(r==="child_added"&&a==="child_removed")this.changeMap.set(s,Ss(s,e.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&a==="child_added")this.changeMap.delete(s);else if(r==="child_removed"&&a==="child_changed")this.changeMap.set(s,Cs(s,l.oldSnap));else if(r==="child_changed"&&a==="child_added")this.changeMap.set(s,oi(s,e.snapshotNode));else if(r==="child_changed"&&a==="child_changed")this.changeMap.set(s,Ss(s,e.snapshotNode,l.oldSnap));else throw fi("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{getCompleteChild(e){return null}getChildAfterChild(e,r,s){return null}}const py=new d1;class dd{constructor(e,r,s=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=s}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new tr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cd(this.writes_,e,s)}}getChildAfterChild(e,r,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sr(this.viewCache_),a=u1(this.writes_,l,r,1,s,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n){return{filter:n}}function h1(n,e){H(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),H(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function p1(n,e,r,s,l){const a=new c1;let c,h;if(r.type===en.OVERWRITE){const p=r;p.source.fromUser?c=Ic(n,e,p.path,p.snap,s,l,a):(H(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!me(p.path),c=kl(n,e,p.path,p.snap,s,l,h,a))}else if(r.type===en.MERGE){const p=r;p.source.fromUser?c=g1(n,e,p.path,p.children,s,l,a):(H(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),c=Pc(n,e,p.path,p.children,s,l,h,a))}else if(r.type===en.ACK_USER_WRITE){const p=r;p.revert?c=v1(n,e,p.path,s,l,a):c=y1(n,e,p.path,p.affectedTree,s,l,a)}else if(r.type===en.LISTEN_COMPLETE)c=_1(n,e,r.path,s,a);else throw fi("Unknown operation type: "+r.type);const m=a.getChanges();return m1(e,c,m),{viewCache:c,changes:m}}function m1(n,e,r){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),a=Cl(n);(r.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(a)||!s.getNode().getPriority().equals(a.getPriority()))&&r.push(oy(Cl(e)))}}function my(n,e,r,s,l,a){const c=e.eventCache;if(xl(s,r)!=null)return e;{let h,m;if(me(r))if(H(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Sr(e),y=p instanceof oe?p:oe.EMPTY_NODE,_=ud(s,y);h=n.filter.updateFullNode(e.eventCache.getNode(),_,a)}else{const p=Sl(s,Sr(e));h=n.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const p=fe(r);if(p===".priority"){H(er(r)===1,"Can't have a priority with additional path components");const y=c.getNode();m=e.serverCache.getNode();const _=Sm(s,r,y,m);_!=null?h=n.filter.updatePriority(y,_):h=c.getNode()}else{const y=Ie(r);let _;if(c.isCompleteForChild(p)){m=e.serverCache.getNode();const v=Sm(s,r,c.getNode(),m);v!=null?_=c.getNode().getImmediateChild(p).updateChild(y,v):_=c.getNode().getImmediateChild(p)}else _=cd(s,p,e.serverCache);_!=null?h=n.filter.updateChild(c.getNode(),p,_,y,l,a):h=c.getNode()}}return hs(e,h,c.isFullyInitialized()||me(r),n.filter.filtersNodes())}}function kl(n,e,r,s,l,a,c,h){const m=e.serverCache;let p;const y=c?n.filter:n.filter.getIndexedFilter();if(me(r))p=y.updateFullNode(m.getNode(),s,null);else if(y.filtersNodes()&&!m.isFiltered()){const k=m.getNode().updateChild(r,s);p=y.updateFullNode(m.getNode(),k,null)}else{const k=fe(r);if(!m.isCompleteForPath(r)&&er(r)>1)return e;const E=Ie(r),R=m.getNode().getImmediateChild(k).updateChild(E,s);k===".priority"?p=y.updatePriority(m.getNode(),R):p=y.updateChild(m.getNode(),k,R,E,py,null)}const _=ay(e,p,m.isFullyInitialized()||me(r),y.filtersNodes()),v=new dd(l,_,a);return my(n,_,r,l,v,h)}function Ic(n,e,r,s,l,a,c){const h=e.eventCache;let m,p;const y=new dd(l,e,a);if(me(r))p=n.filter.updateFullNode(e.eventCache.getNode(),s,c),m=hs(e,p,!0,n.filter.filtersNodes());else{const _=fe(r);if(_===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),s),m=hs(e,p,h.isFullyInitialized(),h.isFiltered());else{const v=Ie(r),k=h.getNode().getImmediateChild(_);let E;if(me(v))E=s;else{const T=y.getCompleteChild(_);T!=null?ed(v)===".priority"&&T.getChild(Zg(v)).isEmpty()?E=T:E=T.updateChild(v,s):E=oe.EMPTY_NODE}if(k.equals(E))m=e;else{const T=n.filter.updateChild(h.getNode(),_,E,v,y,c);m=hs(e,T,h.isFullyInitialized(),n.filter.filtersNodes())}}}return m}function xm(n,e){return n.eventCache.isCompleteForChild(e)}function g1(n,e,r,s,l,a,c){let h=e;return s.foreach((m,p)=>{const y=ze(r,m);xm(e,fe(y))&&(h=Ic(n,h,y,p,l,a,c))}),s.foreach((m,p)=>{const y=ze(r,m);xm(e,fe(y))||(h=Ic(n,h,y,p,l,a,c))}),h}function km(n,e,r){return r.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Pc(n,e,r,s,l,a,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;me(r)?p=s:p=new Re(null).setTree(r,s);const y=e.serverCache.getNode();return p.children.inorderTraversal((_,v)=>{if(y.hasChild(_)){const k=e.serverCache.getNode().getImmediateChild(_),E=km(n,k,v);m=kl(n,m,new xe(_),E,l,a,c,h)}}),p.children.inorderTraversal((_,v)=>{const k=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!y.hasChild(_)&&!k){const E=e.serverCache.getNode().getImmediateChild(_),T=km(n,E,v);m=kl(n,m,new xe(_),T,l,a,c,h)}}),m}function y1(n,e,r,s,l,a,c){if(xl(l,r)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(me(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return kl(n,e,r,m.getNode().getChild(r),l,a,h,c);if(me(r)){let p=new Re(null);return m.getNode().forEachChild(ri,(y,_)=>{p=p.set(new xe(y),_)}),Pc(n,e,r,p,l,a,h,c)}else return e}else{let p=new Re(null);return s.foreach((y,_)=>{const v=ze(r,y);m.isCompleteForPath(v)&&(p=p.set(y,m.getNode().getChild(v)))}),Pc(n,e,r,p,l,a,h,c)}}function _1(n,e,r,s,l){const a=e.serverCache,c=ay(e,a.getNode(),a.isFullyInitialized()||me(r),a.isFiltered());return my(n,c,r,s,py,l)}function v1(n,e,r,s,l,a){let c;if(xl(s,r)!=null)return e;{const h=new dd(s,e,l),m=e.eventCache.getNode();let p;if(me(r)||fe(r)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Sl(s,Sr(e));else{const _=e.serverCache.getNode();H(_ instanceof oe,"serverChildren would be complete if leaf node"),y=ud(s,_)}y=y,p=n.filter.updateFullNode(m,y,a)}else{const y=fe(r);let _=cd(s,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=m.getImmediateChild(y)),_!=null?p=n.filter.updateChild(m,y,_,Ie(r),h,a):e.eventCache.getNode().hasChild(y)?p=n.filter.updateChild(m,y,oe.EMPTY_NODE,Ie(r),h,a):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Sl(s,Sr(e)),c.isLeafNode()&&(p=n.filter.updateFullNode(p,c,a)))}return c=e.serverCache.isFullyInitialized()||xl(s,Ee())!=null,hs(e,p,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new id(s.getIndex()),a=jS(s);this.processor_=f1(a);const c=r.serverCache,h=r.eventCache,m=l.updateFullNode(oe.EMPTY_NODE,c.getNode(),null),p=a.updateFullNode(oe.EMPTY_NODE,h.getNode(),null),y=new tr(m,c.isFullyInitialized(),l.filtersNodes()),_=new tr(p,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=Ml(_,y),this.eventGenerator_=new qS(this.query_)}get query(){return this.query_}}function E1(n){return n.viewCache_.serverCache.getNode()}function C1(n){return Cl(n.viewCache_)}function S1(n,e){const r=Sr(n.viewCache_);return r&&(n.query._queryParams.loadsAllData()||!me(e)&&!r.getImmediateChild(fe(e)).isEmpty())?r.getChild(e):null}function Tm(n){return n.eventRegistrations_.length===0}function x1(n,e){n.eventRegistrations_.push(e)}function Rm(n,e,r){const s=[];if(r){H(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(a=>{const c=a.createCancelEvent(r,l);c&&s.push(c)})}if(e){let l=[];for(let a=0;a<n.eventRegistrations_.length;++a){const c=n.eventRegistrations_[a];if(!c.matches(e))l.push(c);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(a+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Nm(n,e,r,s){e.type===en.MERGE&&e.source.queryId!==null&&(H(Sr(n.viewCache_),"We should always have a full cache before handling merges"),H(Cl(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,a=p1(n.processor_,l,e,r,s);return h1(n.processor_,a.viewCache),H(a.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,gy(n,a.changes,a.viewCache.eventCache.getNode(),null)}function k1(n,e){const r=n.viewCache_.eventCache,s=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ue,(a,c)=>{s.push(oi(a,c))}),r.isFullyInitialized()&&s.push(oy(r.getNode())),gy(n,s,r.getNode(),e)}function gy(n,e,r,s){const l=s?[s]:n.eventRegistrations_;return VS(n.eventGenerator_,e,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;class yy{constructor(){this.views=new Map}}function T1(n){H(!Tl,"__referenceConstructor has already been defined"),Tl=n}function R1(){return H(Tl,"Reference.ts has not been loaded"),Tl}function N1(n){return n.views.size===0}function fd(n,e,r,s){const l=e.source.queryId;if(l!==null){const a=n.views.get(l);return H(a!=null,"SyncTree gave us an op for an invalid query."),Nm(a,e,r,s)}else{let a=[];for(const c of n.views.values())a=a.concat(Nm(c,e,r,s));return a}}function _y(n,e,r,s,l){const a=e._queryIdentifier,c=n.views.get(a);if(!c){let h=Sl(r,l?s:null),m=!1;h?m=!0:s instanceof oe?(h=ud(r,s),m=!1):(h=oe.EMPTY_NODE,m=!1);const p=Ml(new tr(h,m,!1),new tr(s,l,!1));return new w1(e,p)}return c}function I1(n,e,r,s,l,a){const c=_y(n,e,s,l,a);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),x1(c,r),k1(c,r)}function P1(n,e,r,s){const l=e._queryIdentifier,a=[];let c=[];const h=nr(n);if(l==="default")for(const[m,p]of n.views.entries())c=c.concat(Rm(p,r,s)),Tm(p)&&(n.views.delete(m),p.query._queryParams.loadsAllData()||a.push(p.query));else{const m=n.views.get(l);m&&(c=c.concat(Rm(m,r,s)),Tm(m)&&(n.views.delete(l),m.query._queryParams.loadsAllData()||a.push(m.query)))}return h&&!nr(n)&&a.push(new(R1())(e._repo,e._path)),{removed:a,events:c}}function vy(n){const e=[];for(const r of n.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function Xn(n,e){let r=null;for(const s of n.views.values())r=r||S1(s,e);return r}function wy(n,e){if(e._queryParams.loadsAllData())return jl(n);{const s=e._queryIdentifier;return n.views.get(s)}}function Ey(n,e){return wy(n,e)!=null}function nr(n){return jl(n)!=null}function jl(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl;function A1(n){H(!Rl,"__referenceConstructor has already been defined"),Rl=n}function O1(){return H(Rl,"Reference.ts has not been loaded"),Rl}let D1=1;class Im{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=a1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Cy(n,e,r,s,l){return YS(n.pendingWriteTree_,e,r,s,l),l?pi(n,new Cr(od(),e,r)):[]}function L1(n,e,r,s){JS(n.pendingWriteTree_,e,r,s);const l=Re.fromObject(r);return pi(n,new li(od(),e,l))}function Gn(n,e,r=!1){const s=XS(n.pendingWriteTree_,e);if(ZS(n.pendingWriteTree_,e)){let a=new Re(null);return s.snap!=null?a=a.set(Ee(),!0):ot(s.children,c=>{a=a.set(new xe(c),!0)}),pi(n,new El(s.path,a,r))}else return[]}function js(n,e,r){return pi(n,new Cr(ld(),e,r))}function b1(n,e,r){const s=Re.fromObject(r);return pi(n,new li(ld(),e,s))}function M1(n,e){return pi(n,new ks(ld(),e))}function F1(n,e,r){const s=pd(n,r);if(s){const l=md(s),a=l.path,c=l.queryId,h=mt(a,e),m=new ks(ad(c),h);return gd(n,a,m)}else return[]}function Nl(n,e,r,s,l=!1){const a=e._path,c=n.syncPointTree_.get(a);let h=[];if(c&&(e._queryIdentifier==="default"||Ey(c,e))){const m=P1(c,e,r,s);N1(c)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const p=m.removed;if(h=m.events,!l){const y=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(a,(v,k)=>nr(k));if(y&&!_){const v=n.syncPointTree_.subtree(a);if(!v.isEmpty()){const k=U1(v);for(let E=0;E<k.length;++E){const T=k[E],R=T.query,b=Ty(n,T);n.listenProvider_.startListening(ms(R),Ts(n,R),b.hashFn,b.onComplete)}}}!_&&p.length>0&&!s&&(y?n.listenProvider_.stopListening(ms(e),null):p.forEach(v=>{const k=n.queryToTagMap.get(zl(v));n.listenProvider_.stopListening(ms(v),k)}))}B1(n,p)}return h}function Sy(n,e,r,s){const l=pd(n,s);if(l!=null){const a=md(l),c=a.path,h=a.queryId,m=mt(c,e),p=new Cr(ad(h),m,r);return gd(n,c,p)}else return[]}function j1(n,e,r,s){const l=pd(n,s);if(l){const a=md(l),c=a.path,h=a.queryId,m=mt(c,e),p=Re.fromObject(r),y=new li(ad(h),m,p);return gd(n,c,y)}else return[]}function Ac(n,e,r,s=!1){const l=e._path;let a=null,c=!1;n.syncPointTree_.foreachOnPath(l,(v,k)=>{const E=mt(v,l);a=a||Xn(k,E),c=c||nr(k)});let h=n.syncPointTree_.get(l);h?(c=c||nr(h),a=a||Xn(h,Ee())):(h=new yy,n.syncPointTree_=n.syncPointTree_.set(l,h));let m;a!=null?m=!0:(m=!1,a=oe.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((k,E)=>{const T=Xn(E,Ee());T&&(a=a.updateImmediateChild(k,T))}));const p=Ey(h,e);if(!p&&!e._queryParams.loadsAllData()){const v=zl(e);H(!n.queryToTagMap.has(v),"View does not exist, but we have a tag");const k=$1();n.queryToTagMap.set(v,k),n.tagToQueryMap.set(k,v)}const y=Fl(n.pendingWriteTree_,l);let _=I1(h,e,r,y,a,m);if(!p&&!c&&!s){const v=wy(h,e);_=_.concat(W1(n,e,v))}return _}function hd(n,e,r){const l=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(c,h)=>{const m=mt(c,e),p=Xn(h,m);if(p)return p});return dy(l,e,a,r,!0)}function z1(n,e){const r=e._path;let s=null;n.syncPointTree_.foreachOnPath(r,(p,y)=>{const _=mt(p,r);s=s||Xn(y,_)});let l=n.syncPointTree_.get(r);l?s=s||Xn(l,Ee()):(l=new yy,n.syncPointTree_=n.syncPointTree_.set(r,l));const a=s!=null,c=a?new tr(s,!0,!1):null,h=Fl(n.pendingWriteTree_,e._path),m=_y(l,e,h,a?c.getNode():oe.EMPTY_NODE,a);return C1(m)}function pi(n,e){return xy(e,n.syncPointTree_,null,Fl(n.pendingWriteTree_,Ee()))}function xy(n,e,r,s){if(me(n.path))return ky(n,e,r,s);{const l=e.get(Ee());r==null&&l!=null&&(r=Xn(l,Ee()));let a=[];const c=fe(n.path),h=n.operationForChild(c),m=e.children.get(c);if(m&&h){const p=r?r.getImmediateChild(c):null,y=fy(s,c);a=a.concat(xy(h,m,p,y))}return l&&(a=a.concat(fd(l,n,s,r))),a}}function ky(n,e,r,s){const l=e.get(Ee());r==null&&l!=null&&(r=Xn(l,Ee()));let a=[];return e.children.inorderTraversal((c,h)=>{const m=r?r.getImmediateChild(c):null,p=fy(s,c),y=n.operationForChild(c);y&&(a=a.concat(ky(y,h,m,p)))}),l&&(a=a.concat(fd(l,n,s,r))),a}function Ty(n,e){const r=e.query,s=Ts(n,r);return{hashFn:()=>(E1(e)||oe.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?F1(n,r._path,s):M1(n,r._path);{const a=MC(l,r);return Nl(n,r,null,a)}}}}function Ts(n,e){const r=zl(e);return n.queryToTagMap.get(r)}function zl(n){return n._path.toString()+"$"+n._queryIdentifier}function pd(n,e){return n.tagToQueryMap.get(e)}function md(n){const e=n.indexOf("$");return H(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new xe(n.substr(0,e))}}function gd(n,e,r){const s=n.syncPointTree_.get(e);H(s,"Missing sync point for query tag that we're tracking");const l=Fl(n.pendingWriteTree_,e);return fd(s,r,l,null)}function U1(n){return n.fold((e,r,s)=>{if(r&&nr(r))return[jl(r)];{let l=[];return r&&(l=vy(r)),ot(s,(a,c)=>{l=l.concat(c)}),l}})}function ms(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(O1())(n._repo,n._path):n}function B1(n,e){for(let r=0;r<e.length;++r){const s=e[r];if(!s._queryParams.loadsAllData()){const l=zl(s),a=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(a)}}}function $1(){return D1++}function W1(n,e,r){const s=e._path,l=Ts(n,e),a=Ty(n,r),c=n.listenProvider_.startListening(ms(e),l,a.hashFn,a.onComplete),h=n.syncPointTree_.subtree(s);if(l)H(!nr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,y,_)=>{if(!me(p)&&y&&nr(y))return[jl(y).query];{let v=[];return y&&(v=v.concat(vy(y).map(k=>k.query))),ot(_,(k,E)=>{v=v.concat(E)}),v}});for(let p=0;p<m.length;++p){const y=m[p];n.listenProvider_.stopListening(ms(y),Ts(n,y))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new yd(r)}node(){return this.node_}}class _d{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=ze(this.path_,e);return new _d(this.syncTree_,r)}node(){return hd(this.syncTree_,this.path_)}}const H1=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Pm=function(n,e,r){if(!n||typeof n!="object")return n;if(H(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return q1(n[".sv"],e,r);if(typeof n[".sv"]=="object")return V1(n[".sv"],e);H(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},q1=function(n,e,r){switch(n){case"timestamp":return r.timestamp;default:H(!1,"Unexpected server value: "+n)}},V1=function(n,e,r){n.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&H(!1,"Unexpected increment value: "+s);const l=e.node();if(H(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const c=l.getValue();return typeof c!="number"?s:c+s},Ry=function(n,e,r,s){return vd(e,new _d(r,n),s)},Ny=function(n,e,r){return vd(n,new yd(e),r)};function vd(n,e,r){const s=n.getPriority().val(),l=Pm(s,e.getImmediateChild(".priority"),r);let a;if(n.isLeafNode()){const c=n,h=Pm(c.getValue(),e,r);return h!==c.getValue()||l!==c.getPriority().val()?new Ze(h,Ge(l)):n}else{const c=n;return a=c,l!==c.getPriority().val()&&(a=a.updatePriority(new Ze(l))),c.forEachChild(Ue,(h,m)=>{const p=vd(m,e.getImmediateChild(h),r);p!==m&&(a=a.updateImmediateChild(h,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e="",r=null,s={children:{},childCount:0}){this.name=e,this.parent=r,this.node=s}}function Ed(n,e){let r=e instanceof xe?e:new xe(e),s=n,l=fe(r);for(;l!==null;){const a=ii(s.node.children,l)||{children:{},childCount:0};s=new wd(l,s,a),r=Ie(r),l=fe(r)}return s}function mi(n){return n.node.value}function Iy(n,e){n.node.value=e,Oc(n)}function Py(n){return n.node.childCount>0}function Q1(n){return mi(n)===void 0&&!Py(n)}function Ul(n,e){ot(n.node.children,(r,s)=>{e(new wd(r,n,s))})}function Ay(n,e,r,s){r&&!s&&e(n),Ul(n,l=>{Ay(l,e,!0,s)}),r&&s&&e(n)}function G1(n,e,r){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function zs(n){return new xe(n.parent===null?n.name:zs(n.parent)+"/"+n.name)}function Oc(n){n.parent!==null&&K1(n.parent,n.name,n)}function K1(n,e,r){const s=Q1(r),l=hn(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Oc(n)):!s&&!l&&(n.node.children[e]=r.node,n.node.childCount++,Oc(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=/[\[\].#$\/\u0000-\u001F\u007F]/,J1=/[\[\].#$\u0000-\u001F\u007F]/,lc=10*1024*1024,Cd=function(n){return typeof n=="string"&&n.length!==0&&!Y1.test(n)},Oy=function(n){return typeof n=="string"&&n.length!==0&&!J1.test(n)},X1=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Oy(n)},Z1=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Kc(n)||n&&typeof n=="object"&&hn(n,".sv")},Dy=function(n,e,r,s){s&&e===void 0||Bl(Dl(n,"value"),e,r)},Bl=function(n,e,r){const s=r instanceof xe?new gS(r,n):r;if(e===void 0)throw new Error(n+"contains undefined "+yr(s));if(typeof e=="function")throw new Error(n+"contains a function "+yr(s)+" with contents = "+e.toString());if(Kc(e))throw new Error(n+"contains "+e.toString()+" "+yr(s));if(typeof e=="string"&&e.length>lc/3&&Ll(e)>lc)throw new Error(n+"contains a string greater than "+lc+" utf8 bytes "+yr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,a=!1;if(ot(e,(c,h)=>{if(c===".value")l=!0;else if(c!==".priority"&&c!==".sv"&&(a=!0,!Cd(c)))throw new Error(n+" contains an invalid key ("+c+") "+yr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yS(s,c),Bl(n,h,s),_S(s)}),l&&a)throw new Error(n+' contains ".value" child '+yr(s)+" in addition to actual children.")}},ex=function(n,e){let r,s;for(r=0;r<e.length;r++){s=e[r];const a=Es(s);for(let c=0;c<a.length;c++)if(!(a[c]===".priority"&&c===a.length-1)){if(!Cd(a[c]))throw new Error(n+"contains an invalid key ("+a[c]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(mS);let l=null;for(r=0;r<e.length;r++){if(s=e[r],l!==null&&Wt(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},tx=function(n,e,r,s){const l=Dl(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const a=[];ot(e,(c,h)=>{const m=new xe(c);if(Bl(l,h,ze(r,m)),ed(m)===".priority"&&!Z1(h))throw new Error(l+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(m)}),ex(l,a)},Ly=function(n,e,r,s){if(!Oy(r))throw new Error(Dl(n,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nx=function(n,e,r,s){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Ly(n,e,r)},Sd=function(n,e){if(fe(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},rx=function(n,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Cd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!X1(r))throw new Error(Dl(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $l(n,e){let r=null;for(let s=0;s<e.length;s++){const l=e[s],a=l.getPath();r!==null&&!td(a,r.path)&&(n.eventLists_.push(r),r=null),r===null&&(r={events:[],path:a}),r.events.push(l)}r&&n.eventLists_.push(r)}function by(n,e,r){$l(n,r),My(n,s=>td(s,e))}function qt(n,e,r){$l(n,r),My(n,s=>Wt(s,e)||Wt(e,s))}function My(n,e){n.recursionDepth_++;let r=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const a=l.path;e(a)?(sx(n.eventLists_[s]),n.eventLists_[s]=null):r=!1}}r&&(n.eventLists_=[]),n.recursionDepth_--}function sx(n){for(let e=0;e<n.events.length;e++){const r=n.events[e];if(r!==null){n.events[e]=null;const s=r.getEventRunner();ds&&st("event: "+r.toString()),hi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="repo_interrupt",lx=25;class ax{constructor(e,r,s,l){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ix,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wl(),this.transactionQueueTree_=new wd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ux(n,e,r){if(n.stats_=Xc(n.repoInfo_),n.forceRestClient_||UC())n.server_=new vl(n.repoInfo_,(s,l,a,c)=>{Am(n,s,l,a,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Om(n,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(r)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new xn(n.repoInfo_,e,(s,l,a,c)=>{Am(n,s,l,a,c)},s=>{Om(n,s)},s=>{cx(n,s)},n.authTokenProvider_,n.appCheckProvider_,r),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=qC(n.repoInfo_,()=>new HS(n.stats_,n.server_)),n.infoData_=new zS,n.infoSyncTree_=new Im({startListening:(s,l,a,c)=>{let h=[];const m=n.infoData_.getNode(s._path);return m.isEmpty()||(h=js(n.infoSyncTree_,s._path,m),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),xd(n,"connected",!1),n.serverSyncTree_=new Im({startListening:(s,l,a,c)=>(n.server_.listen(s,a,l,(h,m)=>{const p=c(h,m);qt(n.eventQueue_,s._path,p)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function Fy(n){const r=n.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Wl(n){return H1({timestamp:Fy(n)})}function Am(n,e,r,s,l){n.dataUpdateCount++;const a=new xe(e);r=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,r):r;let c=[];if(l)if(s){const m=hl(r,p=>Ge(p));c=j1(n.serverSyncTree_,a,m,l)}else{const m=Ge(r);c=Sy(n.serverSyncTree_,a,m,l)}else if(s){const m=hl(r,p=>Ge(p));c=b1(n.serverSyncTree_,a,m)}else{const m=Ge(r);c=js(n.serverSyncTree_,a,m)}let h=a;c.length>0&&(h=ui(n,a)),qt(n.eventQueue_,h,c)}function Om(n,e){xd(n,"connected",e),e===!1&&px(n)}function cx(n,e){ot(e,(r,s)=>{xd(n,r,s)})}function xd(n,e,r){const s=new xe("/.info/"+e),l=Ge(r);n.infoData_.updateSnapshot(s,l);const a=js(n.infoSyncTree_,s,l);qt(n.eventQueue_,s,a)}function kd(n){return n.nextWriteId_++}function dx(n,e,r){const s=z1(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const a=Ge(l).withIndex(e._queryParams.getIndex());Ac(n.serverSyncTree_,e,r,!0);let c;if(e._queryParams.loadsAllData())c=js(n.serverSyncTree_,e._path,a);else{const h=Ts(n.serverSyncTree_,e);c=Sy(n.serverSyncTree_,e._path,a,h)}return qt(n.eventQueue_,e._path,c),Nl(n.serverSyncTree_,e,r,null,!0),a},l=>(Us(n,"get for query "+Ke(e)+" failed: "+l),Promise.reject(new Error(l))))}function fx(n,e,r,s,l){Us(n,"set",{path:e.toString(),value:r,priority:s});const a=Wl(n),c=Ge(r,s),h=hd(n.serverSyncTree_,e),m=Ny(c,h,a),p=kd(n),y=Cy(n.serverSyncTree_,e,m,p,!0);$l(n.eventQueue_,y),n.server_.put(e.toString(),c.val(!0),(v,k)=>{const E=v==="ok";E||gt("set at "+e+" failed: "+v);const T=Gn(n.serverSyncTree_,p,!E);qt(n.eventQueue_,e,T),Dc(n,l,v,k)});const _=Rd(n,e);ui(n,_),qt(n.eventQueue_,_,[])}function hx(n,e,r,s){Us(n,"update",{path:e.toString(),value:r});let l=!0;const a=Wl(n),c={};if(ot(r,(h,m)=>{l=!1,c[h]=Ry(ze(e,h),Ge(m),n.serverSyncTree_,a)}),l)st("update() called with empty data.  Don't do anything."),Dc(n,s,"ok",void 0);else{const h=kd(n),m=L1(n.serverSyncTree_,e,c,h);$l(n.eventQueue_,m),n.server_.merge(e.toString(),r,(p,y)=>{const _=p==="ok";_||gt("update at "+e+" failed: "+p);const v=Gn(n.serverSyncTree_,h,!_),k=v.length>0?ui(n,e):e;qt(n.eventQueue_,k,v),Dc(n,s,p,y)}),ot(r,p=>{const y=Rd(n,ze(e,p));ui(n,y)}),qt(n.eventQueue_,e,[])}}function px(n){Us(n,"onDisconnectEvents");const e=Wl(n),r=wl();kc(n.onDisconnect_,Ee(),(l,a)=>{const c=Ry(l,a,n.serverSyncTree_,e);ly(r,l,c)});let s=[];kc(r,Ee(),(l,a)=>{s=s.concat(js(n.serverSyncTree_,l,a));const c=Rd(n,l);ui(n,c)}),n.onDisconnect_=wl(),qt(n.eventQueue_,Ee(),s)}function mx(n,e,r){let s;fe(e._path)===".info"?s=Ac(n.infoSyncTree_,e,r):s=Ac(n.serverSyncTree_,e,r),by(n.eventQueue_,e._path,s)}function Dm(n,e,r){let s;fe(e._path)===".info"?s=Nl(n.infoSyncTree_,e,r):s=Nl(n.serverSyncTree_,e,r),by(n.eventQueue_,e._path,s)}function gx(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ox)}function Us(n,...e){let r="";n.persistentConnection_&&(r=n.persistentConnection_.id+":"),st(r,...e)}function Dc(n,e,r,s){e&&hi(()=>{if(r==="ok")e(null);else{const l=(r||"error").toUpperCase();let a=l;s&&(a+=": "+s);const c=new Error(a);c.code=l,e(c)}})}function jy(n,e,r){return hd(n.serverSyncTree_,e,r)||oe.EMPTY_NODE}function Td(n,e=n.transactionQueueTree_){if(e||Hl(n,e),mi(e)){const r=Uy(n,e);H(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&yx(n,zs(e),r)}else Py(e)&&Ul(e,r=>{Td(n,r)})}function yx(n,e,r){const s=r.map(p=>p.currentWriteId),l=jy(n,e,s);let a=l;const c=l.hash();for(let p=0;p<r.length;p++){const y=r[p];H(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=mt(e,y.path);a=a.updateChild(_,y.currentOutputSnapshotRaw)}const h=a.val(!0),m=e;n.server_.put(m.toString(),h,p=>{Us(n,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const _=[];for(let v=0;v<r.length;v++)r[v].status=2,y=y.concat(Gn(n.serverSyncTree_,r[v].currentWriteId)),r[v].onComplete&&_.push(()=>r[v].onComplete(null,!0,r[v].currentOutputSnapshotResolved)),r[v].unwatcher();Hl(n,Ed(n.transactionQueueTree_,e)),Td(n,n.transactionQueueTree_),qt(n.eventQueue_,e,y);for(let v=0;v<_.length;v++)hi(_[v])}else{if(p==="datastale")for(let _=0;_<r.length;_++)r[_].status===3?r[_].status=4:r[_].status=0;else{gt("transaction at "+m.toString()+" failed: "+p);for(let _=0;_<r.length;_++)r[_].status=4,r[_].abortReason=p}ui(n,e)}},c)}function ui(n,e){const r=zy(n,e),s=zs(r),l=Uy(n,r);return _x(n,l,s),s}function _x(n,e,r){if(e.length===0)return;const s=[];let l=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=mt(r,m.path);let y=!1,_;if(H(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,_=m.abortReason,l=l.concat(Gn(n.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=lx)y=!0,_="maxretry",l=l.concat(Gn(n.serverSyncTree_,m.currentWriteId,!0));else{const v=jy(n,m.path,c);m.currentInputSnapshot=v;const k=e[h].update(v.val());if(k!==void 0){Bl("transaction failed: Data returned ",k,m.path);let E=Ge(k);typeof k=="object"&&k!=null&&hn(k,".priority")||(E=E.updatePriority(v.getPriority()));const R=m.currentWriteId,b=Wl(n),L=Ny(E,v,b);m.currentOutputSnapshotRaw=E,m.currentOutputSnapshotResolved=L,m.currentWriteId=kd(n),c.splice(c.indexOf(R),1),l=l.concat(Cy(n.serverSyncTree_,m.path,L,m.currentWriteId,m.applyLocally)),l=l.concat(Gn(n.serverSyncTree_,R,!0))}else y=!0,_="nodata",l=l.concat(Gn(n.serverSyncTree_,m.currentWriteId,!0))}qt(n.eventQueue_,r,l),l=[],y&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(_),!1,null))))}Hl(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)hi(s[h]);Td(n,n.transactionQueueTree_)}function zy(n,e){let r,s=n.transactionQueueTree_;for(r=fe(e);r!==null&&mi(s)===void 0;)s=Ed(s,r),e=Ie(e),r=fe(e);return s}function Uy(n,e){const r=[];return By(n,e,r),r.sort((s,l)=>s.order-l.order),r}function By(n,e,r){const s=mi(e);if(s)for(let l=0;l<s.length;l++)r.push(s[l]);Ul(e,l=>{By(n,l,r)})}function Hl(n,e){const r=mi(e);if(r){let s=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[s]=r[l],s++);r.length=s,Iy(e,r.length>0?r:void 0)}Ul(e,s=>{Hl(n,s)})}function Rd(n,e){const r=zs(zy(n,e)),s=Ed(n.transactionQueueTree_,e);return G1(s,l=>{ac(n,l)}),ac(n,s),Ay(s,l=>{ac(n,l)}),r}function ac(n,e){const r=mi(e);if(r){const s=[];let l=[],a=-1;for(let c=0;c<r.length;c++)r[c].status===3||(r[c].status===1?(H(a===c-1,"All SENT items should be at beginning of queue."),a=c,r[c].status=3,r[c].abortReason="set"):(H(r[c].status===0,"Unexpected transaction status in abort"),r[c].unwatcher(),l=l.concat(Gn(n.serverSyncTree_,r[c].currentWriteId,!0)),r[c].onComplete&&s.push(r[c].onComplete.bind(null,new Error("set"),!1,null))));a===-1?Iy(e,void 0):r.length=a+1,qt(n.eventQueue_,zs(e),l);for(let c=0;c<s.length;c++)hi(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n){let e="";const r=n.split("/");for(let s=0;s<r.length;s++)if(r[s].length>0){let l=r[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function wx(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const r of n.split("&")){if(r.length===0)continue;const s=r.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):gt(`Invalid query segment '${r}' in query '${n}'`)}return e}const Lm=function(n,e){const r=Ex(n),s=r.namespace;r.domain==="firebase.com"&&Tn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&r.domain!=="localhost"&&Tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||AC();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Hg(r.host,r.secure,s,l,e,"",s!==r.subdomain),path:new xe(r.pathString)}},Ex=function(n){let e="",r="",s="",l="",a="",c=!0,h="https",m=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(h=n.substring(0,p-1),n=n.substring(p+2));let y=n.indexOf("/");y===-1&&(y=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(y,_)),y<_&&(l=vx(n.substring(y,_)));const v=wx(n.substring(Math.min(n.length,_)));p=e.indexOf(":"),p>=0?(c=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const k=e.slice(0,p);if(k.toLowerCase()==="localhost")r="localhost";else if(k.split(".").length<=2)r=k;else{const E=e.indexOf(".");s=e.substring(0,E).toLowerCase(),r=e.substring(E+1),a=s}"ns"in v&&(a=v.ns)}return{host:e,port:m,domain:r,subdomain:s,secure:c,scheme:h,pathString:l,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cx=function(){let n=0;const e=[];return function(r){const s=r===n;n=r;let l;const a=new Array(8);for(l=7;l>=0;l--)a[l]=bm.charAt(r%64),r=Math.floor(r/64);H(r===0,"Cannot push at time == 0");let c=a.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)c+=bm.charAt(e[l]);return H(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,r,s,l){this.eventType=e,this.eventRegistration=r,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class xx{constructor(e,r,s){this.eventRegistration=e,this.error=r,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,r,s,l){this._repo=e,this._path=r,this._queryParams=s,this._orderByCalled=l}get key(){return me(this._path)?null:ed(this._path)}get ref(){return new Nn(this._repo,this._path)}get _queryIdentifier(){const e=vm(this._queryParams),r=Yc(e);return r==="{}"?"default":r}get _queryObject(){return vm(this._queryParams)}isEqual(e){if(e=kr(e),!(e instanceof Nd))return!1;const r=this._repo===e._repo,s=td(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return r&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+pS(this._path)}}class Nn extends Nd{constructor(e,r){super(e,r,new sd,!1)}get parent(){const e=Zg(this._path);return e===null?null:new Nn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Rs{constructor(e,r,s){this._node=e,this.ref=r,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new xe(e),s=Ns(this.ref,e);return new Rs(this._node.getChild(r),s,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Rs(l,Ns(this.ref,s),Ue)))}hasChild(e){const r=new xe(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ye(n,e){return n=kr(n),n._checkNotDeleted("ref"),e!==void 0?Ns(n._root,e):n._root}function Ns(n,e){return n=kr(n),fe(n._path)===null?nx("child","path",e):Ly("child","path",e),new Nn(n._repo,ze(n._path,e))}function kx(n,e){n=kr(n),Sd("push",n._path),Dy("push",e,n._path,!0);const r=Fy(n._repo),s=Cx(r),l=Ns(n,s),a=Ns(n,s);let c;return e!=null?c=tn(a,e).then(()=>a):c=Promise.resolve(a),l.then=c.then.bind(c),l.catch=c.then.bind(c,void 0),l}function ll(n){return Sd("remove",n._path),tn(n,null)}function tn(n,e){n=kr(n),Sd("set",n._path),Dy("set",e,n._path,!1);const r=new Ds;return fx(n._repo,n._path,e,null,r.wrapCallback(()=>{})),r.promise}function Tx(n,e){tx("update",e,n._path);const r=new Ds;return hx(n._repo,n._path,e,r.wrapCallback(()=>{})),r.promise}function pt(n){n=kr(n);const e=new $y(()=>{}),r=new ql(e);return dx(n._repo,n,r).then(s=>new Rs(s,new Nn(n._repo,n._path),n._queryParams.getIndex()))}class ql{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const s=r._queryParams.getIndex();return new Sx("value",this,new Rs(e.snapshotNode,new Nn(r._repo,r._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new xx(this,e,r):null}matches(e){return e instanceof ql?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Rx(n,e,r,s,l){let a;if(typeof s=="object"&&(a=void 0,l=s),typeof s=="function"&&(a=s),l&&l.onlyOnce){const m=r,p=(y,_)=>{Dm(n._repo,n,h),m(y,_)};p.userCallback=r.userCallback,p.context=r.context,r=p}const c=new $y(r,a||void 0),h=new ql(c);return mx(n._repo,n,h),()=>Dm(n._repo,n,h)}function Mm(n,e,r,s){return Rx(n,"value",e,r,s)}T1(Nn);A1(Nn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="FIREBASE_DATABASE_EMULATOR_HOST",Lc={};let Ix=!1;function Px(n,e,r,s){n.repoInfo_=new Hg(`${e}:${r}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}function Ax(n,e,r,s,l){let a=s||n.options.databaseURL;a===void 0&&(n.options.projectId||Tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),st("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=Lm(a,l),h=c.repoInfo,m;typeof process<"u"&&tm&&(m=tm[Nx]),m?(a=`http://${m}?ns=${h.namespace}`,c=Lm(a,l),h=c.repoInfo):c.repoInfo.secure;const p=new $C(n.name,n.options,e);rx("Invalid Firebase Database URL",c),me(c.path)||Tn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=Dx(h,n,p,new BC(n.name,r));return new Lx(y,n)}function Ox(n,e){const r=Lc[e];(!r||r[n.key]!==n)&&Tn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),gx(n),delete r[n.key]}function Dx(n,e,r,s){let l=Lc[e.name];l||(l={},Lc[e.name]=l);let a=l[n.toURLString()];return a&&Tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new ax(n,Ix,r,s),l[n.toURLString()]=a,a}class Lx{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ux(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nn(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Ox(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tn("Cannot call "+e+" on a deleted database.")}}function kt(n=hC(),e){const r=uC(n,"database").getImmediate({identifier:e});if(!r._instanceStarted){const s=Z0("database");s&&bx(r,...s)}return r}function bx(n,e,r,s={}){n=kr(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Tn("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let a;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&Tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ol(ol.OWNER);else if(s.mockUserToken){const c=typeof s.mockUserToken=="string"?s.mockUserToken:eE(s.mockUserToken,n.app.options.projectId);a=new ol(c)}Px(l,e,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(n){kC(fC),ml(new _s("database",(e,{instanceIdentifier:r})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return Ax(s,l,a,r)},"PUBLIC").setMultipleInstances(!0)),ti(nm,rm,n),ti(nm,rm,"esm2017")}xn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};xn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Mx();const Fx={apiKey:"AIzaSyCK58aeUtjlLq919pxe2wTZnhJqjEO_7kk",authDomain:"quizdb-ad0a2.firebaseapp.com",databaseURL:"https://quizdb-ad0a2-default-rtdb.firebaseio.com",projectId:"quizdb-ad0a2",storageBucket:"quizdb-ad0a2.firebasestorage.app",messagingSenderId:"595917417664",appId:"1:595917417664:web:f284273d498e384cdf5125",measurementId:"G-YC37Q9XL2X"},jx=Rg(Fx),Ht=kt(jx);function zx(){const n=tt(),e=Nt(),[r,s]=I.useState({id:0,name:"Q0",legend:"",numOptions:0,option1:"",answer:""}),[l,a]=I.useState([]),[c,h]=I.useState([]),[m,p]=I.useState(1),[y,_]=I.useState([]),v=m===1,k=m===l.length;I.useEffect(()=>{try{console.log(n.state.id),p(n.state.id);try{_(n.state.answers)}catch{console.log("No answers, using empty array")}}catch(V){console.log("Error getting state: "+V)}const z=ye(Ht,"questions/");pt(z).then(V=>{if(V.exists()){const B=V.val(),q=Object.keys(B);console.log(q),a(q),E(q[0])}else console.log("No questions found in the database.")}).catch(V=>{console.log("Error while getting questions: "+V)})},[n.state.id]);const E=z=>{const V=ye(Ht,`questions/${z}`);pt(V).then(B=>{if(B.exists()){const q=B.val();s(q),h($(Array.from({length:q.numOptions},(J,Q)=>Q+1)))}else console.log("No question found with the specified ID.")}).catch(B=>{console.log("Error getting question data: "+B)})};I.useEffect(()=>{console.log(l.length),l.length>-1&&(_(new Array(l.length).fill(null)),console.log("asnwers"),console.log(y))},[l]);function T(){const z=m<l.length?m+1:m;E(l[z-1]),p(z)}function R(){const z=m>1?m-1:m;E(l[z-1]),p(z)}function b(z){const V=z.target.value;_(B=>{const q=[...B];return q[m-1]=V,q})}function L(){K(y)&&e("/done",{state:{answers:y}})}function $(z){const V=[...z];for(let B=V.length-1;B>0;B--){const q=Math.floor(Math.random()*(B+1));[V[B],V[q]]=[V[q],V[B]]}return V}function K(z){let V=!0;for(const B of z)if(!B){document.getElementById("warning").innerHTML="Please answer all questions",V=!1;break}return V}return l.length?C.jsx(C.Fragment,{children:C.jsx("div",{id:"all-quiz",children:C.jsxs("div",{id:"quiz",className:"quiz_center",children:[C.jsx("span",{id:"INFO",children:C.jsxs("span",{children:["Question: ",C.jsx("span",{id:"questionNumber",children:m})]})}),C.jsx("form",{name:"quiz_form",id:"quiz_form",method:"get",children:r?C.jsxs("fieldset",{children:[C.jsx("legend",{children:r.legend}),c.map(z=>{const V=r[`option${z}`];return C.jsxs("div",{children:[C.jsx("input",{type:"radio",id:V,name:r.name,value:V,checked:y[m-1]===V||!1,onChange:b}),C.jsx("label",{htmlFor:V,children:V})]},V)})]}):C.jsx("div",{children:"No question to display"})}),C.jsx("div",{id:"warning"}),C.jsxs("div",{className:"button-container",children:[!v&&C.jsx("button",{onClick:R,id:"prev",children:"Previous"}),!k&&C.jsx("button",{onClick:T,id:"next",children:"Next"}),k&&C.jsx("button",{onClick:L,id:"Finish",children:"Finish"})]})]})})}):C.jsx("div",{children:"Loading..."})}function Ux(){const n=Nt(),[e,r]=I.useState(""),[s,l]=I.useState(""),[a,c]=I.useState(""),[h,m]=I.useState(!1),[p,y]=I.useState(!1);function _(){if(e&&s){const k=kt(),E=ye(k,"users/"+e);pt(E).then(T=>{if(T.exists()){const R=T.val();R.password===s?n("/options",{state:{username:e,isAdmin:R.isAdmin}}):c("Invalid password. Please try again.")}else c("User not found. Please sign up first.")}).catch(T=>{c("Error logging in: "+T.message)})}else c("Please fill out both fields.")}function v(){if(e&&s){console.log(e);const k=kt();console.log(ye(k,"users/"+e)),console.log(k),tn(ye(k,"users/"+e),{username:e,password:s,isAdmin:p}).then(()=>{c(""),m(!1),alert("Account created successfully! You can now log in.")}).catch(E=>{c("Error creating account: "+E.message)})}else c("Please fill out both fields.")}return C.jsx("div",{className:"login-container",children:C.jsxs("div",{className:"login-card",children:[C.jsx("h2",{children:h?"Create Account":"Login"}),C.jsx("p",{children:h?"Enter a username and password to create a new account.":"Enter your username and password to start the quiz."}),C.jsxs("div",{className:"login-form",children:[C.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:k=>r(k.target.value),required:!0,className:"input-field"}),C.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:k=>l(k.target.value),required:!0,className:"input-field"}),a&&C.jsx("p",{className:"error-message",children:a}),C.jsx("button",{onClick:h?v:_,className:"login-btn",children:h?"Create Account":"Log In"}),C.jsx("button",{onClick:()=>m(!h),className:"toggle-btn",children:h?"Already have an account? Log in":"Don't have an account? Create one"})]})]})})}function Bx(){const n=Nt(),e=tt(),[r,s]=I.useState(""),[l,a]=I.useState(!1),[c,h]=I.useState([]),[m,p]=I.useState([]),[y,_]=I.useState(""),[v,k]=I.useState(""),[E,T]=I.useState("");I.useEffect(()=>{const B=kt(),q=ye(B,"users/"+r);pt(q).then(Q=>{if(Q.exists()){const ae=Q.val();console.log(ae),console.log(e.state.username),s(e.state.username),a(ae.isAdmin),console.log(ae.isAdmin),h(Object.keys(ae.groups||{}))}}).catch(Q=>{T("Error loading user data: "+Q.message)});const J=ye(B,"groups");pt(J).then(Q=>{if(Q.exists()){const ae=Q.val();p(Object.values(ae||{}))}}).catch(Q=>{T("Error loading groups: "+Q.message)})},[r]);function R(){const B=kt(),q=ye(B,"users/"+r);pt(q).then(Q=>{if(Q.exists()){const ae=Q.val();console.log(ae),console.log(e.state.username),s(e.state.username),a(ae.isAdmin),console.log(ae.isAdmin),h(Object.keys(ae.groups||{}))}}).catch(Q=>{T("Error loading user data: "+Q.message)});const J=ye(B,"groups");pt(J).then(Q=>{if(Q.exists()){const ae=Q.val();p(Object.values(ae||{}))}}).catch(Q=>{T("Error loading groups: "+Q.message)})}function b(B=8){const q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let J="";for(let Q=0;Q<B;Q++)J+=q.charAt(Math.floor(Math.random()*q.length));return J}const L=()=>{if(!y){T("Please enter a group name.");return}const B=kt(),q=r,J=ye(B,"groups/"+y);tn(J,{groupName:y,admin:q,members:{[q]:!0},joinCode:b(),latest:{latestQuiz:{date:"null",id:"null"}}}).then(()=>{const Q=ye(B,"users/"+q+"/groups/"+y);tn(Q,!0),_(""),T(""),alert("Group created successfully!"),R()}).catch(Q=>{T("Error creating group: "+Q.message)})},$=B=>{k(B)},K=()=>{for(const B of m){if(console.log(B.joinCode),B.joinCode==v){z(B.groupName);return}T("Error joining group: Group Not Found")}},z=B=>{const q=kt(),J=ye(q,"groups/"+B+"/members/"+r);tn(J,!0).then(()=>{const Q=ye(q,"users/"+r+"/groups/"+B);tn(Q,!0),R()}).catch(Q=>{T("Error joining group: "+Q.message)})},V=B=>{const q=kt(),J=ye(q,"groups/"+B);pt(J).then(Q=>{if(Q.exists()){const ae=Q.val();l?n("/admin",{state:{groupName:B,username:r,quizId:ae.latest.latestQuiz.id}}):n("/quizPage",{state:{groupName:B,username:r,quizId:ae.latest.latestQuiz.id}})}else T("Group data not found.")}).catch(Q=>{T("Error fetching group data: "+Q.message)})};return C.jsxs("div",{className:"options-container",children:[C.jsx("h1",{children:"User Control"}),C.jsxs("h3",{children:["Welcome, ",r]}),l&&C.jsx("p",{children:"You are an admin in all groups!"}),C.jsxs("div",{children:[C.jsx("h2",{children:"Your Groups"}),c.length>0?C.jsx("ul",{children:c.map(B=>C.jsx("li",{onClick:()=>V(B),children:B},B))}):C.jsx("p",{children:"You are not in any groups yet."})]}),C.jsxs("div",{children:[C.jsx("h2",{children:"Join Groups"}),C.jsx("input",{type:"text",placeholder:"Enter Group Code",value:v,onChange:B=>$(B.target.value)}),C.jsx("button",{onClick:K,children:"Join Group"})]}),C.jsxs("div",{children:[C.jsx("h2",{children:"Create a New Group"}),C.jsx("input",{type:"text",placeholder:"Enter Group Name",value:y,onChange:B=>_(B.target.value)}),C.jsx("button",{onClick:L,children:"Create Group"})]}),E&&C.jsx("p",{className:"error-message",children:E})]})}function Wy(n,e){return function(){return n.apply(e,arguments)}}const{toString:$x}=Object.prototype,{getPrototypeOf:Id}=Object,Vl=(n=>e=>{const r=$x.call(e);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),rn=n=>(n=n.toLowerCase(),e=>Vl(e)===n),Ql=n=>e=>typeof e===n,{isArray:gi}=Array,Is=Ql("undefined");function Wx(n){return n!==null&&!Is(n)&&n.constructor!==null&&!Is(n.constructor)&&Lt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Hy=rn("ArrayBuffer");function Hx(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Hy(n.buffer),e}const qx=Ql("string"),Lt=Ql("function"),qy=Ql("number"),Gl=n=>n!==null&&typeof n=="object",Vx=n=>n===!0||n===!1,al=n=>{if(Vl(n)!=="object")return!1;const e=Id(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Qx=rn("Date"),Gx=rn("File"),Kx=rn("Blob"),Yx=rn("FileList"),Jx=n=>Gl(n)&&Lt(n.pipe),Xx=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Lt(n.append)&&((e=Vl(n))==="formdata"||e==="object"&&Lt(n.toString)&&n.toString()==="[object FormData]"))},Zx=rn("URLSearchParams"),[ek,tk,nk,rk]=["ReadableStream","Request","Response","Headers"].map(rn),ik=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bs(n,e,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let s,l;if(typeof n!="object"&&(n=[n]),gi(n))for(s=0,l=n.length;s<l;s++)e.call(null,n[s],s,n);else{const a=r?Object.getOwnPropertyNames(n):Object.keys(n),c=a.length;let h;for(s=0;s<c;s++)h=a[s],e.call(null,n[h],h,n)}}function Vy(n,e){e=e.toLowerCase();const r=Object.keys(n);let s=r.length,l;for(;s-- >0;)if(l=r[s],e===l.toLowerCase())return l;return null}const vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qy=n=>!Is(n)&&n!==vr;function bc(){const{caseless:n}=Qy(this)&&this||{},e={},r=(s,l)=>{const a=n&&Vy(e,l)||l;al(e[a])&&al(s)?e[a]=bc(e[a],s):al(s)?e[a]=bc({},s):gi(s)?e[a]=s.slice():e[a]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&Bs(arguments[s],r);return e}const sk=(n,e,r,{allOwnKeys:s}={})=>(Bs(e,(l,a)=>{r&&Lt(l)?n[a]=Wy(l,r):n[a]=l},{allOwnKeys:s}),n),ok=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),lk=(n,e,r,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),r&&Object.assign(n.prototype,r)},ak=(n,e,r,s)=>{let l,a,c;const h={};if(e=e||{},n==null)return e;do{for(l=Object.getOwnPropertyNames(n),a=l.length;a-- >0;)c=l[a],(!s||s(c,n,e))&&!h[c]&&(e[c]=n[c],h[c]=!0);n=r!==!1&&Id(n)}while(n&&(!r||r(n,e))&&n!==Object.prototype);return e},uk=(n,e,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=e.length;const s=n.indexOf(e,r);return s!==-1&&s===r},ck=n=>{if(!n)return null;if(gi(n))return n;let e=n.length;if(!qy(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=n[e];return r},dk=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Id(Uint8Array)),fk=(n,e)=>{const s=(n&&n[Symbol.iterator]).call(n);let l;for(;(l=s.next())&&!l.done;){const a=l.value;e.call(n,a[0],a[1])}},hk=(n,e)=>{let r;const s=[];for(;(r=n.exec(e))!==null;)s.push(r);return s},pk=rn("HTMLFormElement"),mk=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,l){return s.toUpperCase()+l}),Fm=(({hasOwnProperty:n})=>(e,r)=>n.call(e,r))(Object.prototype),gk=rn("RegExp"),Gy=(n,e)=>{const r=Object.getOwnPropertyDescriptors(n),s={};Bs(r,(l,a)=>{let c;(c=e(l,a,n))!==!1&&(s[a]=c||l)}),Object.defineProperties(n,s)},yk=n=>{Gy(n,(e,r)=>{if(Lt(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=n[r];if(Lt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_k=(n,e)=>{const r={},s=l=>{l.forEach(a=>{r[a]=!0})};return gi(n)?s(n):s(String(n).split(e)),r},vk=()=>{},wk=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,uc="abcdefghijklmnopqrstuvwxyz",jm="0123456789",Ky={DIGIT:jm,ALPHA:uc,ALPHA_DIGIT:uc+uc.toUpperCase()+jm},Ek=(n=16,e=Ky.ALPHA_DIGIT)=>{let r="";const{length:s}=e;for(;n--;)r+=e[Math.random()*s|0];return r};function Ck(n){return!!(n&&Lt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Sk=n=>{const e=new Array(10),r=(s,l)=>{if(Gl(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[l]=s;const a=gi(s)?[]:{};return Bs(s,(c,h)=>{const m=r(c,l+1);!Is(m)&&(a[h]=m)}),e[l]=void 0,a}}return s};return r(n,0)},xk=rn("AsyncFunction"),kk=n=>n&&(Gl(n)||Lt(n))&&Lt(n.then)&&Lt(n.catch),Yy=((n,e)=>n?setImmediate:e?((r,s)=>(vr.addEventListener("message",({source:l,data:a})=>{l===vr&&a===r&&s.length&&s.shift()()},!1),l=>{s.push(l),vr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Lt(vr.postMessage)),Tk=typeof queueMicrotask<"u"?queueMicrotask.bind(vr):typeof process<"u"&&process.nextTick||Yy,D={isArray:gi,isArrayBuffer:Hy,isBuffer:Wx,isFormData:Xx,isArrayBufferView:Hx,isString:qx,isNumber:qy,isBoolean:Vx,isObject:Gl,isPlainObject:al,isReadableStream:ek,isRequest:tk,isResponse:nk,isHeaders:rk,isUndefined:Is,isDate:Qx,isFile:Gx,isBlob:Kx,isRegExp:gk,isFunction:Lt,isStream:Jx,isURLSearchParams:Zx,isTypedArray:dk,isFileList:Yx,forEach:Bs,merge:bc,extend:sk,trim:ik,stripBOM:ok,inherits:lk,toFlatObject:ak,kindOf:Vl,kindOfTest:rn,endsWith:uk,toArray:ck,forEachEntry:fk,matchAll:hk,isHTMLForm:pk,hasOwnProperty:Fm,hasOwnProp:Fm,reduceDescriptors:Gy,freezeMethods:yk,toObjectSet:_k,toCamelCase:mk,noop:vk,toFiniteNumber:wk,findKey:Vy,global:vr,isContextDefined:Qy,ALPHABET:Ky,generateString:Ek,isSpecCompliantForm:Ck,toJSONObject:Sk,isAsyncFn:xk,isThenable:kk,setImmediate:Yy,asap:Tk};function ue(n,e,r,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}D.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const Jy=ue.prototype,Xy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Xy[n]={value:n}});Object.defineProperties(ue,Xy);Object.defineProperty(Jy,"isAxiosError",{value:!0});ue.from=(n,e,r,s,l,a)=>{const c=Object.create(Jy);return D.toFlatObject(n,c,function(m){return m!==Error.prototype},h=>h!=="isAxiosError"),ue.call(c,n.message,e,r,s,l),c.cause=n,c.name=n.name,a&&Object.assign(c,a),c};const Rk=null;function Mc(n){return D.isPlainObject(n)||D.isArray(n)}function Zy(n){return D.endsWith(n,"[]")?n.slice(0,-2):n}function zm(n,e,r){return n?n.concat(e).map(function(l,a){return l=Zy(l),!r&&a?"["+l+"]":l}).join(r?".":""):e}function Nk(n){return D.isArray(n)&&!n.some(Mc)}const Ik=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function Kl(n,e,r){if(!D.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,r=D.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,R){return!D.isUndefined(R[T])});const s=r.metaTokens,l=r.visitor||y,a=r.dots,c=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(l))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(D.isDate(E))return E.toISOString();if(!m&&D.isBlob(E))throw new ue("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(E)||D.isTypedArray(E)?m&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,T,R){let b=E;if(E&&!R&&typeof E=="object"){if(D.endsWith(T,"{}"))T=s?T:T.slice(0,-2),E=JSON.stringify(E);else if(D.isArray(E)&&Nk(E)||(D.isFileList(E)||D.endsWith(T,"[]"))&&(b=D.toArray(E)))return T=Zy(T),b.forEach(function($,K){!(D.isUndefined($)||$===null)&&e.append(c===!0?zm([T],K,a):c===null?T:T+"[]",p($))}),!1}return Mc(E)?!0:(e.append(zm(R,T,a),p(E)),!1)}const _=[],v=Object.assign(Ik,{defaultVisitor:y,convertValue:p,isVisitable:Mc});function k(E,T){if(!D.isUndefined(E)){if(_.indexOf(E)!==-1)throw Error("Circular reference detected in "+T.join("."));_.push(E),D.forEach(E,function(b,L){(!(D.isUndefined(b)||b===null)&&l.call(e,b,D.isString(L)?L.trim():L,T,v))===!0&&k(b,T?T.concat(L):[L])}),_.pop()}}if(!D.isObject(n))throw new TypeError("data must be an object");return k(n),e}function Um(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Pd(n,e){this._pairs=[],n&&Kl(n,this,e)}const e_=Pd.prototype;e_.append=function(e,r){this._pairs.push([e,r])};e_.toString=function(e){const r=e?function(s){return e.call(this,s,Um)}:Um;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function Pk(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function t_(n,e,r){if(!e)return n;const s=r&&r.encode||Pk;D.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let a;if(l?a=l(e,r):a=D.isURLSearchParams(e)?e.toString():new Pd(e,r).toString(s),a){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Bm{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(s){s!==null&&e(s)})}}const n_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ak=typeof URLSearchParams<"u"?URLSearchParams:Pd,Ok=typeof FormData<"u"?FormData:null,Dk=typeof Blob<"u"?Blob:null,Lk={isBrowser:!0,classes:{URLSearchParams:Ak,FormData:Ok,Blob:Dk},protocols:["http","https","file","blob","url","data"]},Ad=typeof window<"u"&&typeof document<"u",Fc=typeof navigator=="object"&&navigator||void 0,bk=Ad&&(!Fc||["ReactNative","NativeScript","NS"].indexOf(Fc.product)<0),Mk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fk=Ad&&window.location.href||"http://localhost",jk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ad,hasStandardBrowserEnv:bk,hasStandardBrowserWebWorkerEnv:Mk,navigator:Fc,origin:Fk},Symbol.toStringTag,{value:"Module"})),dt={...jk,...Lk};function zk(n,e){return Kl(n,new dt.classes.URLSearchParams,Object.assign({visitor:function(r,s,l,a){return dt.isNode&&D.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Uk(n){return D.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Bk(n){const e={},r=Object.keys(n);let s;const l=r.length;let a;for(s=0;s<l;s++)a=r[s],e[a]=n[a];return e}function r_(n){function e(r,s,l,a){let c=r[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),m=a>=r.length;return c=!c&&D.isArray(l)?l.length:c,m?(D.hasOwnProp(l,c)?l[c]=[l[c],s]:l[c]=s,!h):((!l[c]||!D.isObject(l[c]))&&(l[c]=[]),e(r,s,l[c],a)&&D.isArray(l[c])&&(l[c]=Bk(l[c])),!h)}if(D.isFormData(n)&&D.isFunction(n.entries)){const r={};return D.forEachEntry(n,(s,l)=>{e(Uk(s),l,r,0)}),r}return null}function $k(n,e,r){if(D.isString(n))try{return(e||JSON.parse)(n),D.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(n)}const $s={transitional:n_,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const s=r.getContentType()||"",l=s.indexOf("application/json")>-1,a=D.isObject(e);if(a&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return l?JSON.stringify(r_(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e)||D.isReadableStream(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return zk(e,this.formSerializer).toString();if((h=D.isFileList(e))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Kl(h?{"files[]":e}:e,m&&new m,this.formSerializer)}}return a||l?(r.setContentType("application/json",!1),$k(e)):e}],transformResponse:[function(e){const r=this.transitional||$s.transitional,s=r&&r.forcedJSONParsing,l=this.responseType==="json";if(D.isResponse(e)||D.isReadableStream(e))return e;if(e&&D.isString(e)&&(s&&!this.responseType||l)){const c=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?ue.from(h,ue.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dt.classes.FormData,Blob:dt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],n=>{$s.headers[n]={}});const Wk=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hk=n=>{const e={};let r,s,l;return n&&n.split(`
`).forEach(function(c){l=c.indexOf(":"),r=c.substring(0,l).trim().toLowerCase(),s=c.substring(l+1).trim(),!(!r||e[r]&&Wk[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},$m=Symbol("internals");function cs(n){return n&&String(n).trim().toLowerCase()}function ul(n){return n===!1||n==null?n:D.isArray(n)?n.map(ul):String(n)}function qk(n){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(n);)e[s[1]]=s[2];return e}const Vk=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function cc(n,e,r,s,l){if(D.isFunction(s))return s.call(this,e,r);if(l&&(e=r),!!D.isString(e)){if(D.isString(s))return e.indexOf(s)!==-1;if(D.isRegExp(s))return s.test(e)}}function Qk(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function Gk(n,e){const r=D.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+r,{value:function(l,a,c){return this[s].call(this,e,l,a,c)},configurable:!0})})}class Rt{constructor(e){e&&this.set(e)}set(e,r,s){const l=this;function a(h,m,p){const y=cs(m);if(!y)throw new Error("header name must be a non-empty string");const _=D.findKey(l,y);(!_||l[_]===void 0||p===!0||p===void 0&&l[_]!==!1)&&(l[_||m]=ul(h))}const c=(h,m)=>D.forEach(h,(p,y)=>a(p,y,m));if(D.isPlainObject(e)||e instanceof this.constructor)c(e,r);else if(D.isString(e)&&(e=e.trim())&&!Vk(e))c(Hk(e),r);else if(D.isHeaders(e))for(const[h,m]of e.entries())a(m,h,s);else e!=null&&a(r,e,s);return this}get(e,r){if(e=cs(e),e){const s=D.findKey(this,e);if(s){const l=this[s];if(!r)return l;if(r===!0)return qk(l);if(D.isFunction(r))return r.call(this,l,s);if(D.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=cs(e),e){const s=D.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||cc(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let l=!1;function a(c){if(c=cs(c),c){const h=D.findKey(s,c);h&&(!r||cc(s,s[h],h,r))&&(delete s[h],l=!0)}}return D.isArray(e)?e.forEach(a):a(e),l}clear(e){const r=Object.keys(this);let s=r.length,l=!1;for(;s--;){const a=r[s];(!e||cc(this,this[a],a,e,!0))&&(delete this[a],l=!0)}return l}normalize(e){const r=this,s={};return D.forEach(this,(l,a)=>{const c=D.findKey(s,a);if(c){r[c]=ul(l),delete r[a];return}const h=e?Qk(a):String(a).trim();h!==a&&delete r[a],r[h]=ul(l),s[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return D.forEach(this,(s,l)=>{s!=null&&s!==!1&&(r[l]=e&&D.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(l=>s.set(l)),s}static accessor(e){const s=(this[$m]=this[$m]={accessors:{}}).accessors,l=this.prototype;function a(c){const h=cs(c);s[h]||(Gk(l,c),s[h]=!0)}return D.isArray(e)?e.forEach(a):a(e),this}}Rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(Rt.prototype,({value:n},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[r]=s}}});D.freezeMethods(Rt);function dc(n,e){const r=this||$s,s=e||r,l=Rt.from(s.headers);let a=s.data;return D.forEach(n,function(h){a=h.call(r,a,l.normalize(),e?e.status:void 0)}),l.normalize(),a}function i_(n){return!!(n&&n.__CANCEL__)}function yi(n,e,r){ue.call(this,n??"canceled",ue.ERR_CANCELED,e,r),this.name="CanceledError"}D.inherits(yi,ue,{__CANCEL__:!0});function s_(n,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?n(r):e(new ue("Request failed with status code "+r.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Kk(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Yk(n,e){n=n||10;const r=new Array(n),s=new Array(n);let l=0,a=0,c;return e=e!==void 0?e:1e3,function(m){const p=Date.now(),y=s[a];c||(c=p),r[l]=m,s[l]=p;let _=a,v=0;for(;_!==l;)v+=r[_++],_=_%n;if(l=(l+1)%n,l===a&&(a=(a+1)%n),p-c<e)return;const k=y&&p-y;return k?Math.round(v*1e3/k):void 0}}function Jk(n,e){let r=0,s=1e3/e,l,a;const c=(p,y=Date.now())=>{r=y,l=null,a&&(clearTimeout(a),a=null),n.apply(null,p)};return[(...p)=>{const y=Date.now(),_=y-r;_>=s?c(p,y):(l=p,a||(a=setTimeout(()=>{a=null,c(l)},s-_)))},()=>l&&c(l)]}const Il=(n,e,r=3)=>{let s=0;const l=Yk(50,250);return Jk(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,m=c-s,p=l(m),y=c<=h;s=c;const _={loaded:c,total:h,progress:h?c/h:void 0,bytes:m,rate:p||void 0,estimated:p&&h&&y?(h-c)/p:void 0,event:a,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},r)},Wm=(n,e)=>{const r=n!=null;return[s=>e[0]({lengthComputable:r,total:n,loaded:s}),e[1]]},Hm=n=>(...e)=>D.asap(()=>n(...e)),Xk=dt.hasStandardBrowserEnv?((n,e)=>r=>(r=new URL(r,dt.origin),n.protocol===r.protocol&&n.host===r.host&&(e||n.port===r.port)))(new URL(dt.origin),dt.navigator&&/(msie|trident)/i.test(dt.navigator.userAgent)):()=>!0,Zk=dt.hasStandardBrowserEnv?{write(n,e,r,s,l,a){const c=[n+"="+encodeURIComponent(e)];D.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),D.isString(s)&&c.push("path="+s),D.isString(l)&&c.push("domain="+l),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eT(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function tT(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function o_(n,e){return n&&!eT(e)?tT(n,e):e}const qm=n=>n instanceof Rt?{...n}:n;function xr(n,e){e=e||{};const r={};function s(p,y,_,v){return D.isPlainObject(p)&&D.isPlainObject(y)?D.merge.call({caseless:v},p,y):D.isPlainObject(y)?D.merge({},y):D.isArray(y)?y.slice():y}function l(p,y,_,v){if(D.isUndefined(y)){if(!D.isUndefined(p))return s(void 0,p,_,v)}else return s(p,y,_,v)}function a(p,y){if(!D.isUndefined(y))return s(void 0,y)}function c(p,y){if(D.isUndefined(y)){if(!D.isUndefined(p))return s(void 0,p)}else return s(void 0,y)}function h(p,y,_){if(_ in e)return s(p,y);if(_ in n)return s(void 0,p)}const m={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(p,y,_)=>l(qm(p),qm(y),_,!0)};return D.forEach(Object.keys(Object.assign({},n,e)),function(y){const _=m[y]||l,v=_(n[y],e[y],y);D.isUndefined(v)&&_!==h||(r[y]=v)}),r}const l_=n=>{const e=xr({},n);let{data:r,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:a,headers:c,auth:h}=e;e.headers=c=Rt.from(c),e.url=t_(o_(e.baseURL,e.url),n.params,n.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let m;if(D.isFormData(r)){if(dt.hasStandardBrowserEnv||dt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[p,...y]=m?m.split(";").map(_=>_.trim()).filter(Boolean):[];c.setContentType([p||"multipart/form-data",...y].join("; "))}}if(dt.hasStandardBrowserEnv&&(s&&D.isFunction(s)&&(s=s(e)),s||s!==!1&&Xk(e.url))){const p=l&&a&&Zk.read(a);p&&c.set(l,p)}return e},nT=typeof XMLHttpRequest<"u",rT=nT&&function(n){return new Promise(function(r,s){const l=l_(n);let a=l.data;const c=Rt.from(l.headers).normalize();let{responseType:h,onUploadProgress:m,onDownloadProgress:p}=l,y,_,v,k,E;function T(){k&&k(),E&&E(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let R=new XMLHttpRequest;R.open(l.method.toUpperCase(),l.url,!0),R.timeout=l.timeout;function b(){if(!R)return;const $=Rt.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),z={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:$,config:n,request:R};s_(function(B){r(B),T()},function(B){s(B),T()},z),R=null}"onloadend"in R?R.onloadend=b:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(b)},R.onabort=function(){R&&(s(new ue("Request aborted",ue.ECONNABORTED,n,R)),R=null)},R.onerror=function(){s(new ue("Network Error",ue.ERR_NETWORK,n,R)),R=null},R.ontimeout=function(){let K=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const z=l.transitional||n_;l.timeoutErrorMessage&&(K=l.timeoutErrorMessage),s(new ue(K,z.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,n,R)),R=null},a===void 0&&c.setContentType(null),"setRequestHeader"in R&&D.forEach(c.toJSON(),function(K,z){R.setRequestHeader(z,K)}),D.isUndefined(l.withCredentials)||(R.withCredentials=!!l.withCredentials),h&&h!=="json"&&(R.responseType=l.responseType),p&&([v,E]=Il(p,!0),R.addEventListener("progress",v)),m&&R.upload&&([_,k]=Il(m),R.upload.addEventListener("progress",_),R.upload.addEventListener("loadend",k)),(l.cancelToken||l.signal)&&(y=$=>{R&&(s(!$||$.type?new yi(null,n,R):$),R.abort(),R=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));const L=Kk(l.url);if(L&&dt.protocols.indexOf(L)===-1){s(new ue("Unsupported protocol "+L+":",ue.ERR_BAD_REQUEST,n));return}R.send(a||null)})},iT=(n,e)=>{const{length:r}=n=n?n.filter(Boolean):[];if(e||r){let s=new AbortController,l;const a=function(p){if(!l){l=!0,h();const y=p instanceof Error?p:this.reason;s.abort(y instanceof ue?y:new yi(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,a(new ue(`timeout ${e} of ms exceeded`,ue.ETIMEDOUT))},e);const h=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),n=null)};n.forEach(p=>p.addEventListener("abort",a));const{signal:m}=s;return m.unsubscribe=()=>D.asap(h),m}},sT=function*(n,e){let r=n.byteLength;if(r<e){yield n;return}let s=0,l;for(;s<r;)l=s+e,yield n.slice(s,l),s=l},oT=async function*(n,e){for await(const r of lT(n))yield*sT(r,e)},lT=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},Vm=(n,e,r,s)=>{const l=oT(n,e);let a=0,c,h=m=>{c||(c=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:p,value:y}=await l.next();if(p){h(),m.close();return}let _=y.byteLength;if(r){let v=a+=_;r(v)}m.enqueue(new Uint8Array(y))}catch(p){throw h(p),p}},cancel(m){return h(m),l.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",a_=Yl&&typeof ReadableStream=="function",aT=Yl&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),u_=(n,...e)=>{try{return!!n(...e)}catch{return!1}},uT=a_&&u_(()=>{let n=!1;const e=new Request(dt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Qm=64*1024,jc=a_&&u_(()=>D.isReadableStream(new Response("").body)),Pl={stream:jc&&(n=>n.body)};Yl&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Pl[e]&&(Pl[e]=D.isFunction(n[e])?r=>r[e]():(r,s)=>{throw new ue(`Response type '${e}' is not supported`,ue.ERR_NOT_SUPPORT,s)})})})(new Response);const cT=async n=>{if(n==null)return 0;if(D.isBlob(n))return n.size;if(D.isSpecCompliantForm(n))return(await new Request(dt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(D.isArrayBufferView(n)||D.isArrayBuffer(n))return n.byteLength;if(D.isURLSearchParams(n)&&(n=n+""),D.isString(n))return(await aT(n)).byteLength},dT=async(n,e)=>{const r=D.toFiniteNumber(n.getContentLength());return r??cT(e)},fT=Yl&&(async n=>{let{url:e,method:r,data:s,signal:l,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:m,responseType:p,headers:y,withCredentials:_="same-origin",fetchOptions:v}=l_(n);p=p?(p+"").toLowerCase():"text";let k=iT([l,a&&a.toAbortSignal()],c),E;const T=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let R;try{if(m&&uT&&r!=="get"&&r!=="head"&&(R=await dT(y,s))!==0){let z=new Request(e,{method:"POST",body:s,duplex:"half"}),V;if(D.isFormData(s)&&(V=z.headers.get("content-type"))&&y.setContentType(V),z.body){const[B,q]=Wm(R,Il(Hm(m)));s=Vm(z.body,Qm,B,q)}}D.isString(_)||(_=_?"include":"omit");const b="credentials"in Request.prototype;E=new Request(e,{...v,signal:k,method:r.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:b?_:void 0});let L=await fetch(E);const $=jc&&(p==="stream"||p==="response");if(jc&&(h||$&&T)){const z={};["status","statusText","headers"].forEach(J=>{z[J]=L[J]});const V=D.toFiniteNumber(L.headers.get("content-length")),[B,q]=h&&Wm(V,Il(Hm(h),!0))||[];L=new Response(Vm(L.body,Qm,B,()=>{q&&q(),T&&T()}),z)}p=p||"text";let K=await Pl[D.findKey(Pl,p)||"text"](L,n);return!$&&T&&T(),await new Promise((z,V)=>{s_(z,V,{data:K,headers:Rt.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:E})})}catch(b){throw T&&T(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,n,E),{cause:b.cause||b}):ue.from(b,b&&b.code,n,E)}}),zc={http:Rk,xhr:rT,fetch:fT};D.forEach(zc,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Gm=n=>`- ${n}`,hT=n=>D.isFunction(n)||n===null||n===!1,c_={getAdapter:n=>{n=D.isArray(n)?n:[n];const{length:e}=n;let r,s;const l={};for(let a=0;a<e;a++){r=n[a];let c;if(s=r,!hT(r)&&(s=zc[(c=String(r)).toLowerCase()],s===void 0))throw new ue(`Unknown adapter '${c}'`);if(s)break;l[c||"#"+a]=s}if(!s){const a=Object.entries(l).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(Gm).join(`
`):" "+Gm(a[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:zc};function fc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new yi(null,n)}function Km(n){return fc(n),n.headers=Rt.from(n.headers),n.data=dc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),c_.getAdapter(n.adapter||$s.adapter)(n).then(function(s){return fc(n),s.data=dc.call(n,n.transformResponse,s),s.headers=Rt.from(s.headers),s},function(s){return i_(s)||(fc(n),s&&s.response&&(s.response.data=dc.call(n,n.transformResponse,s.response),s.response.headers=Rt.from(s.response.headers))),Promise.reject(s)})}const d_="1.7.9",Jl={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Jl[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const Ym={};Jl.transitional=function(e,r,s){function l(a,c){return"[Axios v"+d_+"] Transitional option '"+a+"'"+c+(s?". "+s:"")}return(a,c,h)=>{if(e===!1)throw new ue(l(c," has been removed"+(r?" in "+r:"")),ue.ERR_DEPRECATED);return r&&!Ym[c]&&(Ym[c]=!0,console.warn(l(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,c,h):!0}};Jl.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function pT(n,e,r){if(typeof n!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let l=s.length;for(;l-- >0;){const a=s[l],c=e[a];if(c){const h=n[a],m=h===void 0||c(h,a,n);if(m!==!0)throw new ue("option "+a+" must be "+m,ue.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ue("Unknown option "+a,ue.ERR_BAD_OPTION)}}const cl={assertOptions:pT,validators:Jl},cn=cl.validators;class wr{constructor(e){this.defaults=e,this.interceptors={request:new Bm,response:new Bm}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const a=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=xr(this.defaults,r);const{transitional:s,paramsSerializer:l,headers:a}=r;s!==void 0&&cl.assertOptions(s,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1),l!=null&&(D.isFunction(l)?r.paramsSerializer={serialize:l}:cl.assertOptions(l,{encode:cn.function,serialize:cn.function},!0)),cl.assertOptions(r,{baseUrl:cn.spelling("baseURL"),withXsrfToken:cn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=a&&D.merge(a.common,a[r.method]);a&&D.forEach(["delete","get","head","post","put","patch","common"],E=>{delete a[E]}),r.headers=Rt.concat(c,a);const h=[];let m=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(r)===!1||(m=m&&T.synchronous,h.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let y,_=0,v;if(!m){const E=[Km.bind(this),void 0];for(E.unshift.apply(E,h),E.push.apply(E,p),v=E.length,y=Promise.resolve(r);_<v;)y=y.then(E[_++],E[_++]);return y}v=h.length;let k=r;for(_=0;_<v;){const E=h[_++],T=h[_++];try{k=E(k)}catch(R){T.call(this,R);break}}try{y=Km.call(this,k)}catch(E){return Promise.reject(E)}for(_=0,v=p.length;_<v;)y=y.then(p[_++],p[_++]);return y}getUri(e){e=xr(this.defaults,e);const r=o_(e.baseURL,e.url);return t_(r,e.params,e.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(e){wr.prototype[e]=function(r,s){return this.request(xr(s||{},{method:e,url:r,data:(s||{}).data}))}});D.forEach(["post","put","patch"],function(e){function r(s){return function(a,c,h){return this.request(xr(h||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}wr.prototype[e]=r(),wr.prototype[e+"Form"]=r(!0)});class Od{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(l=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](l);s._listeners=null}),this.promise.then=l=>{let a;const c=new Promise(h=>{s.subscribe(h),a=h}).then(l);return c.cancel=function(){s.unsubscribe(a)},c},e(function(a,c,h){s.reason||(s.reason=new yi(a,c,h),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Od(function(l){e=l}),cancel:e}}}function mT(n){return function(r){return n.apply(null,r)}}function gT(n){return D.isObject(n)&&n.isAxiosError===!0}const Uc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uc).forEach(([n,e])=>{Uc[e]=n});function f_(n){const e=new wr(n),r=Wy(wr.prototype.request,e);return D.extend(r,wr.prototype,e,{allOwnKeys:!0}),D.extend(r,e,null,{allOwnKeys:!0}),r.create=function(l){return f_(xr(n,l))},r}const qe=f_($s);qe.Axios=wr;qe.CanceledError=yi;qe.CancelToken=Od;qe.isCancel=i_;qe.VERSION=d_;qe.toFormData=Kl;qe.AxiosError=ue;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=mT;qe.isAxiosError=gT;qe.mergeConfig=xr;qe.AxiosHeaders=Rt;qe.formToJSON=n=>r_(D.isHTMLForm(n)?new FormData(n):n);qe.getAdapter=c_.getAdapter;qe.HttpStatusCode=Uc;qe.default=qe;function Dd(n=null){const e=n?{Authorization:`Bearer ${n}`,"Content-Type":"multipart/form-data"}:{"Content-Type":"multipart/form-data"},r=qe.create({baseURL:"https://quizdb-ad0a2-default-rtdb.firebaseio.com",headers:e,timeout:6e4,withCredentials:!1});return r.interceptors.request.use(s=>{const l=localStorage.getItem("ACCESS_TOKEN");return s.headers=s.headers||{},l&&(s.headers.Authorization=`Bearer ${l}`),s}),r.interceptors.response.use(s=>s,s=>{try{const{response:l}=s;(l==null?void 0:l.status)===401&&localStorage.removeItem("ACCESS_TOKEN")}catch(l){console.error(l)}throw s}),r}function yT(){const n=Nt(),e=tt(),r=Dd(),[s,l]=I.useState([]),[a,c]=I.useState([]);I.useEffect(()=>{try{l(Object.values(e.state.answers)),console.log(Object.values(e.state.answers))}catch{console.log("no answers using empty array")}r.get("/questions.json").then(p=>{const y=p.data;if(y){const _=Object.keys(y).map(v=>({id:v,...y[v]}));c(_),console.log(_)}else console.log("No questions found.")}).catch(p=>{console.error("Error while getting questions:",p)})},[]);function h(){n("/")}function m(){let p=0;for(let _=0;_<a.length;_++)a[_].answer==s[_]&&p++;return parseFloat((p/a.length*100).toFixed(2)).toString()}return C.jsx(C.Fragment,{children:C.jsx("div",{id:"all-quiz",children:C.jsxs("div",{id:"instructions",children:[C.jsxs("div",{children:[C.jsxs("p",{children:["You Finished with ",m(),"% score"]}),s.length>0?s.map((p,y)=>{var _;return C.jsxs("div",{className:((_=a[y])==null?void 0:_.answer)==p?"correct":"incorrect",children:[a[y]?a[y].legend:y,": ",p]},y)}):C.jsx("p",{children:"No answers to display"})]}),C.jsx("div",{className:"button-container",children:C.jsx("button",{onClick:h,id:"continue",children:"Finish"})})]})})})}function _T(){const n=Nt(),e=tt(),r=Dd(),[s,l]=I.useState([]),[a,c]=I.useState([]);I.useEffect(()=>{try{l(Object.values(e.state.answers)),console.log(Object.values(e.state.answers))}catch{console.log("no answers using empty array")}r.get(`/groups/${e.state.groupName}/quizzes/${e.state.quizId}/questions.json`).then(p=>{const y=p.data;y?(c(y),console.log(y)):console.log("No questions found.")}).catch(p=>{console.error("Error while getting questions:",p)})},[]);function h(){n("/quizPage",{state:{groupName:e.state.groupName,username:e.state.username,quizId:e.state.quizId}})}function m(){const p=kt(),y=ye(p,"groups/"+e.state.groupName+"/quizzes/"+e.state.quizId+"/answers/"+e.state.username);tn(y,{user:e.state.username,answers:s}).then(()=>{n("/options",{state:{username:e.state.username}})}).catch(_=>{setError("Error creating group: "+_.message)})}return C.jsx(C.Fragment,{children:C.jsx("div",{id:"all-quiz",children:C.jsxs("div",{id:"instructions",children:[C.jsxs("div",{children:[C.jsx("p",{children:"Thank you for taking this quiz!"}),s.length>0?s.map((p,y)=>C.jsxs("div",{children:[a[y],": ",p]},y)):C.jsx("p",{children:"No answers to display"})]}),C.jsxs("div",{className:"button-container",children:[C.jsx("button",{onClick:h,id:"continue",children:"Retake"}),C.jsx("button",{onClick:m,children:"Submit"})]})]})})})}function vT(){const n=Nt(),e=tt(),[r,s]=I.useState([]),[l,a]=I.useState(1),[c,h]=I.useState([""]),[m,p]=I.useState(""),[y,_]=I.useState(""),[v,k]=I.useState(null),[E,T]=I.useState(!1);I.useEffect(()=>{try{s(Object.values(e.state.answers)),e.state.id&&k(e.state.id),e.state.id&&R(e.state.id)}catch{console.log("No answers or Firebase key provided, using default values.")}},[e.state]);function R(J){const Q=ye(Ht,`questions/${J}`);console.log(J),pt(Q).then(ae=>{if(ae.exists()){console.log(ae);const We=ae.val();_(We.legend),a(We.numOptions);const nt=Array.from({length:We.numOptions},(bt,Mt)=>We[`option${Mt+1}`]);h(nt),p(We.answer),T(!0)}else console.error("Question not found in the database.")}).catch(ae=>{console.error("Error retrieving question:",ae)})}function b(J){const Q=parseInt(J.target.value,10)||1;a(Q),Q>c.length?h([...c,...Array(Q-c.length).fill("")]):h(c.slice(0,Q))}function L(J,Q){const ae=[...c];ae[J]=Q.target.value,h(ae)}function $(J){p(J.target.value)}function K(J){_(J.target.value)}function z(){return c.includes(m)}function V(){if(!z()){document.getElementById("warning").innerHTML="Please make sure your correct value is one of the available options.";return}const J={name:`Q${v||"New"}`,legend:y,numOptions:l,...c.reduce((ae,We,nt)=>(ae[`option${nt+1}`]=We,ae),{}),answer:m},Q=ye(Ht,"questions");if(v){const ae=ye(Ht,`questions/${v}`);Tx(ae,J).then(()=>console.log("Question updated successfully")).catch(We=>console.error("Error updating question:",We))}else kx(Q,J).then(()=>console.log("Question added successfully")).catch(ae=>console.error("Error adding question:",ae));n("/done",{state:{answers:r}})}function B(){const J=ye(Ht,`questions/${v}`);ll(J).then(()=>n("/done",{state:{answers:r}})).catch(Q=>{console.error("Error deleting question:",Q),alert("Failed to delete the question. Please try again.")})}function q(){n("/done",{state:{answers:r}})}return C.jsx("div",{id:"all-quiz",children:C.jsxs("div",{id:"instructions",children:[C.jsx("h2",{children:"Question Creation"}),C.jsx("label",{htmlFor:"prompt",children:"Prompt:"}),C.jsx("textarea",{rows:"5",cols:"40",id:"prompt",value:y,onChange:K,className:"fillable"}),C.jsx("label",{htmlFor:"numOptions",children:"Number of Options:"}),C.jsx("input",{type:"number",id:"numOptions",min:"1",max:"100",step:"1",value:l,onChange:b,className:"fillable"}),C.jsx("ul",{id:"options",children:c.map((J,Q)=>C.jsx("li",{children:C.jsx("input",{type:"text",value:J,onChange:ae=>L(Q,ae),placeholder:`Option ${Q+1}`,className:"fillable"})},Q))}),C.jsx("label",{htmlFor:"CV",children:"Correct Value:"}),C.jsx("input",{type:"text",id:"CV",value:m,onChange:$,className:"fillable"}),C.jsx("div",{id:"warning"}),C.jsxs("div",{className:"button-container",children:[C.jsx("button",{onClick:V,children:"Finish"}),v&&C.jsx("button",{onClick:B,children:"Delete"}),C.jsx("button",{onClick:q,children:"Cancel"})]})]})})}function wT(){const n=Nt(),e=Dd(),r=tt(),[s,l]=I.useState([]),[a,c]=I.useState([]);I.useEffect(()=>{try{l(Object.values(r.state.answers)),setId(r.state.id),console.log(Object.values(r.state.answers))}catch{console.log("no answers using empty array")}e.get("/questions.json").then(y=>{const _=y.data;if(_){const v=Object.keys(_).map(k=>({id:k,..._[k]}));c(v),console.log(v)}else console.log("No questions found.")}).catch(y=>{console.error("Error while getting questions:",y)})},[]);function h(y){n("/create",{state:{answers:s,id:y-1}})}function m(){n("/done",{state:{answers:s}})}function p(y){y.target.style.cursor="pointer"}return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"content-container",children:[C.jsx("h2",{className:"title",children:"Questions"}),C.jsx("ul",{children:a.map((y,_)=>C.jsx("li",{onClick:()=>h(y.id),children:C.jsx("div",{className:"card",onMouseOver:v=>p(v),children:C.jsx("div",{className:"card-content",children:C.jsx("div",{className:"content",children:C.jsx("div",{className:"name",children:y.legend},"question.legend")})})})},y.id))}),C.jsx("button",{onClick:m,children:"Back"})]})})}function ET(){const n=Nt(),{state:e}=tt(),{groupName:r}=e,[s,l]=I.useState(""),[a,c]=I.useState([]),[h,m]=I.useState(""),p=()=>{if(!s||a.length===0){m("Please provide a title and at least one question.");return}const y=kt(),_=new Date().toISOString().replace(/[:.]/g,"-"),v=ye(y,`groups/${r}/quizzes/${_}`);console.log("Saving to path:",`groups/${r}/quizzes/${_}`);const k={title:s,questions:a,date:new Date().toISOString().split("T")[0]};console.log(k),tn(v,k).then(()=>{const E=ye(y,`groups/${r}/latest`);tn(E,{latestQuiz:{id:_,date:new Date().toISOString().split("T")[0]}}).then(()=>{n("/quizPage",{state:{groupName:r,quizId:_,username:e.username}})}).catch(T=>{m("Error updating group with latest quiz: "+T.message)})}).catch(E=>{m("Error creating quiz: "+E.message)})};return C.jsx("div",{className:"quiz-creation-container",children:C.jsxs("div",{className:"quiz-creation-card",children:[C.jsxs("h2",{children:["Create a Quiz for ",r]}),C.jsx("div",{className:"input-group",children:C.jsx("input",{type:"text",placeholder:"Enter Quiz Title",value:s,onChange:y=>l(y.target.value),className:"input-field"})}),C.jsx("div",{className:"input-group",children:C.jsx("textarea",{placeholder:"Enter Questions (separate by new lines)",value:a.join(`
`),onChange:y=>c(y.target.value.split(`
`)),className:"textarea-field"})}),C.jsx("button",{onClick:p,className:"create-quiz-btn",children:"Create Quiz"}),h&&C.jsx("p",{className:"error-message",children:h})]})})}function CT(){const n=tt(),e=Nt(),[r,s]=I.useState({id:0,name:"Q0",legend:"",answer:""}),[l,a]=I.useState([]),[c,h]=I.useState(1),[m,p]=I.useState([]),y=c===1,_=c===l.length;I.useEffect(()=>{try{console.log(n.state.id),h(1),n.state.answers?p(n.state.answers):p(new Array(l.length).fill(""))}catch($){console.log("Error getting state: "+$)}console.log(n.state.quizId);const L=ye(Ht,`groups/${n.state.groupName}/quizzes/${n.state.quizId}/questions`);pt(L).then($=>{if($.exists()){const K=$.val(),z=Object.keys(K);console.log(z),a(z),v(z[0])}else console.log("No questions found in the database.")}).catch($=>{console.log("Error while getting questions: "+$)})},[n.state.id]);const v=L=>{var V,B;const $=(V=n.state)==null?void 0:V.groupName,K=((B=n.state)==null?void 0:B.quizId)||"2024-12-10T19-37-39-210Z";if(!$||!L){console.log("Missing required parameters: groupName or questionId.");return}const z=ye(Ht,`groups/${$}/quizzes/${K}`);pt(z).then(q=>{if(q.exists()){const J=q.val();console.log(J.questions[L]),s(J.questions[L])}else console.log(`No question found with the specified ID: ${L} in quiz: ${K}`)}).catch(q=>{console.error(`Error getting question data for group: ${$}, quiz: ${K}, question: ${L}.`,q)})};I.useEffect(()=>{l.length>0&&(p(new Array(l.length).fill("")),console.log("Answers initialized"))},[l]);const k=L=>{const $=L.target.value;p(K=>{const z=[...K];return z[c-1]=$,z})},E=()=>{const L=c<l.length?c+1:c;p($=>{const K=[...$];return K[c-1]=m[c-1]||"",K}),v(l[L-1]),h(L)},T=()=>{const L=c>1?c-1:c;p($=>{const K=[...$];return K[c-1]=m[c-1]||"",K}),v(l[L-1]),h(L)};function R(){b(m)&&e("/doneUser",{state:{answers:m,username:n.state.username,groupName:n.state.groupName,quizId:n.state.quizId}})}function b(L){let $=!0;for(const K of L)if(!K){document.getElementById("warning").innerHTML="Please answer all questions",$=!1;break}return $}return l.length===0||!m||typeof r!="string"?C.jsx("div",{children:"Loading..."}):C.jsx("div",{id:"all-quiz",children:C.jsxs("div",{id:"quiz",className:"quiz_center",children:[C.jsx("span",{id:"INFO",children:C.jsxs("span",{children:["Question: ",C.jsx("span",{id:"questionNumber",children:c})]})}),C.jsx("form",{name:"quiz_form",id:"quiz_form",method:"get",children:r?C.jsxs("fieldset",{children:[C.jsx("legend",{children:r}),C.jsx("div",{children:C.jsx("textarea",{value:m[c-1]||"",onChange:k,placeholder:"Type your answer here"})})]}):C.jsx("div",{children:"No question to display"})}),C.jsx("div",{id:"warning"}),C.jsxs("div",{className:"button-container",children:[!y&&C.jsx("button",{onClick:T,id:"prev",children:"Previous"}),!_&&C.jsx("button",{onClick:E,id:"next",children:"Next"}),_&&C.jsx("button",{onClick:R,id:"Finish",children:"Finish"})]})]})})}function ST(){const n=tt(),e=n.state.groupName,r=Nt(),[s,l]=I.useState({}),[a,c]=I.useState([]),[h,m]=I.useState([]),[p,y]=I.useState(""),[_,v]=I.useState("");I.useEffect(()=>{k(),y(n.state.quizId)},[e]);function k(){const z=kt(),V=ye(z,`groups/${e}`),B=ye(z,`groups/${e}/quizzes`);Mm(V,q=>{if(q.exists()){const J=q.val();l(J),c(Object.keys(J.members)||[])}else v("Group not found.")},q=>{v("Error fetching group data: "+q.message)}),Mm(B,q=>{q.exists()?m(Object.entries(q.val()).map(([J,Q])=>({id:J,...Q}))):m([])},q=>{v("Error fetching quizzes: "+q.message)})}const E=z=>{const V=kt(),B=ye(V,`groups/${e}/members/${z}`),q=ye(V,`users/${z}/groups/${e}`);ll(B).then(()=>ll(q)).then(()=>{c(a.filter(J=>J!==z)),k()}).catch(J=>{alert("Error removing member: "+J.message)})},T=()=>{r("/quiz-creation",{state:{groupName:e,username:n.state.username}})},R=()=>{p=="null"?v("No Quizzes to Take"):r("/quizPage",{state:{groupName:e,username:n.state.username,quizId:p}})},b=z=>{y(z);const V=kt(),B=ye(V,`groups/${e}/latest`);tn(B,{latestQuiz:{id:z,date:new Date().toISOString().split("T")[0]}}).then(()=>{}).catch(q=>{alert("Error activating quiz: "+q.message)})},L=z=>{const V=kt(),B=ye(V,`groups/${e}/quizzes/${z}`);ll(B).then(()=>{m(h.filter(q=>q.id!==z))}).catch(q=>{alert("Error removing quiz: "+q.message)})};function $(z){r("/user-answers",{state:{member:z,groupName:n.state.groupName}})}const K=z=>{r("/quiz-answers",{state:{quizId:z,groupName:n.state.groupName}})};return C.jsxs("div",{className:"group-admin-container",children:[C.jsxs("header",{children:[C.jsxs("h1",{children:["Admin Dashboard for ",e]}),C.jsxs("p",{className:"group-description",children:["Join Code: ",s.joinCode]})]}),C.jsxs("section",{className:"actions",children:[C.jsx("button",{onClick:T,className:"btn primary-btn",children:"Create Quiz"}),C.jsx("button",{onClick:R,className:"btn secondary-btn",children:"Take Quiz"})]}),C.jsxs("section",{className:"members-section",children:[C.jsx("h2",{children:"Members"}),a.length>0?C.jsxs("table",{className:"table",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"Name"}),C.jsx("th",{children:"Actions"})]})}),C.jsx("tbody",{children:a.map(z=>C.jsxs("tr",{children:[C.jsx("td",{children:z}),C.jsx("td",{children:C.jsxs("div",{className:"button-container",children:[C.jsx("button",{onClick:()=>E(z),className:"btn remove-btn",children:"Remove"}),C.jsx("button",{onClick:()=>$(z),className:"btn primary-btn",children:"View"})]})})]},z))})]}):C.jsx("p",{children:"No members found."})]}),C.jsxs("section",{className:"quizzes-section",children:[C.jsx("h2",{children:"Quizzes"}),h.length>0?C.jsxs("table",{className:"table",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"Quiz Name"}),C.jsx("th",{children:"Actions"})]})}),C.jsx("tbody",{children:h.map(z=>C.jsxs("tr",{children:[C.jsx("td",{children:z.title}),C.jsx("td",{children:C.jsxs("div",{className:"button-container",children:[C.jsx("button",{onClick:()=>b(z.id),className:"btn activate-btn",children:"Activate"}),C.jsx("button",{onClick:()=>L(z.id),className:"btn remove-quiz-btn",children:"Remove"}),C.jsx("button",{onClick:()=>K(z.id),className:"btn primary-btn",children:"View"})]})})]},z.id))})]}):C.jsx("p",{children:"No quizzes available."})]}),_&&C.jsx("div",{className:"error",children:_})]})}function xT(){const n=tt(),e=Nt(),{member:r,groupName:s}=n.state,[l,a]=I.useState(null),[c,h]=I.useState([]);if(I.useEffect(()=>{const p=ye(Ht,`groups/${s}/quizzes`);pt(p).then(y=>{if(y.exists()){const _=y.val();h(_);const k=Object.keys(_).map(E=>{const T=ye(Ht,`groups/${s}/quizzes/${E}/answers/${r}`);return pt(T).then(R=>({quizId:E,answers:R.exists()?R.val():null}))});Promise.all(k).then(E=>{a(E.filter(T=>T.answers))})}else a([])}).catch(y=>console.error("Error fetching quizzes:",y))},[s,r]),l===null)return C.jsx("div",{className:"loading",children:"Loading..."});const m=()=>{e(-1)};return C.jsxs("div",{className:"answers-page",children:[C.jsxs("h2",{className:"header",children:["All Answers by ",r," in Group ",s]}),C.jsx("button",{className:"return-button",onClick:m,children:"Return"}),l.length===0?C.jsx("p",{className:"no-answers",children:"No answers found for this user."}):l.map(({quizId:p,answers:y})=>{const _=c[p];return C.jsxs("div",{className:"quiz-container",children:[C.jsx("h3",{className:"quiz-title",children:_==null?void 0:_.title}),(_==null?void 0:_.questions)&&Object.entries(y.answers).map(([v,k])=>C.jsxs("div",{className:"question-container",children:[C.jsx("h4",{className:"question-text",children:_.questions[v]}),C.jsx("p",{className:"answer-text",children:k})]},v))]},p)})]})}function kT(){const n=tt(),e=Nt(),{quizId:r,groupName:s}=n.state,[l,a]=I.useState(null),[c,h]=I.useState(null);if(I.useEffect(()=>{const p=ye(Ht,`groups/${s}/quizzes/${r}`);pt(p).then(_=>{_.exists()?h(_.val()):console.error("Quiz not found")}).catch(_=>console.error("Error fetching quiz:",_));const y=ye(Ht,`groups/${s}/quizzes/${r}/answers`);pt(y).then(_=>{_.exists()?a(_.val()):a({})}).catch(_=>console.error("Error fetching quiz answers:",_))},[r,s]),l===null||c===null)return C.jsx("div",{className:"loading",children:"Loading..."});const m=()=>{e(-1)};return C.jsxs("div",{className:"quiz-answers-page",children:[C.jsxs("h2",{className:"header",children:["Answers for Quiz: ",c.title]}),C.jsx("button",{className:"return-button",onClick:m,children:"Return"}),Object.entries(l).map(([p,y])=>C.jsxs("div",{className:"user-answers-container",children:[C.jsxs("h3",{className:"user-name",children:[p,"'s Answers:"]}),Object.entries(y.answers).map(([_,v])=>C.jsxs("div",{className:"question-answer-container",children:[C.jsx("h4",{className:"question-text",children:c.questions[_]}),C.jsx("p",{className:"answer-text",children:v})]},_))]},p)),Object.keys(l).length===0&&C.jsx("p",{className:"no-answers",children:"No answers submitted for this quiz yet."})]})}function TT(){return C.jsxs(u0,{children:[C.jsx(xt,{path:"/",element:C.jsx(W0,{})}),C.jsx(xt,{path:"/quiz",element:C.jsx(zx,{})}),C.jsx(xt,{path:"/quiz-creation",element:C.jsx(ET,{})}),C.jsx(xt,{path:"/quizPage",element:C.jsx(CT,{})}),C.jsx(xt,{path:"/login",element:C.jsx(Ux,{})}),C.jsx(xt,{path:"/options",element:C.jsx(Bx,{})}),C.jsx(xt,{path:"/done",element:C.jsx(yT,{})}),C.jsx(xt,{path:"/doneUser",element:C.jsx(_T,{})}),C.jsx(xt,{path:"/create",element:C.jsx(vT,{})}),C.jsx(xt,{path:"/edit",element:C.jsx(wT,{})}),C.jsx(xt,{path:"/admin",element:C.jsx(ST,{})}),C.jsx(xt,{path:"/user-answers",element:C.jsx(xT,{})}),C.jsx(xt,{path:"/quiz-answers",element:C.jsx(kT,{})})]})}vw.createRoot(document.getElementById("root")).render(C.jsx(fw.StrictMode,{children:C.jsx(D0,{children:C.jsx(TT,{})})}));
