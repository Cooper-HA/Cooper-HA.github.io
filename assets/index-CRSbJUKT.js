(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function Xm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qu={exports:{}},rs={},Vu={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function u0(){if(Ip)return ue;Ip=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,I={};function R(T,U,ae){this.props=T,this.context=U,this.refs=I,this.updater=ae||S}R.prototype.isReactComponent={},R.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},R.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function M(){}M.prototype=R.prototype;function O(T,U,ae){this.props=T,this.context=U,this.refs=I,this.updater=ae||S}var b=O.prototype=new M;b.constructor=O,E(b,R.prototype),b.isPureReactComponent=!0;var H=Array.isArray,F=Object.prototype.hasOwnProperty,j={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function ne(T,U,ae){var he,ge={},ye=null,ke=null;if(U!=null)for(he in U.ref!==void 0&&(ke=U.ref),U.key!==void 0&&(ye=""+U.key),U)F.call(U,he)&&!Y.hasOwnProperty(he)&&(ge[he]=U[he]);var we=arguments.length-2;if(we===1)ge.children=ae;else if(1<we){for(var Oe=Array(we),Tt=0;Tt<we;Tt++)Oe[Tt]=arguments[Tt+2];ge.children=Oe}if(T&&T.defaultProps)for(he in we=T.defaultProps,we)ge[he]===void 0&&(ge[he]=we[he]);return{$$typeof:n,type:T,key:ye,ref:ke,props:ge,_owner:j.current}}function re(T,U){return{$$typeof:n,type:T.type,key:U,ref:T.ref,props:T.props,_owner:T._owner}}function fe(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function Se(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ae){return U[ae]})}var We=/\/+/g;function tt(T,U){return typeof T=="object"&&T!==null&&T.key!=null?Se(""+T.key):U.toString(36)}function Ot(T,U,ae,he,ge){var ye=typeof T;(ye==="undefined"||ye==="boolean")&&(T=null);var ke=!1;if(T===null)ke=!0;else switch(ye){case"string":case"number":ke=!0;break;case"object":switch(T.$$typeof){case n:case e:ke=!0}}if(ke)return ke=T,ge=ge(ke),T=he===""?"."+tt(ke,0):he,H(ge)?(ae="",T!=null&&(ae=T.replace(We,"$&/")+"/"),Ot(ge,U,ae,"",function(Tt){return Tt})):ge!=null&&(fe(ge)&&(ge=re(ge,ae+(!ge.key||ke&&ke.key===ge.key?"":(""+ge.key).replace(We,"$&/")+"/")+T)),U.push(ge)),1;if(ke=0,he=he===""?".":he+":",H(T))for(var we=0;we<T.length;we++){ye=T[we];var Oe=he+tt(ye,we);ke+=Ot(ye,U,ae,Oe,ge)}else if(Oe=v(T),typeof Oe=="function")for(T=Oe.call(T),we=0;!(ye=T.next()).done;)ye=ye.value,Oe=he+tt(ye,we++),ke+=Ot(ye,U,ae,Oe,ge);else if(ye==="object")throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return ke}function Dt(T,U,ae){if(T==null)return T;var he=[],ge=0;return Ot(T,he,"","",function(ye){return U.call(ae,ye,ge++)}),he}function gt(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(ae){(T._status===0||T._status===-1)&&(T._status=1,T._result=ae)},function(ae){(T._status===0||T._status===-1)&&(T._status=2,T._result=ae)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var Fe={current:null},V={transition:null},ie={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:V,ReactCurrentOwner:j};function K(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:Dt,forEach:function(T,U,ae){Dt(T,function(){U.apply(this,arguments)},ae)},count:function(T){var U=0;return Dt(T,function(){U++}),U},toArray:function(T){return Dt(T,function(U){return U})||[]},only:function(T){if(!fe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ue.Component=R,ue.Fragment=r,ue.Profiler=l,ue.PureComponent=O,ue.StrictMode=s,ue.Suspense=p,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,ue.act=K,ue.cloneElement=function(T,U,ae){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var he=E({},T.props),ge=T.key,ye=T.ref,ke=T._owner;if(U!=null){if(U.ref!==void 0&&(ye=U.ref,ke=j.current),U.key!==void 0&&(ge=""+U.key),T.type&&T.type.defaultProps)var we=T.type.defaultProps;for(Oe in U)F.call(U,Oe)&&!Y.hasOwnProperty(Oe)&&(he[Oe]=U[Oe]===void 0&&we!==void 0?we[Oe]:U[Oe])}var Oe=arguments.length-2;if(Oe===1)he.children=ae;else if(1<Oe){we=Array(Oe);for(var Tt=0;Tt<Oe;Tt++)we[Tt]=arguments[Tt+2];he.children=we}return{$$typeof:n,type:T.type,key:ge,ref:ye,props:he,_owner:ke}},ue.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:u,_context:T},T.Consumer=T},ue.createElement=ne,ue.createFactory=function(T){var U=ne.bind(null,T);return U.type=T,U},ue.createRef=function(){return{current:null}},ue.forwardRef=function(T){return{$$typeof:h,render:T}},ue.isValidElement=fe,ue.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:gt}},ue.memo=function(T,U){return{$$typeof:m,type:T,compare:U===void 0?null:U}},ue.startTransition=function(T){var U=V.transition;V.transition={};try{T()}finally{V.transition=U}},ue.unstable_act=K,ue.useCallback=function(T,U){return Fe.current.useCallback(T,U)},ue.useContext=function(T){return Fe.current.useContext(T)},ue.useDebugValue=function(){},ue.useDeferredValue=function(T){return Fe.current.useDeferredValue(T)},ue.useEffect=function(T,U){return Fe.current.useEffect(T,U)},ue.useId=function(){return Fe.current.useId()},ue.useImperativeHandle=function(T,U,ae){return Fe.current.useImperativeHandle(T,U,ae)},ue.useInsertionEffect=function(T,U){return Fe.current.useInsertionEffect(T,U)},ue.useLayoutEffect=function(T,U){return Fe.current.useLayoutEffect(T,U)},ue.useMemo=function(T,U){return Fe.current.useMemo(T,U)},ue.useReducer=function(T,U,ae){return Fe.current.useReducer(T,U,ae)},ue.useRef=function(T){return Fe.current.useRef(T)},ue.useState=function(T){return Fe.current.useState(T)},ue.useSyncExternalStore=function(T,U,ae){return Fe.current.useSyncExternalStore(T,U,ae)},ue.useTransition=function(){return Fe.current.useTransition()},ue.version="18.3.1",ue}var Pp;function Bc(){return Pp||(Pp=1,Vu.exports=u0()),Vu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function c0(){if(Ap)return rs;Ap=1;var n=Bc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var y,_={},v=null,S=null;m!==void 0&&(v=""+m),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(S=p.ref);for(y in p)s.call(p,y)&&!u.hasOwnProperty(y)&&(_[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)_[y]===void 0&&(_[y]=p[y]);return{$$typeof:e,type:h,key:v,ref:S,props:_,_owner:l.current}}return rs.Fragment=r,rs.jsx=c,rs.jsxs=c,rs}var Op;function d0(){return Op||(Op=1,qu.exports=c0()),qu.exports}var k=d0(),P=Bc();const f0=Xm(P);var el={},Qu={exports:{}},Ct={},Gu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function h0(){return Dp||(Dp=1,function(n){function e(V,ie){var K=V.length;V.push(ie);e:for(;0<K;){var T=K-1>>>1,U=V[T];if(0<l(U,ie))V[T]=ie,V[K]=U,K=T;else break e}}function r(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var ie=V[0],K=V.pop();if(K!==ie){V[0]=K;e:for(var T=0,U=V.length,ae=U>>>1;T<ae;){var he=2*(T+1)-1,ge=V[he],ye=he+1,ke=V[ye];if(0>l(ge,K))ye<U&&0>l(ke,ge)?(V[T]=ke,V[ye]=K,T=ye):(V[T]=ge,V[he]=K,T=he);else if(ye<U&&0>l(ke,K))V[T]=ke,V[ye]=K,T=ye;else break e}}return ie}function l(V,ie){var K=V.sortIndex-ie.sortIndex;return K!==0?K:V.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,_=null,v=3,S=!1,E=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var ie=r(m);ie!==null;){if(ie.callback===null)s(m);else if(ie.startTime<=V)s(m),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=r(m)}}function H(V){if(I=!1,b(V),!E)if(r(p)!==null)E=!0,gt(F);else{var ie=r(m);ie!==null&&Fe(H,ie.startTime-V)}}function F(V,ie){E=!1,I&&(I=!1,M(ne),ne=-1),S=!0;var K=v;try{for(b(ie),_=r(p);_!==null&&(!(_.expirationTime>ie)||V&&!Se());){var T=_.callback;if(typeof T=="function"){_.callback=null,v=_.priorityLevel;var U=T(_.expirationTime<=ie);ie=n.unstable_now(),typeof U=="function"?_.callback=U:_===r(p)&&s(p),b(ie)}else s(p);_=r(p)}if(_!==null)var ae=!0;else{var he=r(m);he!==null&&Fe(H,he.startTime-ie),ae=!1}return ae}finally{_=null,v=K,S=!1}}var j=!1,Y=null,ne=-1,re=5,fe=-1;function Se(){return!(n.unstable_now()-fe<re)}function We(){if(Y!==null){var V=n.unstable_now();fe=V;var ie=!0;try{ie=Y(!0,V)}finally{ie?tt():(j=!1,Y=null)}}else j=!1}var tt;if(typeof O=="function")tt=function(){O(We)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Dt=Ot.port2;Ot.port1.onmessage=We,tt=function(){Dt.postMessage(null)}}else tt=function(){R(We,0)};function gt(V){Y=V,j||(j=!0,tt())}function Fe(V,ie){ne=R(function(){V(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){E||S||(E=!0,gt(F))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return r(p)},n.unstable_next=function(V){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var K=v;v=ie;try{return V()}finally{v=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,ie){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=v;v=V;try{return ie()}finally{v=K}},n.unstable_scheduleCallback=function(V,ie,K){var T=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?T+K:T):K=T,V){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=K+U,V={id:y++,callback:ie,priorityLevel:V,startTime:K,expirationTime:U,sortIndex:-1},K>T?(V.sortIndex=K,e(m,V),r(p)===null&&V===r(m)&&(I?(M(ne),ne=-1):I=!0,Fe(H,K-T))):(V.sortIndex=U,e(p,V),E||S||(E=!0,gt(F))),V},n.unstable_shouldYield=Se,n.unstable_wrapCallback=function(V){var ie=v;return function(){var K=v;v=ie;try{return V.apply(this,arguments)}finally{v=K}}}}(Ku)),Ku}var Lp;function p0(){return Lp||(Lp=1,Gu.exports=h0()),Gu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function m0(){if(bp)return Ct;bp=1;var n=Bc(),e=p0();function r(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,i){c(t,i),c(t+"Capture",i)}function c(t,i){for(l[t]=i,t=0;t<i.length;t++)s.add(i[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function v(t){return p.call(_,t)?!0:p.call(y,t)?!1:m.test(t)?_[t]=!0:(y[t]=!0,!1)}function S(t,i,o,a){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,i,o,a){if(i===null||typeof i>"u"||S(t,i,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function I(t,i,o,a,d,f,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=i,this.sanitizeURL=f,this.removeEmptyString=g}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){R[t]=new I(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];R[i]=new I(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){R[t]=new I(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){R[t]=new I(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){R[t]=new I(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){R[t]=new I(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){R[t]=new I(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){R[t]=new I(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){R[t]=new I(t,5,!1,t.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function O(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(M,O);R[i]=new I(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(M,O);R[i]=new I(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(M,O);R[i]=new I(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){R[t]=new I(t,1,!1,t.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){R[t]=new I(t,1,!1,t.toLowerCase(),null,!0,!0)});function b(t,i,o,a){var d=R.hasOwnProperty(i)?R[i]:null;(d!==null?d.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,o,d,a)&&(o=null),a||d===null?v(i)&&(o===null?t.removeAttribute(i):t.setAttribute(i,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(i=d.attributeName,a=d.attributeNamespace,o===null?t.removeAttribute(i):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,a?t.setAttributeNS(a,i,o):t.setAttribute(i,o))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),j=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),Se=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),V=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var K=Object.assign,T;function U(t){if(T===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);T=i&&i[1]||""}return`
`+T+t}var ae=!1;function he(t,i){if(!t||ae)return"";ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(D){var a=D}Reflect.construct(t,[],i)}else{try{i.call()}catch(D){a=D}t.call(i.prototype)}else{try{throw Error()}catch(D){a=D}t()}}catch(D){if(D&&a&&typeof D.stack=="string"){for(var d=D.stack.split(`
`),f=a.stack.split(`
`),g=d.length-1,w=f.length-1;1<=g&&0<=w&&d[g]!==f[w];)w--;for(;1<=g&&0<=w;g--,w--)if(d[g]!==f[w]){if(g!==1||w!==1)do if(g--,w--,0>w||d[g]!==f[w]){var C=`
`+d[g].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=g&&0<=w);break}}}finally{ae=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?U(t):""}function ge(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function ye(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case j:return"Portal";case re:return"Profiler";case ne:return"StrictMode";case tt:return"Suspense";case Ot:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Se:return(t.displayName||"Context")+".Consumer";case fe:return(t._context.displayName||"Context")+".Provider";case We:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dt:return i=t.displayName||null,i!==null?i:ye(t.type)||"Memo";case gt:i=t._payload,t=t._init;try{return ye(t(i))}catch{}}return null}function ke(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(i);case 8:return i===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function we(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oe(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Tt(t){var i=Oe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),a=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ws(t){t._valueTracker||(t._valueTracker=Tt(t))}function Ld(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),a="";return t&&(a=Oe(t)?t.checked?"true":"false":t.value),t=a,t!==o?(i.setValue(t),!0):!1}function Hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jl(t,i){var o=i.checked;return K({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function bd(t,i){var o=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;o=we(i.value!=null?i.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Md(t,i){i=i.checked,i!=null&&b(t,"checked",i,!1)}function Zl(t,i){Md(t,i);var o=we(i.value),a=i.type;if(o!=null)a==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?ea(t,i.type,o):i.hasOwnProperty("defaultValue")&&ea(t,i.type,we(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Fd(t,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,o||i===t.value||(t.value=i),t.defaultValue=i}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ea(t,i,o){(i!=="number"||Hs(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var _i=Array.isArray;function Nr(t,i,o,a){if(t=t.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=i.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&a&&(t[o].defaultSelected=!0)}else{for(o=""+we(o),i=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,a&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function ta(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jd(t,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(r(92));if(_i(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),o=i}t._wrapperState={initialValue:we(o)}}function zd(t,i){var o=we(i.value),a=we(i.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),i.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),a!=null&&(t.defaultValue=""+a)}function Ud(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Bd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Bd(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qs,$d=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,a,d){MSApp.execUnsafeLocalFunction(function(){return t(i,o,a,d)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=qs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function vi(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h_=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(t){h_.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),wi[i]=wi[t]})});function Wd(t,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||wi.hasOwnProperty(t)&&wi[t]?(""+i).trim():i+"px"}function Hd(t,i){t=t.style;for(var o in i)if(i.hasOwnProperty(o)){var a=o.indexOf("--")===0,d=Wd(o,i[o],a);o==="float"&&(o="cssFloat"),a?t.setProperty(o,d):t[o]=d}}var p_=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(t,i){if(i){if(p_[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function ia(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function oa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,Ir=null,Pr=null;function qd(t){if(t=$i(t)){if(typeof la!="function")throw Error(r(280));var i=t.stateNode;i&&(i=mo(i),la(t.stateNode,t.type,i))}}function Vd(t){Ir?Pr?Pr.push(t):Pr=[t]:Ir=t}function Qd(){if(Ir){var t=Ir,i=Pr;if(Pr=Ir=null,qd(t),i)for(t=0;t<i.length;t++)qd(i[t])}}function Gd(t,i){return t(i)}function Kd(){}var aa=!1;function Yd(t,i,o){if(aa)return t(i,o);aa=!0;try{return Gd(t,i,o)}finally{aa=!1,(Ir!==null||Pr!==null)&&(Kd(),Qd())}}function Ei(t,i){var o=t.stateNode;if(o===null)return null;var a=mo(o);if(a===null)return null;o=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var ua=!1;if(h)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){ua=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{ua=!1}function m_(t,i,o,a,d,f,g,w,C){var D=Array.prototype.slice.call(arguments,3);try{i.apply(o,D)}catch(B){this.onError(B)}}var Si=!1,Vs=null,Qs=!1,ca=null,g_={onError:function(t){Si=!0,Vs=t}};function y_(t,i,o,a,d,f,g,w,C){Si=!1,Vs=null,m_.apply(g_,arguments)}function __(t,i,o,a,d,f,g,w,C){if(y_.apply(this,arguments),Si){if(Si){var D=Vs;Si=!1,Vs=null}else throw Error(r(198));Qs||(Qs=!0,ca=D)}}function rr(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function Xd(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Jd(t){if(rr(t)!==t)throw Error(r(188))}function v_(t){var i=t.alternate;if(!i){if(i=rr(t),i===null)throw Error(r(188));return i!==t?null:t}for(var o=t,a=i;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(a=d.return,a!==null){o=a;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return Jd(d),t;if(f===a)return Jd(d),i;f=f.sibling}throw Error(r(188))}if(o.return!==a.return)o=d,a=f;else{for(var g=!1,w=d.child;w;){if(w===o){g=!0,o=d,a=f;break}if(w===a){g=!0,a=d,o=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===o){g=!0,o=f,a=d;break}if(w===a){g=!0,a=f,o=d;break}w=w.sibling}if(!g)throw Error(r(189))}}if(o.alternate!==a)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:i}function Zd(t){return t=v_(t),t!==null?ef(t):null}function ef(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=ef(t);if(i!==null)return i;t=t.sibling}return null}var tf=e.unstable_scheduleCallback,nf=e.unstable_cancelCallback,w_=e.unstable_shouldYield,E_=e.unstable_requestPaint,Be=e.unstable_now,C_=e.unstable_getCurrentPriorityLevel,da=e.unstable_ImmediatePriority,rf=e.unstable_UserBlockingPriority,Gs=e.unstable_NormalPriority,S_=e.unstable_LowPriority,sf=e.unstable_IdlePriority,Ks=null,rn=null;function x_(t){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ks,t,void 0,(t.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:R_,k_=Math.log,T_=Math.LN2;function R_(t){return t>>>=0,t===0?32:31-(k_(t)/T_|0)|0}var Ys=64,Xs=4194304;function xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Js(t,i){var o=t.pendingLanes;if(o===0)return 0;var a=0,d=t.suspendedLanes,f=t.pingedLanes,g=o&268435455;if(g!==0){var w=g&~d;w!==0?a=xi(w):(f&=g,f!==0&&(a=xi(f)))}else g=o&~d,g!==0?a=xi(g):f!==0&&(a=xi(f));if(a===0)return 0;if(i!==0&&i!==a&&!(i&d)&&(d=a&-a,f=i&-i,d>=f||d===16&&(f&4194240)!==0))return i;if(a&4&&(a|=o&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=a;0<i;)o=31-Ht(i),d=1<<o,a|=t[o],i&=~d;return a}function N_(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I_(t,i){for(var o=t.suspendedLanes,a=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes;0<f;){var g=31-Ht(f),w=1<<g,C=d[g];C===-1?(!(w&o)||w&a)&&(d[g]=N_(w,i)):C<=i&&(t.expiredLanes|=w),f&=~w}}function fa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function of(){var t=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),t}function ha(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function ki(t,i,o){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Ht(i),t[i]=o}function P_(t,i){var o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Ht(o),f=1<<d;i[d]=0,a[d]=-1,t[d]=-1,o&=~f}}function pa(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var a=31-Ht(o),d=1<<a;d&i|t[a]&i&&(t[a]|=i),o&=~d}}var Ee=0;function lf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var af,ma,uf,cf,df,ga=!1,Zs=[],Nn=null,In=null,Pn=null,Ti=new Map,Ri=new Map,An=[],A_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ff(t,i){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Ti.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(i.pointerId)}}function Ni(t,i,o,a,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:o,eventSystemFlags:a,nativeEvent:f,targetContainers:[d]},i!==null&&(i=$i(i),i!==null&&ma(i)),t):(t.eventSystemFlags|=a,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function O_(t,i,o,a,d){switch(i){case"focusin":return Nn=Ni(Nn,t,i,o,a,d),!0;case"dragenter":return In=Ni(In,t,i,o,a,d),!0;case"mouseover":return Pn=Ni(Pn,t,i,o,a,d),!0;case"pointerover":var f=d.pointerId;return Ti.set(f,Ni(Ti.get(f)||null,t,i,o,a,d)),!0;case"gotpointercapture":return f=d.pointerId,Ri.set(f,Ni(Ri.get(f)||null,t,i,o,a,d)),!0}return!1}function hf(t){var i=ir(t.target);if(i!==null){var o=rr(i);if(o!==null){if(i=o.tag,i===13){if(i=Xd(o),i!==null){t.blockedOn=i,df(t.priority,function(){uf(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eo(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=_a(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var a=new o.constructor(o.type,o);sa=a,o.target.dispatchEvent(a),sa=null}else return i=$i(o),i!==null&&ma(i),t.blockedOn=o,!1;i.shift()}return!0}function pf(t,i,o){eo(t)&&o.delete(i)}function D_(){ga=!1,Nn!==null&&eo(Nn)&&(Nn=null),In!==null&&eo(In)&&(In=null),Pn!==null&&eo(Pn)&&(Pn=null),Ti.forEach(pf),Ri.forEach(pf)}function Ii(t,i){t.blockedOn===i&&(t.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,D_)))}function Pi(t){function i(d){return Ii(d,t)}if(0<Zs.length){Ii(Zs[0],t);for(var o=1;o<Zs.length;o++){var a=Zs[o];a.blockedOn===t&&(a.blockedOn=null)}}for(Nn!==null&&Ii(Nn,t),In!==null&&Ii(In,t),Pn!==null&&Ii(Pn,t),Ti.forEach(i),Ri.forEach(i),o=0;o<An.length;o++)a=An[o],a.blockedOn===t&&(a.blockedOn=null);for(;0<An.length&&(o=An[0],o.blockedOn===null);)hf(o),o.blockedOn===null&&An.shift()}var Ar=H.ReactCurrentBatchConfig,to=!0;function L_(t,i,o,a){var d=Ee,f=Ar.transition;Ar.transition=null;try{Ee=1,ya(t,i,o,a)}finally{Ee=d,Ar.transition=f}}function b_(t,i,o,a){var d=Ee,f=Ar.transition;Ar.transition=null;try{Ee=4,ya(t,i,o,a)}finally{Ee=d,Ar.transition=f}}function ya(t,i,o,a){if(to){var d=_a(t,i,o,a);if(d===null)ba(t,i,a,no,o),ff(t,a);else if(O_(d,t,i,o,a))a.stopPropagation();else if(ff(t,a),i&4&&-1<A_.indexOf(t)){for(;d!==null;){var f=$i(d);if(f!==null&&af(f),f=_a(t,i,o,a),f===null&&ba(t,i,a,no,o),f===d)break;d=f}d!==null&&a.stopPropagation()}else ba(t,i,a,null,o)}}var no=null;function _a(t,i,o,a){if(no=null,t=oa(a),t=ir(t),t!==null)if(i=rr(t),i===null)t=null;else if(o=i.tag,o===13){if(t=Xd(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return no=t,null}function mf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C_()){case da:return 1;case rf:return 4;case Gs:case S_:return 16;case sf:return 536870912;default:return 16}default:return 16}}var On=null,va=null,ro=null;function gf(){if(ro)return ro;var t,i=va,o=i.length,a,d="value"in On?On.value:On.textContent,f=d.length;for(t=0;t<o&&i[t]===d[t];t++);var g=o-t;for(a=1;a<=g&&i[o-a]===d[f-a];a++);return ro=d.slice(t,1<a?1-a:void 0)}function io(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function yf(){return!1}function Rt(t){function i(o,a,d,f,g){this._reactName=o,this._targetInst=d,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?so:yf,this.isPropagationStopped=yf,this}return K(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),i}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Rt(Or),Ai=K({},Or,{view:0,detail:0}),M_=Rt(Ai),Ea,Ca,Oi,oo=K({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Ea=t.screenX-Oi.screenX,Ca=t.screenY-Oi.screenY):Ca=Ea=0,Oi=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),_f=Rt(oo),F_=K({},oo,{dataTransfer:0}),j_=Rt(F_),z_=K({},Ai,{relatedTarget:0}),Sa=Rt(z_),U_=K({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),B_=Rt(U_),$_=K({},Or,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W_=Rt($_),H_=K({},Or,{data:0}),vf=Rt(H_),q_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G_(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Q_[t])?!!i[t]:!1}function xa(){return G_}var K_=K({},Ai,{key:function(t){if(t.key){var i=q_[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=io(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(t){return t.type==="keypress"?io(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?io(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y_=Rt(K_),X_=K({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=Rt(X_),J_=K({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Z_=Rt(J_),ev=K({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=Rt(ev),nv=K({},oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rv=Rt(nv),iv=[9,13,27,32],ka=h&&"CompositionEvent"in window,Di=null;h&&"documentMode"in document&&(Di=document.documentMode);var sv=h&&"TextEvent"in window&&!Di,Ef=h&&(!ka||Di&&8<Di&&11>=Di),Cf=" ",Sf=!1;function xf(t,i){switch(t){case"keyup":return iv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function ov(t,i){switch(t){case"compositionend":return kf(i);case"keypress":return i.which!==32?null:(Sf=!0,Cf);case"textInput":return t=i.data,t===Cf&&Sf?null:t;default:return null}}function lv(t,i){if(Dr)return t==="compositionend"||!ka&&xf(t,i)?(t=gf(),ro=va=On=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ef&&i.locale!=="ko"?null:i.data;default:return null}}var av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!av[t.type]:i==="textarea"}function Rf(t,i,o,a){Vd(a),i=fo(i,"onChange"),0<i.length&&(o=new wa("onChange","change",null,o,a),t.push({event:o,listeners:i}))}var Li=null,bi=null;function uv(t){qf(t,0)}function lo(t){var i=jr(t);if(Ld(i))return t}function cv(t,i){if(t==="change")return i}var Nf=!1;if(h){var Ta;if(h){var Ra="oninput"in document;if(!Ra){var If=document.createElement("div");If.setAttribute("oninput","return;"),Ra=typeof If.oninput=="function"}Ta=Ra}else Ta=!1;Nf=Ta&&(!document.documentMode||9<document.documentMode)}function Pf(){Li&&(Li.detachEvent("onpropertychange",Af),bi=Li=null)}function Af(t){if(t.propertyName==="value"&&lo(bi)){var i=[];Rf(i,bi,t,oa(t)),Yd(uv,i)}}function dv(t,i,o){t==="focusin"?(Pf(),Li=i,bi=o,Li.attachEvent("onpropertychange",Af)):t==="focusout"&&Pf()}function fv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lo(bi)}function hv(t,i){if(t==="click")return lo(i)}function pv(t,i){if(t==="input"||t==="change")return lo(i)}function mv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var qt=typeof Object.is=="function"?Object.is:mv;function Mi(t,i){if(qt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),a=Object.keys(i);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var d=o[a];if(!p.call(i,d)||!qt(t[d],i[d]))return!1}return!0}function Of(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Df(t,i){var o=Of(t);t=0;for(var a;o;){if(o.nodeType===3){if(a=t+o.textContent.length,t<=i&&a>=i)return{node:o,offset:i-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Of(o)}}function Lf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bf(){for(var t=window,i=Hs();i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=Hs(t.document)}return i}function Na(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function gv(t){var i=bf(),o=t.focusedElem,a=t.selectionRange;if(i!==o&&o&&o.ownerDocument&&Lf(o.ownerDocument.documentElement,o)){if(a!==null&&Na(o)){if(i=a.start,t=a.end,t===void 0&&(t=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(t,o.value.length);else if(t=(i=o.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,f=Math.min(a.start,d);a=a.end===void 0?f:Math.min(a.end,d),!t.extend&&f>a&&(d=a,a=f,f=d),d=Df(o,f);var g=Df(o,a);d&&g&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==g.node||t.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),t.removeAllRanges(),f>a?(t.addRange(i),t.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),t.addRange(i)))}}for(i=[],t=o;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)t=i[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yv=h&&"documentMode"in document&&11>=document.documentMode,Lr=null,Ia=null,Fi=null,Pa=!1;function Mf(t,i,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pa||Lr==null||Lr!==Hs(a)||(a=Lr,"selectionStart"in a&&Na(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Fi&&Mi(Fi,a)||(Fi=a,a=fo(Ia,"onSelect"),0<a.length&&(i=new wa("onSelect","select",null,i,o),t.push({event:i,listeners:a}),i.target=Lr)))}function ao(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var br={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},Aa={},Ff={};h&&(Ff=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function uo(t){if(Aa[t])return Aa[t];if(!br[t])return t;var i=br[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ff)return Aa[t]=i[o];return t}var jf=uo("animationend"),zf=uo("animationiteration"),Uf=uo("animationstart"),Bf=uo("transitionend"),$f=new Map,Wf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(t,i){$f.set(t,i),u(i,[t])}for(var Oa=0;Oa<Wf.length;Oa++){var Da=Wf[Oa],_v=Da.toLowerCase(),vv=Da[0].toUpperCase()+Da.slice(1);Dn(_v,"on"+vv)}Dn(jf,"onAnimationEnd"),Dn(zf,"onAnimationIteration"),Dn(Uf,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Bf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function Hf(t,i,o){var a=t.type||"unknown-event";t.currentTarget=o,__(a,i,void 0,t),t.currentTarget=null}function qf(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var a=t[o],d=a.event;a=a.listeners;e:{var f=void 0;if(i)for(var g=a.length-1;0<=g;g--){var w=a[g],C=w.instance,D=w.currentTarget;if(w=w.listener,C!==f&&d.isPropagationStopped())break e;Hf(d,w,D),f=C}else for(g=0;g<a.length;g++){if(w=a[g],C=w.instance,D=w.currentTarget,w=w.listener,C!==f&&d.isPropagationStopped())break e;Hf(d,w,D),f=C}}}if(Qs)throw t=ca,Qs=!1,ca=null,t}function Pe(t,i){var o=i[Ba];o===void 0&&(o=i[Ba]=new Set);var a=t+"__bubble";o.has(a)||(Vf(i,t,2,!1),o.add(a))}function La(t,i,o){var a=0;i&&(a|=4),Vf(o,t,a,i)}var co="_reactListening"+Math.random().toString(36).slice(2);function zi(t){if(!t[co]){t[co]=!0,s.forEach(function(o){o!=="selectionchange"&&(wv.has(o)||La(o,!1,t),La(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[co]||(i[co]=!0,La("selectionchange",!1,i))}}function Vf(t,i,o,a){switch(mf(i)){case 1:var d=L_;break;case 4:d=b_;break;default:d=ya}o=d.bind(null,i,o,t),d=void 0,!ua||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),a?d!==void 0?t.addEventListener(i,o,{capture:!0,passive:d}):t.addEventListener(i,o,!0):d!==void 0?t.addEventListener(i,o,{passive:d}):t.addEventListener(i,o,!1)}function ba(t,i,o,a,d){var f=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var w=a.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(g===4)for(g=a.return;g!==null;){var C=g.tag;if((C===3||C===4)&&(C=g.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;g=g.return}for(;w!==null;){if(g=ir(w),g===null)return;if(C=g.tag,C===5||C===6){a=f=g;continue e}w=w.parentNode}}a=a.return}Yd(function(){var D=f,B=oa(o),$=[];e:{var z=$f.get(t);if(z!==void 0){var Q=wa,X=t;switch(t){case"keypress":if(io(o)===0)break e;case"keydown":case"keyup":Q=Y_;break;case"focusin":X="focus",Q=Sa;break;case"focusout":X="blur",Q=Sa;break;case"beforeblur":case"afterblur":Q=Sa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=j_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Z_;break;case jf:case zf:case Uf:Q=B_;break;case Bf:Q=tv;break;case"scroll":Q=M_;break;case"wheel":Q=rv;break;case"copy":case"cut":case"paste":Q=W_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=wf}var J=(i&4)!==0,$e=!J&&t==="scroll",N=J?z!==null?z+"Capture":null:z;J=[];for(var x=D,A;x!==null;){A=x;var W=A.stateNode;if(A.tag===5&&W!==null&&(A=W,N!==null&&(W=Ei(x,N),W!=null&&J.push(Ui(x,W,A)))),$e)break;x=x.return}0<J.length&&(z=new Q(z,X,null,o,B),$.push({event:z,listeners:J}))}}if(!(i&7)){e:{if(z=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",z&&o!==sa&&(X=o.relatedTarget||o.fromElement)&&(ir(X)||X[hn]))break e;if((Q||z)&&(z=B.window===B?B:(z=B.ownerDocument)?z.defaultView||z.parentWindow:window,Q?(X=o.relatedTarget||o.toElement,Q=D,X=X?ir(X):null,X!==null&&($e=rr(X),X!==$e||X.tag!==5&&X.tag!==6)&&(X=null)):(Q=null,X=D),Q!==X)){if(J=_f,W="onMouseLeave",N="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(J=wf,W="onPointerLeave",N="onPointerEnter",x="pointer"),$e=Q==null?z:jr(Q),A=X==null?z:jr(X),z=new J(W,x+"leave",Q,o,B),z.target=$e,z.relatedTarget=A,W=null,ir(B)===D&&(J=new J(N,x+"enter",X,o,B),J.target=A,J.relatedTarget=$e,W=J),$e=W,Q&&X)t:{for(J=Q,N=X,x=0,A=J;A;A=Mr(A))x++;for(A=0,W=N;W;W=Mr(W))A++;for(;0<x-A;)J=Mr(J),x--;for(;0<A-x;)N=Mr(N),A--;for(;x--;){if(J===N||N!==null&&J===N.alternate)break t;J=Mr(J),N=Mr(N)}J=null}else J=null;Q!==null&&Qf($,z,Q,J,!1),X!==null&&$e!==null&&Qf($,$e,X,J,!0)}}e:{if(z=D?jr(D):window,Q=z.nodeName&&z.nodeName.toLowerCase(),Q==="select"||Q==="input"&&z.type==="file")var Z=cv;else if(Tf(z))if(Nf)Z=pv;else{Z=fv;var ee=dv}else(Q=z.nodeName)&&Q.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(Z=hv);if(Z&&(Z=Z(t,D))){Rf($,Z,o,B);break e}ee&&ee(t,z,D),t==="focusout"&&(ee=z._wrapperState)&&ee.controlled&&z.type==="number"&&ea(z,"number",z.value)}switch(ee=D?jr(D):window,t){case"focusin":(Tf(ee)||ee.contentEditable==="true")&&(Lr=ee,Ia=D,Fi=null);break;case"focusout":Fi=Ia=Lr=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Mf($,o,B);break;case"selectionchange":if(yv)break;case"keydown":case"keyup":Mf($,o,B)}var te;if(ka)e:{switch(t){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else Dr?xf(t,o)&&(oe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(oe="onCompositionStart");oe&&(Ef&&o.locale!=="ko"&&(Dr||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&Dr&&(te=gf()):(On=B,va="value"in On?On.value:On.textContent,Dr=!0)),ee=fo(D,oe),0<ee.length&&(oe=new vf(oe,t,null,o,B),$.push({event:oe,listeners:ee}),te?oe.data=te:(te=kf(o),te!==null&&(oe.data=te)))),(te=sv?ov(t,o):lv(t,o))&&(D=fo(D,"onBeforeInput"),0<D.length&&(B=new vf("onBeforeInput","beforeinput",null,o,B),$.push({event:B,listeners:D}),B.data=te))}qf($,i)})}function Ui(t,i,o){return{instance:t,listener:i,currentTarget:o}}function fo(t,i){for(var o=i+"Capture",a=[];t!==null;){var d=t,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Ei(t,o),f!=null&&a.unshift(Ui(t,f,d)),f=Ei(t,i),f!=null&&a.push(Ui(t,f,d))),t=t.return}return a}function Mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qf(t,i,o,a,d){for(var f=i._reactName,g=[];o!==null&&o!==a;){var w=o,C=w.alternate,D=w.stateNode;if(C!==null&&C===a)break;w.tag===5&&D!==null&&(w=D,d?(C=Ei(o,f),C!=null&&g.unshift(Ui(o,C,w))):d||(C=Ei(o,f),C!=null&&g.push(Ui(o,C,w)))),o=o.return}g.length!==0&&t.push({event:i,listeners:g})}var Ev=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function Gf(t){return(typeof t=="string"?t:""+t).replace(Ev,`
`).replace(Cv,"")}function ho(t,i,o){if(i=Gf(i),Gf(t)!==i&&o)throw Error(r(425))}function po(){}var Ma=null,Fa=null;function ja(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(t){return Kf.resolve(null).then(t).catch(kv)}:za;function kv(t){setTimeout(function(){throw t})}function Ua(t,i){var o=i,a=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(a===0){t.removeChild(d),Pi(i);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=d}while(o);Pi(i)}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Yf(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),sn="__reactFiber$"+Fr,Bi="__reactProps$"+Fr,hn="__reactContainer$"+Fr,Ba="__reactEvents$"+Fr,Tv="__reactListeners$"+Fr,Rv="__reactHandles$"+Fr;function ir(t){var i=t[sn];if(i)return i;for(var o=t.parentNode;o;){if(i=o[hn]||o[sn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Yf(t);t!==null;){if(o=t[sn])return o;t=Yf(t)}return i}t=o,o=t.parentNode}return null}function $i(t){return t=t[sn]||t[hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function mo(t){return t[Bi]||null}var $a=[],zr=-1;function bn(t){return{current:t}}function Ae(t){0>zr||(t.current=$a[zr],$a[zr]=null,zr--)}function Te(t,i){zr++,$a[zr]=t.current,t.current=i}var Mn={},ot=bn(Mn),yt=bn(!1),sr=Mn;function Ur(t,i){var o=t.type.contextTypes;if(!o)return Mn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=i[f];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=d),d}function _t(t){return t=t.childContextTypes,t!=null}function go(){Ae(yt),Ae(ot)}function Xf(t,i,o){if(ot.current!==Mn)throw Error(r(168));Te(ot,i),Te(yt,o)}function Jf(t,i,o){var a=t.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var d in a)if(!(d in i))throw Error(r(108,ke(t)||"Unknown",d));return K({},o,a)}function yo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,sr=ot.current,Te(ot,t),Te(yt,yt.current),!0}function Zf(t,i,o){var a=t.stateNode;if(!a)throw Error(r(169));o?(t=Jf(t,i,sr),a.__reactInternalMemoizedMergedChildContext=t,Ae(yt),Ae(ot),Te(ot,t)):Ae(yt),Te(yt,o)}var pn=null,_o=!1,Wa=!1;function eh(t){pn===null?pn=[t]:pn.push(t)}function Nv(t){_o=!0,eh(t)}function Fn(){if(!Wa&&pn!==null){Wa=!0;var t=0,i=Ee;try{var o=pn;for(Ee=1;t<o.length;t++){var a=o[t];do a=a(!0);while(a!==null)}pn=null,_o=!1}catch(d){throw pn!==null&&(pn=pn.slice(t+1)),tf(da,Fn),d}finally{Ee=i,Wa=!1}}return null}var Br=[],$r=0,vo=null,wo=0,Lt=[],bt=0,or=null,mn=1,gn="";function lr(t,i){Br[$r++]=wo,Br[$r++]=vo,vo=t,wo=i}function th(t,i,o){Lt[bt++]=mn,Lt[bt++]=gn,Lt[bt++]=or,or=t;var a=mn;t=gn;var d=32-Ht(a)-1;a&=~(1<<d),o+=1;var f=32-Ht(i)+d;if(30<f){var g=d-d%5;f=(a&(1<<g)-1).toString(32),a>>=g,d-=g,mn=1<<32-Ht(i)+d|o<<d|a,gn=f+t}else mn=1<<f|o<<d|a,gn=t}function Ha(t){t.return!==null&&(lr(t,1),th(t,1,0))}function qa(t){for(;t===vo;)vo=Br[--$r],Br[$r]=null,wo=Br[--$r],Br[$r]=null;for(;t===or;)or=Lt[--bt],Lt[bt]=null,gn=Lt[--bt],Lt[bt]=null,mn=Lt[--bt],Lt[bt]=null}var Nt=null,It=null,De=!1,Vt=null;function nh(t,i){var o=zt(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=t,i=t.deletions,i===null?(t.deletions=[o],t.flags|=16):i.push(o)}function rh(t,i){switch(t.tag){case 5:var o=t.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Nt=t,It=Ln(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Nt=t,It=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=or!==null?{id:mn,overflow:gn}:null,t.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=zt(18,null,null,0),o.stateNode=i,o.return=t,t.child=o,Nt=t,It=null,!0):!1;default:return!1}}function Va(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qa(t){if(De){var i=It;if(i){var o=i;if(!rh(t,i)){if(Va(t))throw Error(r(418));i=Ln(o.nextSibling);var a=Nt;i&&rh(t,i)?nh(a,o):(t.flags=t.flags&-4097|2,De=!1,Nt=t)}}else{if(Va(t))throw Error(r(418));t.flags=t.flags&-4097|2,De=!1,Nt=t}}}function ih(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function Eo(t){if(t!==Nt)return!1;if(!De)return ih(t),De=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!ja(t.type,t.memoizedProps)),i&&(i=It)){if(Va(t))throw sh(),Error(r(418));for(;i;)nh(t,i),i=Ln(i.nextSibling)}if(ih(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(i===0){It=Ln(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}t=t.nextSibling}It=null}}else It=Nt?Ln(t.stateNode.nextSibling):null;return!0}function sh(){for(var t=It;t;)t=Ln(t.nextSibling)}function Wr(){It=Nt=null,De=!1}function Ga(t){Vt===null?Vt=[t]:Vt.push(t)}var Iv=H.ReactCurrentBatchConfig;function Wi(t,i,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var a=o.stateNode}if(!a)throw Error(r(147,t));var d=a,f=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(g){var w=d.refs;g===null?delete w[f]:w[f]=g},i._stringRef=f,i)}if(typeof t!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,t))}return t}function Co(t,i){throw t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function oh(t){var i=t._init;return i(t._payload)}function lh(t){function i(N,x){if(t){var A=N.deletions;A===null?(N.deletions=[x],N.flags|=16):A.push(x)}}function o(N,x){if(!t)return null;for(;x!==null;)i(N,x),x=x.sibling;return null}function a(N,x){for(N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function d(N,x){return N=qn(N,x),N.index=0,N.sibling=null,N}function f(N,x,A){return N.index=A,t?(A=N.alternate,A!==null?(A=A.index,A<x?(N.flags|=2,x):A):(N.flags|=2,x)):(N.flags|=1048576,x)}function g(N){return t&&N.alternate===null&&(N.flags|=2),N}function w(N,x,A,W){return x===null||x.tag!==6?(x=zu(A,N.mode,W),x.return=N,x):(x=d(x,A),x.return=N,x)}function C(N,x,A,W){var Z=A.type;return Z===Y?B(N,x,A.props.children,W,A.key):x!==null&&(x.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===gt&&oh(Z)===x.type)?(W=d(x,A.props),W.ref=Wi(N,x,A),W.return=N,W):(W=Vo(A.type,A.key,A.props,null,N.mode,W),W.ref=Wi(N,x,A),W.return=N,W)}function D(N,x,A,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=Uu(A,N.mode,W),x.return=N,x):(x=d(x,A.children||[]),x.return=N,x)}function B(N,x,A,W,Z){return x===null||x.tag!==7?(x=mr(A,N.mode,W,Z),x.return=N,x):(x=d(x,A),x.return=N,x)}function $(N,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return x=zu(""+x,N.mode,A),x.return=N,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F:return A=Vo(x.type,x.key,x.props,null,N.mode,A),A.ref=Wi(N,null,x),A.return=N,A;case j:return x=Uu(x,N.mode,A),x.return=N,x;case gt:var W=x._init;return $(N,W(x._payload),A)}if(_i(x)||ie(x))return x=mr(x,N.mode,A,null),x.return=N,x;Co(N,x)}return null}function z(N,x,A,W){var Z=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return Z!==null?null:w(N,x,""+A,W);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case F:return A.key===Z?C(N,x,A,W):null;case j:return A.key===Z?D(N,x,A,W):null;case gt:return Z=A._init,z(N,x,Z(A._payload),W)}if(_i(A)||ie(A))return Z!==null?null:B(N,x,A,W,null);Co(N,A)}return null}function Q(N,x,A,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return N=N.get(A)||null,w(x,N,""+W,Z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return N=N.get(W.key===null?A:W.key)||null,C(x,N,W,Z);case j:return N=N.get(W.key===null?A:W.key)||null,D(x,N,W,Z);case gt:var ee=W._init;return Q(N,x,A,ee(W._payload),Z)}if(_i(W)||ie(W))return N=N.get(A)||null,B(x,N,W,Z,null);Co(x,W)}return null}function X(N,x,A,W){for(var Z=null,ee=null,te=x,oe=x=0,Je=null;te!==null&&oe<A.length;oe++){te.index>oe?(Je=te,te=null):Je=te.sibling;var _e=z(N,te,A[oe],W);if(_e===null){te===null&&(te=Je);break}t&&te&&_e.alternate===null&&i(N,te),x=f(_e,x,oe),ee===null?Z=_e:ee.sibling=_e,ee=_e,te=Je}if(oe===A.length)return o(N,te),De&&lr(N,oe),Z;if(te===null){for(;oe<A.length;oe++)te=$(N,A[oe],W),te!==null&&(x=f(te,x,oe),ee===null?Z=te:ee.sibling=te,ee=te);return De&&lr(N,oe),Z}for(te=a(N,te);oe<A.length;oe++)Je=Q(te,N,oe,A[oe],W),Je!==null&&(t&&Je.alternate!==null&&te.delete(Je.key===null?oe:Je.key),x=f(Je,x,oe),ee===null?Z=Je:ee.sibling=Je,ee=Je);return t&&te.forEach(function(Vn){return i(N,Vn)}),De&&lr(N,oe),Z}function J(N,x,A,W){var Z=ie(A);if(typeof Z!="function")throw Error(r(150));if(A=Z.call(A),A==null)throw Error(r(151));for(var ee=Z=null,te=x,oe=x=0,Je=null,_e=A.next();te!==null&&!_e.done;oe++,_e=A.next()){te.index>oe?(Je=te,te=null):Je=te.sibling;var Vn=z(N,te,_e.value,W);if(Vn===null){te===null&&(te=Je);break}t&&te&&Vn.alternate===null&&i(N,te),x=f(Vn,x,oe),ee===null?Z=Vn:ee.sibling=Vn,ee=Vn,te=Je}if(_e.done)return o(N,te),De&&lr(N,oe),Z;if(te===null){for(;!_e.done;oe++,_e=A.next())_e=$(N,_e.value,W),_e!==null&&(x=f(_e,x,oe),ee===null?Z=_e:ee.sibling=_e,ee=_e);return De&&lr(N,oe),Z}for(te=a(N,te);!_e.done;oe++,_e=A.next())_e=Q(te,N,oe,_e.value,W),_e!==null&&(t&&_e.alternate!==null&&te.delete(_e.key===null?oe:_e.key),x=f(_e,x,oe),ee===null?Z=_e:ee.sibling=_e,ee=_e);return t&&te.forEach(function(a0){return i(N,a0)}),De&&lr(N,oe),Z}function $e(N,x,A,W){if(typeof A=="object"&&A!==null&&A.type===Y&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case F:e:{for(var Z=A.key,ee=x;ee!==null;){if(ee.key===Z){if(Z=A.type,Z===Y){if(ee.tag===7){o(N,ee.sibling),x=d(ee,A.props.children),x.return=N,N=x;break e}}else if(ee.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===gt&&oh(Z)===ee.type){o(N,ee.sibling),x=d(ee,A.props),x.ref=Wi(N,ee,A),x.return=N,N=x;break e}o(N,ee);break}else i(N,ee);ee=ee.sibling}A.type===Y?(x=mr(A.props.children,N.mode,W,A.key),x.return=N,N=x):(W=Vo(A.type,A.key,A.props,null,N.mode,W),W.ref=Wi(N,x,A),W.return=N,N=W)}return g(N);case j:e:{for(ee=A.key;x!==null;){if(x.key===ee)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){o(N,x.sibling),x=d(x,A.children||[]),x.return=N,N=x;break e}else{o(N,x);break}else i(N,x);x=x.sibling}x=Uu(A,N.mode,W),x.return=N,N=x}return g(N);case gt:return ee=A._init,$e(N,x,ee(A._payload),W)}if(_i(A))return X(N,x,A,W);if(ie(A))return J(N,x,A,W);Co(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,x!==null&&x.tag===6?(o(N,x.sibling),x=d(x,A),x.return=N,N=x):(o(N,x),x=zu(A,N.mode,W),x.return=N,N=x),g(N)):o(N,x)}return $e}var Hr=lh(!0),ah=lh(!1),So=bn(null),xo=null,qr=null,Ka=null;function Ya(){Ka=qr=xo=null}function Xa(t){var i=So.current;Ae(So),t._currentValue=i}function Ja(t,i,o){for(;t!==null;){var a=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),t===o)break;t=t.return}}function Vr(t,i){xo=t,Ka=qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(vt=!0),t.firstContext=null)}function Mt(t){var i=t._currentValue;if(Ka!==t)if(t={context:t,memoizedValue:i,next:null},qr===null){if(xo===null)throw Error(r(308));qr=t,xo.dependencies={lanes:0,firstContext:t}}else qr=qr.next=t;return i}var ar=null;function Za(t){ar===null?ar=[t]:ar.push(t)}function uh(t,i,o,a){var d=i.interleaved;return d===null?(o.next=o,Za(i)):(o.next=d.next,d.next=o),i.interleaved=o,yn(t,a)}function yn(t,i){t.lanes|=i;var o=t.alternate;for(o!==null&&(o.lanes|=i),o=t,t=t.return;t!==null;)t.childLanes|=i,o=t.alternate,o!==null&&(o.childLanes|=i),o=t,t=t.return;return o.tag===3?o.stateNode:null}var jn=!1;function eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ch(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _n(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function zn(t,i,o){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,me&2){var d=a.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),a.pending=i,yn(t,o)}return d=a.interleaved,d===null?(i.next=i,Za(a)):(i.next=d.next,d.next=i),a.interleaved=i,yn(t,o)}function ko(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var a=i.lanes;a&=t.pendingLanes,o|=a,i.lanes=o,pa(t,o)}}function dh(t,i){var o=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var g={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=g:f=f.next=g,o=o.next}while(o!==null);f===null?d=f=i:f=f.next=i}else d=f=i;o={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:a.shared,effects:a.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}function To(t,i,o,a){var d=t.updateQueue;jn=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var C=w,D=C.next;C.next=null,g===null?f=D:g.next=D,g=C;var B=t.alternate;B!==null&&(B=B.updateQueue,w=B.lastBaseUpdate,w!==g&&(w===null?B.firstBaseUpdate=D:w.next=D,B.lastBaseUpdate=C))}if(f!==null){var $=d.baseState;g=0,B=D=C=null,w=f;do{var z=w.lane,Q=w.eventTime;if((a&z)===z){B!==null&&(B=B.next={eventTime:Q,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var X=t,J=w;switch(z=i,Q=o,J.tag){case 1:if(X=J.payload,typeof X=="function"){$=X.call(Q,$,z);break e}$=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=J.payload,z=typeof X=="function"?X.call(Q,$,z):X,z==null)break e;$=K({},$,z);break e;case 2:jn=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,z=d.effects,z===null?d.effects=[w]:z.push(w))}else Q={eventTime:Q,lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},B===null?(D=B=Q,C=$):B=B.next=Q,g|=z;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;z=w,w=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);if(B===null&&(C=$),d.baseState=C,d.firstBaseUpdate=D,d.lastBaseUpdate=B,i=d.shared.interleaved,i!==null){d=i;do g|=d.lane,d=d.next;while(d!==i)}else f===null&&(d.shared.lanes=0);dr|=g,t.lanes=g,t.memoizedState=$}}function fh(t,i,o){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var a=t[i],d=a.callback;if(d!==null){if(a.callback=null,a=o,typeof d!="function")throw Error(r(191,d));d.call(a)}}}var Hi={},on=bn(Hi),qi=bn(Hi),Vi=bn(Hi);function ur(t){if(t===Hi)throw Error(r(174));return t}function tu(t,i){switch(Te(Vi,i),Te(qi,t),Te(on,Hi),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:na(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=na(i,t)}Ae(on),Te(on,i)}function Qr(){Ae(on),Ae(qi),Ae(Vi)}function hh(t){ur(Vi.current);var i=ur(on.current),o=na(i,t.type);i!==o&&(Te(qi,t),Te(on,o))}function nu(t){qi.current===t&&(Ae(on),Ae(qi))}var Le=bn(0);function Ro(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ru=[];function iu(){for(var t=0;t<ru.length;t++)ru[t]._workInProgressVersionPrimary=null;ru.length=0}var No=H.ReactCurrentDispatcher,su=H.ReactCurrentBatchConfig,cr=0,be=null,Ve=null,Ye=null,Io=!1,Qi=!1,Gi=0,Pv=0;function lt(){throw Error(r(321))}function ou(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!qt(t[o],i[o]))return!1;return!0}function lu(t,i,o,a,d,f){if(cr=f,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,No.current=t===null||t.memoizedState===null?Lv:bv,t=o(a,d),Qi){f=0;do{if(Qi=!1,Gi=0,25<=f)throw Error(r(301));f+=1,Ye=Ve=null,i.updateQueue=null,No.current=Mv,t=o(a,d)}while(Qi)}if(No.current=Oo,i=Ve!==null&&Ve.next!==null,cr=0,Ye=Ve=be=null,Io=!1,i)throw Error(r(300));return t}function au(){var t=Gi!==0;return Gi=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?be.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Ft(){if(Ve===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var i=Ye===null?be.memoizedState:Ye.next;if(i!==null)Ye=i,Ve=t;else{if(t===null)throw Error(r(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ye===null?be.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Ki(t,i){return typeof i=="function"?i(t):i}function uu(t){var i=Ft(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var a=Ve,d=a.baseQueue,f=o.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}a.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,a=a.baseState;var w=g=null,C=null,D=f;do{var B=D.lane;if((cr&B)===B)C!==null&&(C=C.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),a=D.hasEagerState?D.eagerState:t(a,D.action);else{var $={lane:B,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};C===null?(w=C=$,g=a):C=C.next=$,be.lanes|=B,dr|=B}D=D.next}while(D!==null&&D!==f);C===null?g=a:C.next=w,qt(a,i.memoizedState)||(vt=!0),i.memoizedState=a,i.baseState=g,i.baseQueue=C,o.lastRenderedState=a}if(t=o.interleaved,t!==null){d=t;do f=d.lane,be.lanes|=f,dr|=f,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function cu(t){var i=Ft(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var a=o.dispatch,d=o.pending,f=i.memoizedState;if(d!==null){o.pending=null;var g=d=d.next;do f=t(f,g.action),g=g.next;while(g!==d);qt(f,i.memoizedState)||(vt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),o.lastRenderedState=f}return[f,a]}function ph(){}function mh(t,i){var o=be,a=Ft(),d=i(),f=!qt(a.memoizedState,d);if(f&&(a.memoizedState=d,vt=!0),a=a.queue,du(_h.bind(null,o,a,t),[t]),a.getSnapshot!==i||f||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Yi(9,yh.bind(null,o,a,d,i),void 0,null),Xe===null)throw Error(r(349));cr&30||gh(o,i,d)}return d}function gh(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=be.updateQueue,i===null?(i={lastEffect:null,stores:null},be.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function yh(t,i,o,a){i.value=o,i.getSnapshot=a,vh(i)&&wh(t)}function _h(t,i,o){return o(function(){vh(i)&&wh(t)})}function vh(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!qt(t,o)}catch{return!0}}function wh(t){var i=yn(t,1);i!==null&&Yt(i,t,1,-1)}function Eh(t){var i=ln();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i.queue=t,t=t.dispatch=Dv.bind(null,be,t),[i.memoizedState,t]}function Yi(t,i,o,a){return t={tag:t,create:i,destroy:o,deps:a,next:null},i=be.updateQueue,i===null?(i={lastEffect:null,stores:null},be.updateQueue=i,i.lastEffect=t.next=t):(o=i.lastEffect,o===null?i.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,i.lastEffect=t)),t}function Ch(){return Ft().memoizedState}function Po(t,i,o,a){var d=ln();be.flags|=t,d.memoizedState=Yi(1|i,o,void 0,a===void 0?null:a)}function Ao(t,i,o,a){var d=Ft();a=a===void 0?null:a;var f=void 0;if(Ve!==null){var g=Ve.memoizedState;if(f=g.destroy,a!==null&&ou(a,g.deps)){d.memoizedState=Yi(i,o,f,a);return}}be.flags|=t,d.memoizedState=Yi(1|i,o,f,a)}function Sh(t,i){return Po(8390656,8,t,i)}function du(t,i){return Ao(2048,8,t,i)}function xh(t,i){return Ao(4,2,t,i)}function kh(t,i){return Ao(4,4,t,i)}function Th(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Rh(t,i,o){return o=o!=null?o.concat([t]):null,Ao(4,4,Th.bind(null,i,t),o)}function fu(){}function Nh(t,i){var o=Ft();i=i===void 0?null:i;var a=o.memoizedState;return a!==null&&i!==null&&ou(i,a[1])?a[0]:(o.memoizedState=[t,i],t)}function Ih(t,i){var o=Ft();i=i===void 0?null:i;var a=o.memoizedState;return a!==null&&i!==null&&ou(i,a[1])?a[0]:(t=t(),o.memoizedState=[t,i],t)}function Ph(t,i,o){return cr&21?(qt(o,i)||(o=of(),be.lanes|=o,dr|=o,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,vt=!0),t.memoizedState=o)}function Av(t,i){var o=Ee;Ee=o!==0&&4>o?o:4,t(!0);var a=su.transition;su.transition={};try{t(!1),i()}finally{Ee=o,su.transition=a}}function Ah(){return Ft().memoizedState}function Ov(t,i,o){var a=Wn(t);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Oh(t))Dh(i,o);else if(o=uh(t,i,o,a),o!==null){var d=ht();Yt(o,t,a,d),Lh(o,i,a)}}function Dv(t,i,o){var a=Wn(t),d={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oh(t))Dh(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,w=f(g,o);if(d.hasEagerState=!0,d.eagerState=w,qt(w,g)){var C=i.interleaved;C===null?(d.next=d,Za(i)):(d.next=C.next,C.next=d),i.interleaved=d;return}}catch{}finally{}o=uh(t,i,d,a),o!==null&&(d=ht(),Yt(o,t,a,d),Lh(o,i,a))}}function Oh(t){var i=t.alternate;return t===be||i!==null&&i===be}function Dh(t,i){Qi=Io=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Lh(t,i,o){if(o&4194240){var a=i.lanes;a&=t.pendingLanes,o|=a,i.lanes=o,pa(t,o)}}var Oo={readContext:Mt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},Lv={readContext:Mt,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Mt,useEffect:Sh,useImperativeHandle:function(t,i,o){return o=o!=null?o.concat([t]):null,Po(4194308,4,Th.bind(null,i,t),o)},useLayoutEffect:function(t,i){return Po(4194308,4,t,i)},useInsertionEffect:function(t,i){return Po(4,2,t,i)},useMemo:function(t,i){var o=ln();return i=i===void 0?null:i,t=t(),o.memoizedState=[t,i],t},useReducer:function(t,i,o){var a=ln();return i=o!==void 0?o(i):i,a.memoizedState=a.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},a.queue=t,t=t.dispatch=Ov.bind(null,be,t),[a.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:Eh,useDebugValue:fu,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=Eh(!1),i=t[0];return t=Av.bind(null,t[1]),ln().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,o){var a=be,d=ln();if(De){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),Xe===null)throw Error(r(349));cr&30||gh(a,i,o)}d.memoizedState=o;var f={value:o,getSnapshot:i};return d.queue=f,Sh(_h.bind(null,a,f,t),[t]),a.flags|=2048,Yi(9,yh.bind(null,a,f,o,i),void 0,null),o},useId:function(){var t=ln(),i=Xe.identifierPrefix;if(De){var o=gn,a=mn;o=(a&~(1<<32-Ht(a)-1)).toString(32)+o,i=":"+i+"R"+o,o=Gi++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=Pv++,i=":"+i+"r"+o.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},bv={readContext:Mt,useCallback:Nh,useContext:Mt,useEffect:du,useImperativeHandle:Rh,useInsertionEffect:xh,useLayoutEffect:kh,useMemo:Ih,useReducer:uu,useRef:Ch,useState:function(){return uu(Ki)},useDebugValue:fu,useDeferredValue:function(t){var i=Ft();return Ph(i,Ve.memoizedState,t)},useTransition:function(){var t=uu(Ki)[0],i=Ft().memoizedState;return[t,i]},useMutableSource:ph,useSyncExternalStore:mh,useId:Ah,unstable_isNewReconciler:!1},Mv={readContext:Mt,useCallback:Nh,useContext:Mt,useEffect:du,useImperativeHandle:Rh,useInsertionEffect:xh,useLayoutEffect:kh,useMemo:Ih,useReducer:cu,useRef:Ch,useState:function(){return cu(Ki)},useDebugValue:fu,useDeferredValue:function(t){var i=Ft();return Ve===null?i.memoizedState=t:Ph(i,Ve.memoizedState,t)},useTransition:function(){var t=cu(Ki)[0],i=Ft().memoizedState;return[t,i]},useMutableSource:ph,useSyncExternalStore:mh,useId:Ah,unstable_isNewReconciler:!1};function Qt(t,i){if(t&&t.defaultProps){i=K({},i),t=t.defaultProps;for(var o in t)i[o]===void 0&&(i[o]=t[o]);return i}return i}function hu(t,i,o,a){i=t.memoizedState,o=o(a,i),o=o==null?i:K({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Do={isMounted:function(t){return(t=t._reactInternals)?rr(t)===t:!1},enqueueSetState:function(t,i,o){t=t._reactInternals;var a=ht(),d=Wn(t),f=_n(a,d);f.payload=i,o!=null&&(f.callback=o),i=zn(t,f,d),i!==null&&(Yt(i,t,d,a),ko(i,t,d))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var a=ht(),d=Wn(t),f=_n(a,d);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=zn(t,f,d),i!==null&&(Yt(i,t,d,a),ko(i,t,d))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=ht(),a=Wn(t),d=_n(o,a);d.tag=2,i!=null&&(d.callback=i),i=zn(t,d,a),i!==null&&(Yt(i,t,a,o),ko(i,t,a))}};function bh(t,i,o,a,d,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,g):i.prototype&&i.prototype.isPureReactComponent?!Mi(o,a)||!Mi(d,f):!0}function Mh(t,i,o){var a=!1,d=Mn,f=i.contextType;return typeof f=="object"&&f!==null?f=Mt(f):(d=_t(i)?sr:ot.current,a=i.contextTypes,f=(a=a!=null)?Ur(t,d):Mn),i=new i(o,f),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Do,t.stateNode=i,i._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=f),i}function Fh(t,i,o,a){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,a),i.state!==t&&Do.enqueueReplaceState(i,i.state,null)}function pu(t,i,o,a){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},eu(t);var f=i.contextType;typeof f=="object"&&f!==null?d.context=Mt(f):(f=_t(i)?sr:ot.current,d.context=Ur(t,f)),d.state=t.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(hu(t,i,f,o),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Do.enqueueReplaceState(d,d.state,null),To(t,o,d,a),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Gr(t,i){try{var o="",a=i;do o+=ge(a),a=a.return;while(a);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:i,stack:d,digest:null}}function mu(t,i,o){return{value:t,source:null,stack:o??null,digest:i??null}}function gu(t,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Fv=typeof WeakMap=="function"?WeakMap:Map;function jh(t,i,o){o=_n(-1,o),o.tag=3,o.payload={element:null};var a=i.value;return o.callback=function(){Uo||(Uo=!0,Au=a),gu(t,i)},o}function zh(t,i,o){o=_n(-1,o),o.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var d=i.value;o.payload=function(){return a(d)},o.callback=function(){gu(t,i)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){gu(t,i),typeof a!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),o}function Uh(t,i,o){var a=t.pingCache;if(a===null){a=t.pingCache=new Fv;var d=new Set;a.set(i,d)}else d=a.get(i),d===void 0&&(d=new Set,a.set(i,d));d.has(o)||(d.add(o),t=Xv.bind(null,t,i,o),i.then(t,t))}function Bh(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function $h(t,i,o,a,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===i?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=_n(-1,1),i.tag=2,zn(o,i,1))),o.lanes|=1),t)}var jv=H.ReactCurrentOwner,vt=!1;function ft(t,i,o,a){i.child=t===null?ah(i,null,o,a):Hr(i,t.child,o,a)}function Wh(t,i,o,a,d){o=o.render;var f=i.ref;return Vr(i,d),a=lu(t,i,o,a,f,d),o=au(),t!==null&&!vt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,vn(t,i,d)):(De&&o&&Ha(i),i.flags|=1,ft(t,i,a,d),i.child)}function Hh(t,i,o,a,d){if(t===null){var f=o.type;return typeof f=="function"&&!ju(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=f,qh(t,i,f,a,d)):(t=Vo(o.type,null,a,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!(t.lanes&d)){var g=f.memoizedProps;if(o=o.compare,o=o!==null?o:Mi,o(g,a)&&t.ref===i.ref)return vn(t,i,d)}return i.flags|=1,t=qn(f,a),t.ref=i.ref,t.return=i,i.child=t}function qh(t,i,o,a,d){if(t!==null){var f=t.memoizedProps;if(Mi(f,a)&&t.ref===i.ref)if(vt=!1,i.pendingProps=a=f,(t.lanes&d)!==0)t.flags&131072&&(vt=!0);else return i.lanes=t.lanes,vn(t,i,d)}return yu(t,i,o,a,d)}function Vh(t,i,o){var a=i.pendingProps,d=a.children,f=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Yr,Pt),Pt|=o;else{if(!(o&1073741824))return t=f!==null?f.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,Te(Yr,Pt),Pt|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:o,Te(Yr,Pt),Pt|=a}else f!==null?(a=f.baseLanes|o,i.memoizedState=null):a=o,Te(Yr,Pt),Pt|=a;return ft(t,i,d,o),i.child}function Qh(t,i){var o=i.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function yu(t,i,o,a,d){var f=_t(o)?sr:ot.current;return f=Ur(i,f),Vr(i,d),o=lu(t,i,o,a,f,d),a=au(),t!==null&&!vt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,vn(t,i,d)):(De&&a&&Ha(i),i.flags|=1,ft(t,i,o,d),i.child)}function Gh(t,i,o,a,d){if(_t(o)){var f=!0;yo(i)}else f=!1;if(Vr(i,d),i.stateNode===null)bo(t,i),Mh(i,o,a),pu(i,o,a,d),a=!0;else if(t===null){var g=i.stateNode,w=i.memoizedProps;g.props=w;var C=g.context,D=o.contextType;typeof D=="object"&&D!==null?D=Mt(D):(D=_t(o)?sr:ot.current,D=Ur(i,D));var B=o.getDerivedStateFromProps,$=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function";$||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==a||C!==D)&&Fh(i,g,a,D),jn=!1;var z=i.memoizedState;g.state=z,To(i,a,g,d),C=i.memoizedState,w!==a||z!==C||yt.current||jn?(typeof B=="function"&&(hu(i,o,B,a),C=i.memoizedState),(w=jn||bh(i,o,w,a,z,C,D))?($||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=C),g.props=a,g.state=C,g.context=D,a=w):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{g=i.stateNode,ch(t,i),w=i.memoizedProps,D=i.type===i.elementType?w:Qt(i.type,w),g.props=D,$=i.pendingProps,z=g.context,C=o.contextType,typeof C=="object"&&C!==null?C=Mt(C):(C=_t(o)?sr:ot.current,C=Ur(i,C));var Q=o.getDerivedStateFromProps;(B=typeof Q=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==$||z!==C)&&Fh(i,g,a,C),jn=!1,z=i.memoizedState,g.state=z,To(i,a,g,d);var X=i.memoizedState;w!==$||z!==X||yt.current||jn?(typeof Q=="function"&&(hu(i,o,Q,a),X=i.memoizedState),(D=jn||bh(i,o,D,a,z,X,C)||!1)?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,X,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,X,C)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=X),g.props=a,g.state=X,g.context=C,a=D):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),a=!1)}return _u(t,i,o,a,f,d)}function _u(t,i,o,a,d,f){Qh(t,i);var g=(i.flags&128)!==0;if(!a&&!g)return d&&Zf(i,o,!1),vn(t,i,f);a=i.stateNode,jv.current=i;var w=g&&typeof o.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,t!==null&&g?(i.child=Hr(i,t.child,null,f),i.child=Hr(i,null,w,f)):ft(t,i,w,f),i.memoizedState=a.state,d&&Zf(i,o,!0),i.child}function Kh(t){var i=t.stateNode;i.pendingContext?Xf(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Xf(t,i.context,!1),tu(t,i.containerInfo)}function Yh(t,i,o,a,d){return Wr(),Ga(d),i.flags|=256,ft(t,i,o,a),i.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function wu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xh(t,i,o){var a=i.pendingProps,d=Le.current,f=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=t!==null&&t.memoizedState===null?!1:(d&2)!==0),w?(f=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Te(Le,d&1),t===null)return Qa(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(g=a.children,t=a.fallback,f?(a=i.mode,f=i.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Qo(g,a,0,null),t=mr(t,a,o,null),f.return=i,t.return=i,f.sibling=t,i.child=f,i.child.memoizedState=wu(o),i.memoizedState=vu,t):Eu(i,g));if(d=t.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return zv(t,i,g,a,w,d,o);if(f){f=a.fallback,g=i.mode,d=t.child,w=d.sibling;var C={mode:"hidden",children:a.children};return!(g&1)&&i.child!==d?(a=i.child,a.childLanes=0,a.pendingProps=C,i.deletions=null):(a=qn(d,C),a.subtreeFlags=d.subtreeFlags&14680064),w!==null?f=qn(w,f):(f=mr(f,g,o,null),f.flags|=2),f.return=i,a.return=i,a.sibling=f,i.child=a,a=f,f=i.child,g=t.child.memoizedState,g=g===null?wu(o):{baseLanes:g.baseLanes|o,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=t.childLanes&~o,i.memoizedState=vu,a}return f=t.child,t=f.sibling,a=qn(f,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=o),a.return=i,a.sibling=null,t!==null&&(o=i.deletions,o===null?(i.deletions=[t],i.flags|=16):o.push(t)),i.child=a,i.memoizedState=null,a}function Eu(t,i){return i=Qo({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Lo(t,i,o,a){return a!==null&&Ga(a),Hr(i,t.child,null,o),t=Eu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function zv(t,i,o,a,d,f,g){if(o)return i.flags&256?(i.flags&=-257,a=mu(Error(r(422))),Lo(t,i,g,a)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(f=a.fallback,d=i.mode,a=Qo({mode:"visible",children:a.children},d,0,null),f=mr(f,d,g,null),f.flags|=2,a.return=i,f.return=i,a.sibling=f,i.child=a,i.mode&1&&Hr(i,t.child,null,g),i.child.memoizedState=wu(g),i.memoizedState=vu,f);if(!(i.mode&1))return Lo(t,i,g,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var w=a.dgst;return a=w,f=Error(r(419)),a=mu(f,a,void 0),Lo(t,i,g,a)}if(w=(g&t.childLanes)!==0,vt||w){if(a=Xe,a!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(a.suspendedLanes|g)?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,yn(t,d),Yt(a,t,d,-1))}return Fu(),a=mu(Error(r(421))),Lo(t,i,g,a)}return d.data==="$?"?(i.flags|=128,i.child=t.child,i=Jv.bind(null,t),d._reactRetry=i,null):(t=f.treeContext,It=Ln(d.nextSibling),Nt=i,De=!0,Vt=null,t!==null&&(Lt[bt++]=mn,Lt[bt++]=gn,Lt[bt++]=or,mn=t.id,gn=t.overflow,or=i),i=Eu(i,a.children),i.flags|=4096,i)}function Jh(t,i,o){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i),Ja(t.return,i,o)}function Cu(t,i,o,a,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:d}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=o,f.tailMode=d)}function Zh(t,i,o){var a=i.pendingProps,d=a.revealOrder,f=a.tail;if(ft(t,i,a.children,o),a=Le.current,a&2)a=a&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jh(t,o,i);else if(t.tag===19)Jh(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Te(Le,a),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(o=i.child,d=null;o!==null;)t=o.alternate,t!==null&&Ro(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Cu(i,!1,d,o,f);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Ro(t)===null){i.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Cu(i,!0,o,null,f);break;case"together":Cu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bo(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function vn(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),dr|=i.lanes,!(o&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,o=qn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=qn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Uv(t,i,o){switch(i.tag){case 3:Kh(i),Wr();break;case 5:hh(i);break;case 1:_t(i.type)&&yo(i);break;case 4:tu(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,d=i.memoizedProps.value;Te(So,a._currentValue),a._currentValue=d;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(Te(Le,Le.current&1),i.flags|=128,null):o&i.child.childLanes?Xh(t,i,o):(Te(Le,Le.current&1),t=vn(t,i,o),t!==null?t.sibling:null);Te(Le,Le.current&1);break;case 19:if(a=(o&i.childLanes)!==0,t.flags&128){if(a)return Zh(t,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Te(Le,Le.current),a)break;return null;case 22:case 23:return i.lanes=0,Vh(t,i,o)}return vn(t,i,o)}var ep,Su,tp,np;ep=function(t,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Su=function(){},tp=function(t,i,o,a){var d=t.memoizedProps;if(d!==a){t=i.stateNode,ur(on.current);var f=null;switch(o){case"input":d=Jl(t,d),a=Jl(t,a),f=[];break;case"select":d=K({},d,{value:void 0}),a=K({},a,{value:void 0}),f=[];break;case"textarea":d=ta(t,d),a=ta(t,a),f=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=po)}ra(o,a);var g;o=null;for(D in d)if(!a.hasOwnProperty(D)&&d.hasOwnProperty(D)&&d[D]!=null)if(D==="style"){var w=d[D];for(g in w)w.hasOwnProperty(g)&&(o||(o={}),o[g]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(l.hasOwnProperty(D)?f||(f=[]):(f=f||[]).push(D,null));for(D in a){var C=a[D];if(w=d!=null?d[D]:void 0,a.hasOwnProperty(D)&&C!==w&&(C!=null||w!=null))if(D==="style")if(w){for(g in w)!w.hasOwnProperty(g)||C&&C.hasOwnProperty(g)||(o||(o={}),o[g]="");for(g in C)C.hasOwnProperty(g)&&w[g]!==C[g]&&(o||(o={}),o[g]=C[g])}else o||(f||(f=[]),f.push(D,o)),o=C;else D==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(f=f||[]).push(D,C)):D==="children"?typeof C!="string"&&typeof C!="number"||(f=f||[]).push(D,""+C):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(l.hasOwnProperty(D)?(C!=null&&D==="onScroll"&&Pe("scroll",t),f||w===C||(f=[])):(f=f||[]).push(D,C))}o&&(f=f||[]).push("style",o);var D=f;(i.updateQueue=D)&&(i.flags|=4)}},np=function(t,i,o,a){o!==a&&(i.flags|=4)};function Xi(t,i){if(!De)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,a=0;if(i)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=a,t.childLanes=o,i}function Bv(t,i,o){var a=i.pendingProps;switch(qa(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return _t(i.type)&&go(),at(i),null;case 3:return a=i.stateNode,Qr(),Ae(yt),Ae(ot),iu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Eo(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Vt!==null&&(Lu(Vt),Vt=null))),Su(t,i),at(i),null;case 5:nu(i);var d=ur(Vi.current);if(o=i.type,t!==null&&i.stateNode!=null)tp(t,i,o,a,d),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(t=ur(on.current),Eo(i)){a=i.stateNode,o=i.type;var f=i.memoizedProps;switch(a[sn]=i,a[Bi]=f,t=(i.mode&1)!==0,o){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(d=0;d<ji.length;d++)Pe(ji[d],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":bd(a,f),Pe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Pe("invalid",a);break;case"textarea":jd(a,f),Pe("invalid",a)}ra(o,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var w=f[g];g==="children"?typeof w=="string"?a.textContent!==w&&(f.suppressHydrationWarning!==!0&&ho(a.textContent,w,t),d=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&ho(a.textContent,w,t),d=["children",""+w]):l.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Pe("scroll",a)}switch(o){case"input":Ws(a),Fd(a,f,!0);break;case"textarea":Ws(a),Ud(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=po)}a=d,i.updateQueue=a,a!==null&&(i.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=g.createElement(o,{is:a.is}):(t=g.createElement(o),o==="select"&&(g=t,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):t=g.createElementNS(t,o),t[sn]=i,t[Bi]=a,ep(t,i,!1,!1),i.stateNode=t;e:{switch(g=ia(o,a),o){case"dialog":Pe("cancel",t),Pe("close",t),d=a;break;case"iframe":case"object":case"embed":Pe("load",t),d=a;break;case"video":case"audio":for(d=0;d<ji.length;d++)Pe(ji[d],t);d=a;break;case"source":Pe("error",t),d=a;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),d=a;break;case"details":Pe("toggle",t),d=a;break;case"input":bd(t,a),d=Jl(t,a),Pe("invalid",t);break;case"option":d=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},d=K({},a,{value:void 0}),Pe("invalid",t);break;case"textarea":jd(t,a),d=ta(t,a),Pe("invalid",t);break;default:d=a}ra(o,d),w=d;for(f in w)if(w.hasOwnProperty(f)){var C=w[f];f==="style"?Hd(t,C):f==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&$d(t,C)):f==="children"?typeof C=="string"?(o!=="textarea"||C!=="")&&vi(t,C):typeof C=="number"&&vi(t,""+C):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?C!=null&&f==="onScroll"&&Pe("scroll",t):C!=null&&b(t,f,C,g))}switch(o){case"input":Ws(t),Fd(t,a,!1);break;case"textarea":Ws(t),Ud(t);break;case"option":a.value!=null&&t.setAttribute("value",""+we(a.value));break;case"select":t.multiple=!!a.multiple,f=a.value,f!=null?Nr(t,!!a.multiple,f,!1):a.defaultValue!=null&&Nr(t,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=po)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return at(i),null;case 6:if(t&&i.stateNode!=null)np(t,i,t.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(r(166));if(o=ur(Vi.current),ur(on.current),Eo(i)){if(a=i.stateNode,o=i.memoizedProps,a[sn]=i,(f=a.nodeValue!==o)&&(t=Nt,t!==null))switch(t.tag){case 3:ho(a.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ho(a.nodeValue,o,(t.mode&1)!==0)}f&&(i.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[sn]=i,i.stateNode=a}return at(i),null;case 13:if(Ae(Le),a=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&It!==null&&i.mode&1&&!(i.flags&128))sh(),Wr(),i.flags|=98560,f=!1;else if(f=Eo(i),a!==null&&a.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[sn]=i}else Wr(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;at(i),f=!1}else Vt!==null&&(Lu(Vt),Vt=null),f=!0;if(!f)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(t===null||Le.current&1?Qe===0&&(Qe=3):Fu())),i.updateQueue!==null&&(i.flags|=4),at(i),null);case 4:return Qr(),Su(t,i),t===null&&zi(i.stateNode.containerInfo),at(i),null;case 10:return Xa(i.type._context),at(i),null;case 17:return _t(i.type)&&go(),at(i),null;case 19:if(Ae(Le),f=i.memoizedState,f===null)return at(i),null;if(a=(i.flags&128)!==0,g=f.rendering,g===null)if(a)Xi(f,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(g=Ro(t),g!==null){for(i.flags|=128,Xi(f,!1),a=g.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=o,o=i.child;o!==null;)f=o,t=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,t=g.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Te(Le,Le.current&1|2),i.child}t=t.sibling}f.tail!==null&&Be()>Xr&&(i.flags|=128,a=!0,Xi(f,!1),i.lanes=4194304)}else{if(!a)if(t=Ro(g),t!==null){if(i.flags|=128,a=!0,o=t.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Xi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!De)return at(i),null}else 2*Be()-f.renderingStartTime>Xr&&o!==1073741824&&(i.flags|=128,a=!0,Xi(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(o=f.last,o!==null?o.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Be(),i.sibling=null,o=Le.current,Te(Le,a?o&1|2:o&1),i):(at(i),null);case 22:case 23:return Mu(),a=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?Pt&1073741824&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function $v(t,i){switch(qa(i),i.tag){case 1:return _t(i.type)&&go(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qr(),Ae(yt),Ae(ot),iu(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return nu(i),null;case 13:if(Ae(Le),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Wr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ae(Le),null;case 4:return Qr(),null;case 10:return Xa(i.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var Mo=!1,ut=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,G=null;function Kr(t,i){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){je(t,i,a)}else o.current=null}function xu(t,i,o){try{o()}catch(a){je(t,i,a)}}var rp=!1;function Hv(t,i){if(Ma=to,t=bf(),Na(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var d=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var g=0,w=-1,C=-1,D=0,B=0,$=t,z=null;t:for(;;){for(var Q;$!==o||d!==0&&$.nodeType!==3||(w=g+d),$!==f||a!==0&&$.nodeType!==3||(C=g+a),$.nodeType===3&&(g+=$.nodeValue.length),(Q=$.firstChild)!==null;)z=$,$=Q;for(;;){if($===t)break t;if(z===o&&++D===d&&(w=g),z===f&&++B===a&&(C=g),(Q=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=Q}o=w===-1||C===-1?null:{start:w,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fa={focusedElem:t,selectionRange:o},to=!1,G=i;G!==null;)if(i=G,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,G=t;else for(;G!==null;){i=G;try{var X=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var J=X.memoizedProps,$e=X.memoizedState,N=i.stateNode,x=N.getSnapshotBeforeUpdate(i.elementType===i.type?J:Qt(i.type,J),$e);N.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var A=i.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(W){je(i,i.return,W)}if(t=i.sibling,t!==null){t.return=i.return,G=t;break}G=i.return}return X=rp,rp=!1,X}function Ji(t,i,o){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&t)===t){var f=d.destroy;d.destroy=void 0,f!==void 0&&xu(i,o,f)}d=d.next}while(d!==a)}}function Fo(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var a=o.create;o.destroy=a()}o=o.next}while(o!==i)}}function ku(t){var i=t.ref;if(i!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof i=="function"?i(t):i.current=t}}function ip(t){var i=t.alternate;i!==null&&(t.alternate=null,ip(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[sn],delete i[Bi],delete i[Ba],delete i[Tv],delete i[Rv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sp(t){return t.tag===5||t.tag===3||t.tag===4}function op(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tu(t,i,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(t,i):o.insertBefore(t,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(t,o)):(i=o,i.appendChild(t)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=po));else if(a!==4&&(t=t.child,t!==null))for(Tu(t,i,o),t=t.sibling;t!==null;)Tu(t,i,o),t=t.sibling}function Ru(t,i,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Ru(t,i,o),t=t.sibling;t!==null;)Ru(t,i,o),t=t.sibling}var nt=null,Gt=!1;function Un(t,i,o){for(o=o.child;o!==null;)lp(t,i,o),o=o.sibling}function lp(t,i,o){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ks,o)}catch{}switch(o.tag){case 5:ut||Kr(o,i);case 6:var a=nt,d=Gt;nt=null,Un(t,i,o),nt=a,Gt=d,nt!==null&&(Gt?(t=nt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):nt.removeChild(o.stateNode));break;case 18:nt!==null&&(Gt?(t=nt,o=o.stateNode,t.nodeType===8?Ua(t.parentNode,o):t.nodeType===1&&Ua(t,o),Pi(t)):Ua(nt,o.stateNode));break;case 4:a=nt,d=Gt,nt=o.stateNode.containerInfo,Gt=!0,Un(t,i,o),nt=a,Gt=d;break;case 0:case 11:case 14:case 15:if(!ut&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&xu(o,i,g),d=d.next}while(d!==a)}Un(t,i,o);break;case 1:if(!ut&&(Kr(o,i),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(w){je(o,i,w)}Un(t,i,o);break;case 21:Un(t,i,o);break;case 22:o.mode&1?(ut=(a=ut)||o.memoizedState!==null,Un(t,i,o),ut=a):Un(t,i,o);break;default:Un(t,i,o)}}function ap(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Wv),i.forEach(function(a){var d=Zv.bind(null,t,a);o.has(a)||(o.add(a),a.then(d,d))})}}function Kt(t,i){var o=i.deletions;if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];try{var f=t,g=i,w=g;e:for(;w!==null;){switch(w.tag){case 5:nt=w.stateNode,Gt=!1;break e;case 3:nt=w.stateNode.containerInfo,Gt=!0;break e;case 4:nt=w.stateNode.containerInfo,Gt=!0;break e}w=w.return}if(nt===null)throw Error(r(160));lp(f,g,d),nt=null,Gt=!1;var C=d.alternate;C!==null&&(C.return=null),d.return=null}catch(D){je(d,i,D)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)up(i,t),i=i.sibling}function up(t,i){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kt(i,t),an(t),a&4){try{Ji(3,t,t.return),Fo(3,t)}catch(J){je(t,t.return,J)}try{Ji(5,t,t.return)}catch(J){je(t,t.return,J)}}break;case 1:Kt(i,t),an(t),a&512&&o!==null&&Kr(o,o.return);break;case 5:if(Kt(i,t),an(t),a&512&&o!==null&&Kr(o,o.return),t.flags&32){var d=t.stateNode;try{vi(d,"")}catch(J){je(t,t.return,J)}}if(a&4&&(d=t.stateNode,d!=null)){var f=t.memoizedProps,g=o!==null?o.memoizedProps:f,w=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&Md(d,f),ia(w,g);var D=ia(w,f);for(g=0;g<C.length;g+=2){var B=C[g],$=C[g+1];B==="style"?Hd(d,$):B==="dangerouslySetInnerHTML"?$d(d,$):B==="children"?vi(d,$):b(d,B,$,D)}switch(w){case"input":Zl(d,f);break;case"textarea":zd(d,f);break;case"select":var z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Q=f.value;Q!=null?Nr(d,!!f.multiple,Q,!1):z!==!!f.multiple&&(f.defaultValue!=null?Nr(d,!!f.multiple,f.defaultValue,!0):Nr(d,!!f.multiple,f.multiple?[]:"",!1))}d[Bi]=f}catch(J){je(t,t.return,J)}}break;case 6:if(Kt(i,t),an(t),a&4){if(t.stateNode===null)throw Error(r(162));d=t.stateNode,f=t.memoizedProps;try{d.nodeValue=f}catch(J){je(t,t.return,J)}}break;case 3:if(Kt(i,t),an(t),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Pi(i.containerInfo)}catch(J){je(t,t.return,J)}break;case 4:Kt(i,t),an(t);break;case 13:Kt(i,t),an(t),d=t.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Pu=Be())),a&4&&ap(t);break;case 22:if(B=o!==null&&o.memoizedState!==null,t.mode&1?(ut=(D=ut)||B,Kt(i,t),ut=D):Kt(i,t),an(t),a&8192){if(D=t.memoizedState!==null,(t.stateNode.isHidden=D)&&!B&&t.mode&1)for(G=t,B=t.child;B!==null;){for($=G=B;G!==null;){switch(z=G,Q=z.child,z.tag){case 0:case 11:case 14:case 15:Ji(4,z,z.return);break;case 1:Kr(z,z.return);var X=z.stateNode;if(typeof X.componentWillUnmount=="function"){a=z,o=z.return;try{i=a,X.props=i.memoizedProps,X.state=i.memoizedState,X.componentWillUnmount()}catch(J){je(a,o,J)}}break;case 5:Kr(z,z.return);break;case 22:if(z.memoizedState!==null){fp($);continue}}Q!==null?(Q.return=z,G=Q):fp($)}B=B.sibling}e:for(B=null,$=t;;){if($.tag===5){if(B===null){B=$;try{d=$.stateNode,D?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=$.stateNode,C=$.memoizedProps.style,g=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=Wd("display",g))}catch(J){je(t,t.return,J)}}}else if($.tag===6){if(B===null)try{$.stateNode.nodeValue=D?"":$.memoizedProps}catch(J){je(t,t.return,J)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===t)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===t)break e;for(;$.sibling===null;){if($.return===null||$.return===t)break e;B===$&&(B=null),$=$.return}B===$&&(B=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:Kt(i,t),an(t),a&4&&ap(t);break;case 21:break;default:Kt(i,t),an(t)}}function an(t){var i=t.flags;if(i&2){try{e:{for(var o=t.return;o!==null;){if(sp(o)){var a=o;break e}o=o.return}throw Error(r(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(vi(d,""),a.flags&=-33);var f=op(t);Ru(t,f,d);break;case 3:case 4:var g=a.stateNode.containerInfo,w=op(t);Tu(t,w,g);break;default:throw Error(r(161))}}catch(C){je(t,t.return,C)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function qv(t,i,o){G=t,cp(t)}function cp(t,i,o){for(var a=(t.mode&1)!==0;G!==null;){var d=G,f=d.child;if(d.tag===22&&a){var g=d.memoizedState!==null||Mo;if(!g){var w=d.alternate,C=w!==null&&w.memoizedState!==null||ut;w=Mo;var D=ut;if(Mo=g,(ut=C)&&!D)for(G=d;G!==null;)g=G,C=g.child,g.tag===22&&g.memoizedState!==null?hp(d):C!==null?(C.return=g,G=C):hp(d);for(;f!==null;)G=f,cp(f),f=f.sibling;G=d,Mo=w,ut=D}dp(t)}else d.subtreeFlags&8772&&f!==null?(f.return=d,G=f):dp(t)}}function dp(t){for(;G!==null;){var i=G;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ut||Fo(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!ut)if(o===null)a.componentDidMount();else{var d=i.elementType===i.type?o.memoizedProps:Qt(i.type,o.memoizedProps);a.componentDidUpdate(d,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&fh(i,f,a);break;case 3:var g=i.updateQueue;if(g!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}fh(i,g,o)}break;case 5:var w=i.stateNode;if(o===null&&i.flags&4){o=w;var C=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&o.focus();break;case"img":C.src&&(o.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var D=i.alternate;if(D!==null){var B=D.memoizedState;if(B!==null){var $=B.dehydrated;$!==null&&Pi($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ut||i.flags&512&&ku(i)}catch(z){je(i,i.return,z)}}if(i===t){G=null;break}if(o=i.sibling,o!==null){o.return=i.return,G=o;break}G=i.return}}function fp(t){for(;G!==null;){var i=G;if(i===t){G=null;break}var o=i.sibling;if(o!==null){o.return=i.return,G=o;break}G=i.return}}function hp(t){for(;G!==null;){var i=G;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Fo(4,i)}catch(C){je(i,o,C)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var d=i.return;try{a.componentDidMount()}catch(C){je(i,d,C)}}var f=i.return;try{ku(i)}catch(C){je(i,f,C)}break;case 5:var g=i.return;try{ku(i)}catch(C){je(i,g,C)}}}catch(C){je(i,i.return,C)}if(i===t){G=null;break}var w=i.sibling;if(w!==null){w.return=i.return,G=w;break}G=i.return}}var Vv=Math.ceil,jo=H.ReactCurrentDispatcher,Nu=H.ReactCurrentOwner,jt=H.ReactCurrentBatchConfig,me=0,Xe=null,He=null,rt=0,Pt=0,Yr=bn(0),Qe=0,Zi=null,dr=0,zo=0,Iu=0,es=null,wt=null,Pu=0,Xr=1/0,wn=null,Uo=!1,Au=null,Bn=null,Bo=!1,$n=null,$o=0,ts=0,Ou=null,Wo=-1,Ho=0;function ht(){return me&6?Be():Wo!==-1?Wo:Wo=Be()}function Wn(t){return t.mode&1?me&2&&rt!==0?rt&-rt:Iv.transition!==null?(Ho===0&&(Ho=of()),Ho):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:mf(t.type)),t):1}function Yt(t,i,o,a){if(50<ts)throw ts=0,Ou=null,Error(r(185));ki(t,o,a),(!(me&2)||t!==Xe)&&(t===Xe&&(!(me&2)&&(zo|=o),Qe===4&&Hn(t,rt)),Et(t,a),o===1&&me===0&&!(i.mode&1)&&(Xr=Be()+500,_o&&Fn()))}function Et(t,i){var o=t.callbackNode;I_(t,i);var a=Js(t,t===Xe?rt:0);if(a===0)o!==null&&nf(o),t.callbackNode=null,t.callbackPriority=0;else if(i=a&-a,t.callbackPriority!==i){if(o!=null&&nf(o),i===1)t.tag===0?Nv(mp.bind(null,t)):eh(mp.bind(null,t)),xv(function(){!(me&6)&&Fn()}),o=null;else{switch(lf(a)){case 1:o=da;break;case 4:o=rf;break;case 16:o=Gs;break;case 536870912:o=sf;break;default:o=Gs}o=Sp(o,pp.bind(null,t))}t.callbackPriority=i,t.callbackNode=o}}function pp(t,i){if(Wo=-1,Ho=0,me&6)throw Error(r(327));var o=t.callbackNode;if(Jr()&&t.callbackNode!==o)return null;var a=Js(t,t===Xe?rt:0);if(a===0)return null;if(a&30||a&t.expiredLanes||i)i=qo(t,a);else{i=a;var d=me;me|=2;var f=yp();(Xe!==t||rt!==i)&&(wn=null,Xr=Be()+500,hr(t,i));do try{Kv();break}catch(w){gp(t,w)}while(!0);Ya(),jo.current=f,me=d,He!==null?i=0:(Xe=null,rt=0,i=Qe)}if(i!==0){if(i===2&&(d=fa(t),d!==0&&(a=d,i=Du(t,d))),i===1)throw o=Zi,hr(t,0),Hn(t,a),Et(t,Be()),o;if(i===6)Hn(t,a);else{if(d=t.current.alternate,!(a&30)&&!Qv(d)&&(i=qo(t,a),i===2&&(f=fa(t),f!==0&&(a=f,i=Du(t,f))),i===1))throw o=Zi,hr(t,0),Hn(t,a),Et(t,Be()),o;switch(t.finishedWork=d,t.finishedLanes=a,i){case 0:case 1:throw Error(r(345));case 2:pr(t,wt,wn);break;case 3:if(Hn(t,a),(a&130023424)===a&&(i=Pu+500-Be(),10<i)){if(Js(t,0)!==0)break;if(d=t.suspendedLanes,(d&a)!==a){ht(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=za(pr.bind(null,t,wt,wn),i);break}pr(t,wt,wn);break;case 4:if(Hn(t,a),(a&4194240)===a)break;for(i=t.eventTimes,d=-1;0<a;){var g=31-Ht(a);f=1<<g,g=i[g],g>d&&(d=g),a&=~f}if(a=d,a=Be()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Vv(a/1960))-a,10<a){t.timeoutHandle=za(pr.bind(null,t,wt,wn),a);break}pr(t,wt,wn);break;case 5:pr(t,wt,wn);break;default:throw Error(r(329))}}}return Et(t,Be()),t.callbackNode===o?pp.bind(null,t):null}function Du(t,i){var o=es;return t.current.memoizedState.isDehydrated&&(hr(t,i).flags|=256),t=qo(t,i),t!==2&&(i=wt,wt=o,i!==null&&Lu(i)),t}function Lu(t){wt===null?wt=t:wt.push.apply(wt,t)}function Qv(t){for(var i=t;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var d=o[a],f=d.getSnapshot;d=d.value;try{if(!qt(f(),d))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hn(t,i){for(i&=~Iu,i&=~zo,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var o=31-Ht(i),a=1<<o;t[o]=-1,i&=~a}}function mp(t){if(me&6)throw Error(r(327));Jr();var i=Js(t,0);if(!(i&1))return Et(t,Be()),null;var o=qo(t,i);if(t.tag!==0&&o===2){var a=fa(t);a!==0&&(i=a,o=Du(t,a))}if(o===1)throw o=Zi,hr(t,0),Hn(t,i),Et(t,Be()),o;if(o===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,pr(t,wt,wn),Et(t,Be()),null}function bu(t,i){var o=me;me|=1;try{return t(i)}finally{me=o,me===0&&(Xr=Be()+500,_o&&Fn())}}function fr(t){$n!==null&&$n.tag===0&&!(me&6)&&Jr();var i=me;me|=1;var o=jt.transition,a=Ee;try{if(jt.transition=null,Ee=1,t)return t()}finally{Ee=a,jt.transition=o,me=i,!(me&6)&&Fn()}}function Mu(){Pt=Yr.current,Ae(Yr)}function hr(t,i){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Sv(o)),He!==null)for(o=He.return;o!==null;){var a=o;switch(qa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&go();break;case 3:Qr(),Ae(yt),Ae(ot),iu();break;case 5:nu(a);break;case 4:Qr();break;case 13:Ae(Le);break;case 19:Ae(Le);break;case 10:Xa(a.type._context);break;case 22:case 23:Mu()}o=o.return}if(Xe=t,He=t=qn(t.current,null),rt=Pt=i,Qe=0,Zi=null,Iu=zo=dr=0,wt=es=null,ar!==null){for(i=0;i<ar.length;i++)if(o=ar[i],a=o.interleaved,a!==null){o.interleaved=null;var d=a.next,f=o.pending;if(f!==null){var g=f.next;f.next=d,a.next=g}o.pending=a}ar=null}return t}function gp(t,i){do{var o=He;try{if(Ya(),No.current=Oo,Io){for(var a=be.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}Io=!1}if(cr=0,Ye=Ve=be=null,Qi=!1,Gi=0,Nu.current=null,o===null||o.return===null){Qe=1,Zi=i,He=null;break}e:{var f=t,g=o.return,w=o,C=i;if(i=rt,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var D=C,B=w,$=B.tag;if(!(B.mode&1)&&($===0||$===11||$===15)){var z=B.alternate;z?(B.updateQueue=z.updateQueue,B.memoizedState=z.memoizedState,B.lanes=z.lanes):(B.updateQueue=null,B.memoizedState=null)}var Q=Bh(g);if(Q!==null){Q.flags&=-257,$h(Q,g,w,f,i),Q.mode&1&&Uh(f,D,i),i=Q,C=D;var X=i.updateQueue;if(X===null){var J=new Set;J.add(C),i.updateQueue=J}else X.add(C);break e}else{if(!(i&1)){Uh(f,D,i),Fu();break e}C=Error(r(426))}}else if(De&&w.mode&1){var $e=Bh(g);if($e!==null){!($e.flags&65536)&&($e.flags|=256),$h($e,g,w,f,i),Ga(Gr(C,w));break e}}f=C=Gr(C,w),Qe!==4&&(Qe=2),es===null?es=[f]:es.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var N=jh(f,C,i);dh(f,N);break e;case 1:w=C;var x=f.type,A=f.stateNode;if(!(f.flags&128)&&(typeof x.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Bn===null||!Bn.has(A)))){f.flags|=65536,i&=-i,f.lanes|=i;var W=zh(f,w,i);dh(f,W);break e}}f=f.return}while(f!==null)}vp(o)}catch(Z){i=Z,He===o&&o!==null&&(He=o=o.return);continue}break}while(!0)}function yp(){var t=jo.current;return jo.current=Oo,t===null?Oo:t}function Fu(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Xe===null||!(dr&268435455)&&!(zo&268435455)||Hn(Xe,rt)}function qo(t,i){var o=me;me|=2;var a=yp();(Xe!==t||rt!==i)&&(wn=null,hr(t,i));do try{Gv();break}catch(d){gp(t,d)}while(!0);if(Ya(),me=o,jo.current=a,He!==null)throw Error(r(261));return Xe=null,rt=0,Qe}function Gv(){for(;He!==null;)_p(He)}function Kv(){for(;He!==null&&!w_();)_p(He)}function _p(t){var i=Cp(t.alternate,t,Pt);t.memoizedProps=t.pendingProps,i===null?vp(t):He=i,Nu.current=null}function vp(t){var i=t;do{var o=i.alternate;if(t=i.return,i.flags&32768){if(o=$v(o,i),o!==null){o.flags&=32767,He=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,He=null;return}}else if(o=Bv(o,i,Pt),o!==null){He=o;return}if(i=i.sibling,i!==null){He=i;return}He=i=t}while(i!==null);Qe===0&&(Qe=5)}function pr(t,i,o){var a=Ee,d=jt.transition;try{jt.transition=null,Ee=1,Yv(t,i,o,a)}finally{jt.transition=d,Ee=a}return null}function Yv(t,i,o,a){do Jr();while($n!==null);if(me&6)throw Error(r(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(P_(t,f),t===Xe&&(He=Xe=null,rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Bo||(Bo=!0,Sp(Gs,function(){return Jr(),null})),f=(o.flags&15990)!==0,o.subtreeFlags&15990||f){f=jt.transition,jt.transition=null;var g=Ee;Ee=1;var w=me;me|=4,Nu.current=null,Hv(t,o),up(o,t),gv(Fa),to=!!Ma,Fa=Ma=null,t.current=o,qv(o),E_(),me=w,Ee=g,jt.transition=f}else t.current=o;if(Bo&&(Bo=!1,$n=t,$o=d),f=t.pendingLanes,f===0&&(Bn=null),x_(o.stateNode),Et(t,Be()),i!==null)for(a=t.onRecoverableError,o=0;o<i.length;o++)d=i[o],a(d.value,{componentStack:d.stack,digest:d.digest});if(Uo)throw Uo=!1,t=Au,Au=null,t;return $o&1&&t.tag!==0&&Jr(),f=t.pendingLanes,f&1?t===Ou?ts++:(ts=0,Ou=t):ts=0,Fn(),null}function Jr(){if($n!==null){var t=lf($o),i=jt.transition,o=Ee;try{if(jt.transition=null,Ee=16>t?16:t,$n===null)var a=!1;else{if(t=$n,$n=null,$o=0,me&6)throw Error(r(331));var d=me;for(me|=4,G=t.current;G!==null;){var f=G,g=f.child;if(G.flags&16){var w=f.deletions;if(w!==null){for(var C=0;C<w.length;C++){var D=w[C];for(G=D;G!==null;){var B=G;switch(B.tag){case 0:case 11:case 15:Ji(8,B,f)}var $=B.child;if($!==null)$.return=B,G=$;else for(;G!==null;){B=G;var z=B.sibling,Q=B.return;if(ip(B),B===D){G=null;break}if(z!==null){z.return=Q,G=z;break}G=Q}}}var X=f.alternate;if(X!==null){var J=X.child;if(J!==null){X.child=null;do{var $e=J.sibling;J.sibling=null,J=$e}while(J!==null)}}G=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,G=g;else e:for(;G!==null;){if(f=G,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ji(9,f,f.return)}var N=f.sibling;if(N!==null){N.return=f.return,G=N;break e}G=f.return}}var x=t.current;for(G=x;G!==null;){g=G;var A=g.child;if(g.subtreeFlags&2064&&A!==null)A.return=g,G=A;else e:for(g=x;G!==null;){if(w=G,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Fo(9,w)}}catch(Z){je(w,w.return,Z)}if(w===g){G=null;break e}var W=w.sibling;if(W!==null){W.return=w.return,G=W;break e}G=w.return}}if(me=d,Fn(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ks,t)}catch{}a=!0}return a}finally{Ee=o,jt.transition=i}}return!1}function wp(t,i,o){i=Gr(o,i),i=jh(t,i,1),t=zn(t,i,1),i=ht(),t!==null&&(ki(t,1,i),Et(t,i))}function je(t,i,o){if(t.tag===3)wp(t,t,o);else for(;i!==null;){if(i.tag===3){wp(i,t,o);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Bn===null||!Bn.has(a))){t=Gr(o,t),t=zh(i,t,1),i=zn(i,t,1),t=ht(),i!==null&&(ki(i,1,t),Et(i,t));break}}i=i.return}}function Xv(t,i,o){var a=t.pingCache;a!==null&&a.delete(i),i=ht(),t.pingedLanes|=t.suspendedLanes&o,Xe===t&&(rt&o)===o&&(Qe===4||Qe===3&&(rt&130023424)===rt&&500>Be()-Pu?hr(t,0):Iu|=o),Et(t,i)}function Ep(t,i){i===0&&(t.mode&1?(i=Xs,Xs<<=1,!(Xs&130023424)&&(Xs=4194304)):i=1);var o=ht();t=yn(t,i),t!==null&&(ki(t,i,o),Et(t,o))}function Jv(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Ep(t,o)}function Zv(t,i){var o=0;switch(t.tag){case 13:var a=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(r(314))}a!==null&&a.delete(i),Ep(t,o)}var Cp;Cp=function(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps||yt.current)vt=!0;else{if(!(t.lanes&o)&&!(i.flags&128))return vt=!1,Uv(t,i,o);vt=!!(t.flags&131072)}else vt=!1,De&&i.flags&1048576&&th(i,wo,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;bo(t,i),t=i.pendingProps;var d=Ur(i,ot.current);Vr(i,o),d=lu(null,i,a,t,d,o);var f=au();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,_t(a)?(f=!0,yo(i)):f=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,eu(i),d.updater=Do,i.stateNode=d,d._reactInternals=i,pu(i,a,t,o),i=_u(null,i,a,!0,f,o)):(i.tag=0,De&&f&&Ha(i),ft(null,i,d,o),i=i.child),i;case 16:a=i.elementType;e:{switch(bo(t,i),t=i.pendingProps,d=a._init,a=d(a._payload),i.type=a,d=i.tag=t0(a),t=Qt(a,t),d){case 0:i=yu(null,i,a,t,o);break e;case 1:i=Gh(null,i,a,t,o);break e;case 11:i=Wh(null,i,a,t,o);break e;case 14:i=Hh(null,i,a,Qt(a.type,t),o);break e}throw Error(r(306,a,""))}return i;case 0:return a=i.type,d=i.pendingProps,d=i.elementType===a?d:Qt(a,d),yu(t,i,a,d,o);case 1:return a=i.type,d=i.pendingProps,d=i.elementType===a?d:Qt(a,d),Gh(t,i,a,d,o);case 3:e:{if(Kh(i),t===null)throw Error(r(387));a=i.pendingProps,f=i.memoizedState,d=f.element,ch(t,i),To(i,a,null,o);var g=i.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){d=Gr(Error(r(423)),i),i=Yh(t,i,a,o,d);break e}else if(a!==d){d=Gr(Error(r(424)),i),i=Yh(t,i,a,o,d);break e}else for(It=Ln(i.stateNode.containerInfo.firstChild),Nt=i,De=!0,Vt=null,o=ah(i,null,a,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Wr(),a===d){i=vn(t,i,o);break e}ft(t,i,a,o)}i=i.child}return i;case 5:return hh(i),t===null&&Qa(i),a=i.type,d=i.pendingProps,f=t!==null?t.memoizedProps:null,g=d.children,ja(a,d)?g=null:f!==null&&ja(a,f)&&(i.flags|=32),Qh(t,i),ft(t,i,g,o),i.child;case 6:return t===null&&Qa(i),null;case 13:return Xh(t,i,o);case 4:return tu(i,i.stateNode.containerInfo),a=i.pendingProps,t===null?i.child=Hr(i,null,a,o):ft(t,i,a,o),i.child;case 11:return a=i.type,d=i.pendingProps,d=i.elementType===a?d:Qt(a,d),Wh(t,i,a,d,o);case 7:return ft(t,i,i.pendingProps,o),i.child;case 8:return ft(t,i,i.pendingProps.children,o),i.child;case 12:return ft(t,i,i.pendingProps.children,o),i.child;case 10:e:{if(a=i.type._context,d=i.pendingProps,f=i.memoizedProps,g=d.value,Te(So,a._currentValue),a._currentValue=g,f!==null)if(qt(f.value,g)){if(f.children===d.children&&!yt.current){i=vn(t,i,o);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var w=f.dependencies;if(w!==null){g=f.child;for(var C=w.firstContext;C!==null;){if(C.context===a){if(f.tag===1){C=_n(-1,o&-o),C.tag=2;var D=f.updateQueue;if(D!==null){D=D.shared;var B=D.pending;B===null?C.next=C:(C.next=B.next,B.next=C),D.pending=C}}f.lanes|=o,C=f.alternate,C!==null&&(C.lanes|=o),Ja(f.return,o,i),w.lanes|=o;break}C=C.next}}else if(f.tag===10)g=f.type===i.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(r(341));g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Ja(g,o,i),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===i){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}ft(t,i,d.children,o),i=i.child}return i;case 9:return d=i.type,a=i.pendingProps.children,Vr(i,o),d=Mt(d),a=a(d),i.flags|=1,ft(t,i,a,o),i.child;case 14:return a=i.type,d=Qt(a,i.pendingProps),d=Qt(a.type,d),Hh(t,i,a,d,o);case 15:return qh(t,i,i.type,i.pendingProps,o);case 17:return a=i.type,d=i.pendingProps,d=i.elementType===a?d:Qt(a,d),bo(t,i),i.tag=1,_t(a)?(t=!0,yo(i)):t=!1,Vr(i,o),Mh(i,a,d),pu(i,a,d,o),_u(null,i,a,!0,t,o);case 19:return Zh(t,i,o);case 22:return Vh(t,i,o)}throw Error(r(156,i.tag))};function Sp(t,i){return tf(t,i)}function e0(t,i,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,i,o,a){return new e0(t,i,o,a)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function t0(t){if(typeof t=="function")return ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===We)return 11;if(t===Dt)return 14}return 2}function qn(t,i){var o=t.alternate;return o===null?(o=zt(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Vo(t,i,o,a,d,f){var g=2;if(a=t,typeof t=="function")ju(t)&&(g=1);else if(typeof t=="string")g=5;else e:switch(t){case Y:return mr(o.children,d,f,i);case ne:g=8,d|=8;break;case re:return t=zt(12,o,i,d|2),t.elementType=re,t.lanes=f,t;case tt:return t=zt(13,o,i,d),t.elementType=tt,t.lanes=f,t;case Ot:return t=zt(19,o,i,d),t.elementType=Ot,t.lanes=f,t;case Fe:return Qo(o,d,f,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:g=10;break e;case Se:g=9;break e;case We:g=11;break e;case Dt:g=14;break e;case gt:g=16,a=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return i=zt(g,o,i,d),i.elementType=t,i.type=a,i.lanes=f,i}function mr(t,i,o,a){return t=zt(7,t,a,i),t.lanes=o,t}function Qo(t,i,o,a){return t=zt(22,t,a,i),t.elementType=Fe,t.lanes=o,t.stateNode={isHidden:!1},t}function zu(t,i,o){return t=zt(6,t,null,i),t.lanes=o,t}function Uu(t,i,o){return i=zt(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function n0(t,i,o,a,d){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Bu(t,i,o,a,d,f,g,w,C){return t=new n0(t,i,o,w,C),i===1?(i=1,f===!0&&(i|=8)):i=0,f=zt(3,null,null,i),t.current=f,f.stateNode=t,f.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(f),t}function r0(t,i,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:a==null?null:""+a,children:t,containerInfo:i,implementation:o}}function xp(t){if(!t)return Mn;t=t._reactInternals;e:{if(rr(t)!==t||t.tag!==1)throw Error(r(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(_t(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(t.tag===1){var o=t.type;if(_t(o))return Jf(t,o,i)}return i}function kp(t,i,o,a,d,f,g,w,C){return t=Bu(o,a,!0,t,d,f,g,w,C),t.context=xp(null),o=t.current,a=ht(),d=Wn(o),f=_n(a,d),f.callback=i??null,zn(o,f,d),t.current.lanes=d,ki(t,d,a),Et(t,a),t}function Go(t,i,o,a){var d=i.current,f=ht(),g=Wn(d);return o=xp(o),i.context===null?i.context=o:i.pendingContext=o,i=_n(f,g),i.payload={element:t},a=a===void 0?null:a,a!==null&&(i.callback=a),t=zn(d,i,g),t!==null&&(Yt(t,d,g,f),ko(t,d,g)),g}function Ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function $u(t,i){Tp(t,i),(t=t.alternate)&&Tp(t,i)}function i0(){return null}var Rp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wu(t){this._internalRoot=t}Yo.prototype.render=Wu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));Go(t,i,null,null)},Yo.prototype.unmount=Wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;fr(function(){Go(null,t,null,null)}),i[hn]=null}};function Yo(t){this._internalRoot=t}Yo.prototype.unstable_scheduleHydration=function(t){if(t){var i=cf();t={blockedOn:null,target:t,priority:i};for(var o=0;o<An.length&&i!==0&&i<An[o].priority;o++);An.splice(o,0,t),o===0&&hf(t)}};function Hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Np(){}function s0(t,i,o,a,d){if(d){if(typeof a=="function"){var f=a;a=function(){var D=Ko(g);f.call(D)}}var g=kp(i,a,t,0,null,!1,!1,"",Np);return t._reactRootContainer=g,t[hn]=g.current,zi(t.nodeType===8?t.parentNode:t),fr(),g}for(;d=t.lastChild;)t.removeChild(d);if(typeof a=="function"){var w=a;a=function(){var D=Ko(C);w.call(D)}}var C=Bu(t,0,!1,null,null,!1,!1,"",Np);return t._reactRootContainer=C,t[hn]=C.current,zi(t.nodeType===8?t.parentNode:t),fr(function(){Go(i,C,o,a)}),C}function Jo(t,i,o,a,d){var f=o._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var w=d;d=function(){var C=Ko(g);w.call(C)}}Go(i,g,t,d)}else g=s0(o,i,t,d,a);return Ko(g)}af=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var o=xi(i.pendingLanes);o!==0&&(pa(i,o|1),Et(i,Be()),!(me&6)&&(Xr=Be()+500,Fn()))}break;case 13:fr(function(){var a=yn(t,1);if(a!==null){var d=ht();Yt(a,t,1,d)}}),$u(t,1)}},ma=function(t){if(t.tag===13){var i=yn(t,134217728);if(i!==null){var o=ht();Yt(i,t,134217728,o)}$u(t,134217728)}},uf=function(t){if(t.tag===13){var i=Wn(t),o=yn(t,i);if(o!==null){var a=ht();Yt(o,t,i,a)}$u(t,i)}},cf=function(){return Ee},df=function(t,i){var o=Ee;try{return Ee=t,i()}finally{Ee=o}},la=function(t,i,o){switch(i){case"input":if(Zl(t,o),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var a=o[i];if(a!==t&&a.form===t.form){var d=mo(a);if(!d)throw Error(r(90));Ld(a),Zl(a,d)}}}break;case"textarea":zd(t,o);break;case"select":i=o.value,i!=null&&Nr(t,!!o.multiple,i,!1)}},Gd=bu,Kd=fr;var o0={usingClientEntryPoint:!1,Events:[$i,jr,mo,Vd,Qd,bu]},ns={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l0={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zd(t),t===null?null:t.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||i0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{Ks=Zo.inject(l0),rn=Zo}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o0,Ct.createPortal=function(t,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(i))throw Error(r(200));return r0(t,i,null,o)},Ct.createRoot=function(t,i){if(!Hu(t))throw Error(r(299));var o=!1,a="",d=Rp;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Bu(t,1,!1,null,null,o,!1,a,d),t[hn]=i.current,zi(t.nodeType===8?t.parentNode:t),new Wu(i)},Ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Zd(i),t=t===null?null:t.stateNode,t},Ct.flushSync=function(t){return fr(t)},Ct.hydrate=function(t,i,o){if(!Xo(i))throw Error(r(200));return Jo(null,t,i,!0,o)},Ct.hydrateRoot=function(t,i,o){if(!Hu(t))throw Error(r(405));var a=o!=null&&o.hydratedSources||null,d=!1,f="",g=Rp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),i=kp(i,null,t,1,o??null,d,!1,f,g),t[hn]=i.current,zi(t),a)for(t=0;t<a.length;t++)o=a[t],d=o._getVersion,d=d(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,d]:i.mutableSourceEagerHydrationData.push(o,d);return new Yo(i)},Ct.render=function(t,i,o){if(!Xo(i))throw Error(r(200));return Jo(null,t,i,!1,o)},Ct.unmountComponentAtNode=function(t){if(!Xo(t))throw Error(r(40));return t._reactRootContainer?(fr(function(){Jo(null,null,t,!1,function(){t._reactRootContainer=null,t[hn]=null})}),!0):!1},Ct.unstable_batchedUpdates=bu,Ct.unstable_renderSubtreeIntoContainer=function(t,i,o,a){if(!Xo(o))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Jo(t,i,o,!1,a)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var Mp;function g0(){if(Mp)return Qu.exports;Mp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qu.exports=m0(),Qu.exports}var Fp;function y0(){if(Fp)return el;Fp=1;var n=g0();return el.createRoot=n.createRoot,el.hydrateRoot=n.hydrateRoot,el}var _0=y0();const v0=Xm(_0);var is={},jp;function w0(){if(jp)return is;jp=1,Object.defineProperty(is,"__esModule",{value:!0}),is.parse=c,is.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,S){const E=new u,I=v.length;if(I<2)return E;const R=(S==null?void 0:S.decode)||y;let M=0;do{const O=v.indexOf("=",M);if(O===-1)break;const b=v.indexOf(";",M),H=b===-1?I:b;if(O>H){M=v.lastIndexOf(";",O-1)+1;continue}const F=h(v,M,O),j=p(v,O,F),Y=v.slice(F,j);if(E[Y]===void 0){let ne=h(v,O+1,H),re=p(v,H,ne);const fe=R(v.slice(ne,re));E[Y]=fe}M=H+1}while(M<I);return E}function h(v,S,E){do{const I=v.charCodeAt(S);if(I!==32&&I!==9)return S}while(++S<E);return E}function p(v,S,E){for(;S>E;){const I=v.charCodeAt(--S);if(I!==32&&I!==9)return S+1}return E}function m(v,S,E){const I=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const R=I(S);if(!e.test(R))throw new TypeError(`argument val is invalid: ${S}`);let M=v+"="+R;if(!E)return M;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);M+="; Max-Age="+E.maxAge}if(E.domain){if(!r.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);M+="; Domain="+E.domain}if(E.path){if(!s.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);M+="; Path="+E.path}if(E.expires){if(!_(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);M+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(M+="; HttpOnly"),E.secure&&(M+="; Secure"),E.partitioned&&(M+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return M}function y(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return l.call(v)==="[object Date]"}return is}w0();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zp="popstate";function E0(n={}){function e(s,l){let{pathname:u,search:c,hash:h}=s.location;return hc("",{pathname:u,search:c,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:gs(l)}return S0(e,r,null,n)}function Me(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C0(){return Math.random().toString(36).substring(2,10)}function Up(n,e){return{usr:n.state,key:n.key,idx:e}}function hc(n,e,r=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ci(e):e,state:r,key:e&&e.key||s||C0()}}function gs({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function ci(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function S0(n,e,r,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,c=l.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let R=y(),M=R==null?null:R-m;m=R,p&&p({action:h,location:I.location,delta:M})}function v(R,M){h="PUSH";let O=hc(I.location,R,M);m=y()+1;let b=Up(O,m),H=I.createHref(O);try{c.pushState(b,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(H)}u&&p&&p({action:h,location:I.location,delta:1})}function S(R,M){h="REPLACE";let O=hc(I.location,R,M);m=y();let b=Up(O,m),H=I.createHref(O);c.replaceState(b,"",H),u&&p&&p({action:h,location:I.location,delta:0})}function E(R){let M=l.location.origin!=="null"?l.location.origin:l.location.href,O=typeof R=="string"?R:gs(R);return O=O.replace(/ $/,"%20"),Me(M,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,M)}let I={get action(){return h},get location(){return n(l,c)},listen(R){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(zp,_),p=R,()=>{l.removeEventListener(zp,_),p=null}},createHref(R){return e(l,R)},createURL:E,encodeLocation(R){let M=E(R);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:S,go(R){return c.go(R)}};return I}function Jm(n,e,r="/"){return x0(n,e,r,!1)}function x0(n,e,r,s){let l=typeof e=="string"?ci(e):e,u=Zn(l.pathname||"/",r);if(u==null)return null;let c=Zm(n);k0(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=M0(u);h=L0(c[p],m,s)}return h}function Zm(n,e=[],r=[],s=""){let l=(u,c,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let m=Cn([s,p.relativePath]),y=r.concat(p);u.children&&u.children.length>0&&(Me(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Zm(u.children,e,y,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:O0(m,u.index),routesMeta:y})};return n.forEach((u,c)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,c);else for(let p of eg(u.path))l(u,c,p)}),e}function eg(n){let e=n.split("/");if(e.length===0)return[];let[r,...s]=e,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let c=eg(s.join("/")),h=[];return h.push(...c.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function k0(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:D0(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var T0=/^:[\w-]+$/,R0=3,N0=2,I0=1,P0=10,A0=-2,Bp=n=>n==="*";function O0(n,e){let r=n.split("/"),s=r.length;return r.some(Bp)&&(s+=A0),e&&(s+=N0),r.filter(l=>!Bp(l)).reduce((l,u)=>l+(T0.test(u)?R0:u===""?I0:P0),s)}function D0(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function L0(n,e,r=!1){let{routesMeta:s}=n,l={},u="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",_=dl({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),v=p.route;if(!_&&m&&r&&!s[s.length-1].route.index&&(_=dl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(l,_.params),c.push({params:l,pathname:Cn([u,_.pathname]),pathnameBase:U0(Cn([u,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(u=Cn([u,_.pathnameBase]))}return c}function dl(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,s]=b0(n.path,n.caseSensitive,n.end),l=e.match(r);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:_},v)=>{if(y==="*"){let E=h[v]||"";c=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const S=h[v];return _&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:n}}function b0(n,e=!1,r=!0){cn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function M0(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=n.charAt(r);return s&&s!=="/"?null:n.slice(r)||"/"}function F0(n,e="/"){let{pathname:r,search:s="",hash:l=""}=typeof n=="string"?ci(n):n;return{pathname:r?r.startsWith("/")?r:j0(r,e):e,search:B0(s),hash:$0(l)}}function j0(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Yu(n,e,r,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z0(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tg(n){let e=z0(n);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function ng(n,e,r,s=!1){let l;typeof n=="string"?l=ci(n):(l={...n},Me(!l.pathname||!l.pathname.includes("?"),Yu("?","pathname","search",l)),Me(!l.pathname||!l.pathname.includes("#"),Yu("#","pathname","hash",l)),Me(!l.search||!l.search.includes("#"),Yu("#","search","hash",l)));let u=n===""||l.pathname==="",c=u?"/":l.pathname,h;if(c==null)h=r;else{let _=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),_-=1;l.pathname=v.join("/")}h=_>=0?e[_]:"/"}let p=F0(l,h),m=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Cn=n=>n.join("/").replace(/\/\/+/g,"/"),U0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),B0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function W0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rg=["POST","PUT","PATCH","DELETE"];new Set(rg);var H0=["GET",...rg];new Set(H0);var di=P.createContext(null);di.displayName="DataRouter";var Al=P.createContext(null);Al.displayName="DataRouterState";var ig=P.createContext({isTransitioning:!1});ig.displayName="ViewTransition";var q0=P.createContext(new Map);q0.displayName="Fetchers";var V0=P.createContext(null);V0.displayName="Await";var dn=P.createContext(null);dn.displayName="Navigation";var Ps=P.createContext(null);Ps.displayName="Location";var Tn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Tn.displayName="Route";var $c=P.createContext(null);$c.displayName="RouteError";function Q0(n,{relative:e}={}){Me(As(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=P.useContext(dn),{hash:l,pathname:u,search:c}=Os(n,{relative:e}),h=u;return r!=="/"&&(h=u==="/"?r:Cn([r,u])),s.createHref({pathname:h,search:c,hash:l})}function As(){return P.useContext(Ps)!=null}function dt(){return Me(As(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Ps).location}var sg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function og(n){P.useContext(dn).static||P.useLayoutEffect(n)}function Wt(){let{isDataRoute:n}=P.useContext(Tn);return n?ow():G0()}function G0(){Me(As(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(di),{basename:e,navigator:r}=P.useContext(dn),{matches:s}=P.useContext(Tn),{pathname:l}=dt(),u=JSON.stringify(tg(s)),c=P.useRef(!1);return og(()=>{c.current=!0}),P.useCallback((p,m={})=>{if(cn(c.current,sg),!c.current)return;if(typeof p=="number"){r.go(p);return}let y=ng(p,JSON.parse(u),l,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Cn([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,u,l,n])}P.createContext(null);function Os(n,{relative:e}={}){let{matches:r}=P.useContext(Tn),{pathname:s}=dt(),l=JSON.stringify(tg(r));return P.useMemo(()=>ng(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function K0(n,e){return lg(n,e)}function lg(n,e,r,s){var M;Me(As(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(dn),{matches:u}=P.useContext(Tn),c=u[u.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let O=y&&y.path||"";ag(p,!y||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let _=dt(),v;if(e){let O=typeof e=="string"?ci(e):e;Me(m==="/"||((M=O.pathname)==null?void 0:M.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),v=O}else v=_;let S=v.pathname||"/",E=S;if(m!=="/"){let O=m.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let I=Jm(n,{pathname:E});cn(y||I!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),cn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=ew(I&&I.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:Cn([m,l.encodeLocation?l.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:Cn([m,l.encodeLocation?l.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,r,s);return e&&R?P.createElement(Ps.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function Y0(){let n=sw(),e=W0(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:l},r):null,c)}var X0=P.createElement(Y0,null),J0=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?P.createElement(Tn.Provider,{value:this.props.routeContext},P.createElement($c.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z0({routeContext:n,match:e,children:r}){let s=P.useContext(di);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Tn.Provider,{value:n},r)}function ew(n,e=[],r=null,s=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let l=n,u=r==null?void 0:r.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Me(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let c=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:_}=r,v=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||v){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,y)=>{let _,v=!1,S=null,E=null;r&&(_=u&&m.route.id?u[m.route.id]:void 0,S=m.route.errorElement||X0,c&&(h<0&&y===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):h===y&&(v=!0,E=m.route.hydrateFallbackElement||null)));let I=e.concat(l.slice(0,y+1)),R=()=>{let M;return _?M=S:v?M=E:m.route.Component?M=P.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=p,P.createElement(Z0,{match:m,routeContext:{outlet:p,matches:I,isDataRoute:r!=null},children:M})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?P.createElement(J0,{location:r.location,revalidation:r.revalidation,component:S,error:_,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}function Wc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tw(n){let e=P.useContext(di);return Me(e,Wc(n)),e}function nw(n){let e=P.useContext(Al);return Me(e,Wc(n)),e}function rw(n){let e=P.useContext(Tn);return Me(e,Wc(n)),e}function Hc(n){let e=rw(n),r=e.matches[e.matches.length-1];return Me(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function iw(){return Hc("useRouteId")}function sw(){var s;let n=P.useContext($c),e=nw("useRouteError"),r=Hc("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[r]}function ow(){let{router:n}=tw("useNavigate"),e=Hc("useNavigate"),r=P.useRef(!1);return og(()=>{r.current=!0}),P.useCallback(async(l,u={})=>{cn(r.current,sg),r.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...u}))},[n,e])}var $p={};function ag(n,e,r){!e&&!$p[n]&&($p[n]=!0,cn(!1,r))}P.memo(lw);function lw({routes:n,future:e,state:r}){return lg(n,void 0,r,e)}function Ut(n){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aw({basename:n="/",children:e=null,location:r,navigationType:s="POP",navigator:l,static:u=!1}){Me(!As(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:c,navigator:l,static:u,future:{}}),[c,l,u]);typeof r=="string"&&(r=ci(r));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:v="default"}=r,S=P.useMemo(()=>{let E=Zn(p,c);return E==null?null:{location:{pathname:E,search:m,hash:y,state:_,key:v},navigationType:s}},[c,p,m,y,_,v,s]);return cn(S!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:P.createElement(dn.Provider,{value:h},P.createElement(Ps.Provider,{children:e,value:S}))}function uw({children:n,location:e}){return K0(pc(n),e)}function pc(n,e=[]){let r=[];return P.Children.forEach(n,(s,l)=>{if(!P.isValidElement(s))return;let u=[...e,l];if(s.type===P.Fragment){r.push.apply(r,pc(s.props.children,u));return}Me(s.type===Ut,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=pc(s.props.children,u)),r.push(c)}),r}var il="get",sl="application/x-www-form-urlencoded";function Ol(n){return n!=null&&typeof n.tagName=="string"}function cw(n){return Ol(n)&&n.tagName.toLowerCase()==="button"}function dw(n){return Ol(n)&&n.tagName.toLowerCase()==="form"}function fw(n){return Ol(n)&&n.tagName.toLowerCase()==="input"}function hw(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pw(n,e){return n.button===0&&(!e||e==="_self")&&!hw(n)}var tl=null;function mw(){if(tl===null)try{new FormData(document.createElement("form"),0),tl=!1}catch{tl=!0}return tl}var gw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xu(n){return n!=null&&!gw.has(n)?(cn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):n}function yw(n,e){let r,s,l,u,c;if(dw(n)){let h=n.getAttribute("action");s=h?Zn(h,e):null,r=n.getAttribute("method")||il,l=Xu(n.getAttribute("enctype"))||sl,u=new FormData(n)}else if(cw(n)||fw(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(s=p?Zn(p,e):null,r=n.getAttribute("formmethod")||h.getAttribute("method")||il,l=Xu(n.getAttribute("formenctype"))||Xu(h.getAttribute("enctype"))||sl,u=new FormData(h,n),!mw()){let{name:m,type:y,value:_}=n;if(y==="image"){let v=m?`${m}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else m&&u.append(m,_)}}else{if(Ol(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=il,s=null,l=sl,c=n}return u&&l==="text/plain"&&(c=u,u=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:u,body:c}}function qc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function _w(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ww(n,e,r){let s=await Promise.all(n.map(async l=>{let u=e.routes[l.route.id];if(u){let c=await _w(u,r);return c.links?c.links():[]}return[]}));return xw(s.flat(1).filter(vw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Wp(n,e,r,s,l,u){let c=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,h=(p,m)=>{var y;return r[m].pathname!==p.pathname||((y=r[m].route.path)==null?void 0:y.endsWith("*"))&&r[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):u==="data"?e.filter((p,m)=>{var _;let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((_=r[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Ew(n,e){return Cw(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function Cw(n){return[...new Set(n)]}function Sw(n){let e={},r=Object.keys(n).sort();for(let s of r)e[s]=n[s];return e}function xw(n,e){let r=new Set;return new Set(e),n.reduce((s,l)=>{let u=JSON.stringify(Sw(l));return r.has(u)||(r.add(u),s.push({key:u,link:l})),s},[])}function kw(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Tw(){let n=P.useContext(di);return qc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Rw(){let n=P.useContext(Al);return qc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vc=P.createContext(void 0);Vc.displayName="FrameworkContext";function ug(){let n=P.useContext(Vc);return qc(n,"You must render this element inside a <HydratedRouter> element"),n}function Nw(n,e){let r=P.useContext(Vc),[s,l]=P.useState(!1),[u,c]=P.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,v=P.useRef(null);P.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=M=>{M.forEach(O=>{c(O.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[n]),P.useEffect(()=>{if(s){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[s]);let S=()=>{l(!0)},E=()=>{l(!1),c(!1)};return r?n!=="intent"?[u,v,{}]:[u,v,{onFocus:ss(h,S),onBlur:ss(p,E),onMouseEnter:ss(m,S),onMouseLeave:ss(y,E),onTouchStart:ss(_,S)}]:[!1,v,{}]}function ss(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function Iw({page:n,...e}){let{router:r}=Tw(),s=P.useMemo(()=>Jm(r.routes,n,r.basename),[r.routes,n,r.basename]);return s?P.createElement(Aw,{page:n,matches:s,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function Pw(n){let{manifest:e,routeModules:r}=ug(),[s,l]=P.useState([]);return P.useEffect(()=>{let u=!1;return ww(n,e,r).then(c=>{u||l(c)}),()=>{u=!0}},[n,e,r]),s}function Aw({page:n,matches:e,...r}){let s=dt(),{manifest:l,routeModules:u}=ug(),{loaderData:c,matches:h}=Rw(),p=P.useMemo(()=>Wp(n,e,h,l,s,"data"),[n,e,h,l,s]),m=P.useMemo(()=>Wp(n,e,h,l,s,"assets"),[n,e,h,l,s]),y=P.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let S=new Set,E=!1;if(e.forEach(R=>{var O;let M=l.routes[R.route.id];!M||!M.hasLoader||(!p.some(b=>b.route.id===R.route.id)&&R.route.id in c&&((O=u[R.route.id])!=null&&O.shouldRevalidate)||M.hasClientLoader?E=!0:S.add(R.route.id))}),S.size===0)return[];let I=kw(n);return E&&S.size>0&&I.searchParams.set("_routes",e.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[I.pathname+I.search]},[c,s,l,p,e,n,u]),_=P.useMemo(()=>Ew(m,l),[m,l]),v=Pw(m);return P.createElement(P.Fragment,null,y.map(S=>P.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),_.map(S=>P.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),v.map(({key:S,link:E})=>P.createElement("link",{key:S,...E})))}function Ow(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var cg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cg&&(window.__reactRouterVersion="7.0.2")}catch{}function Dw({basename:n,children:e,window:r}){let s=P.useRef();s.current==null&&(s.current=E0({window:r,v5Compat:!0}));let l=s.current,[u,c]=P.useState({action:l.action,location:l.location}),h=P.useCallback(p=>{P.startTransition(()=>c(p))},[c]);return P.useLayoutEffect(()=>l.listen(h),[l,h]),P.createElement(aw,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l})}var dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fg=P.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:l,reloadDocument:u,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:_,...v},S){let{basename:E}=P.useContext(dn),I=typeof m=="string"&&dg.test(m),R,M=!1;if(typeof m=="string"&&I&&(R=m,cg))try{let re=new URL(window.location.href),fe=m.startsWith("//")?new URL(re.protocol+m):new URL(m),Se=Zn(fe.pathname,E);fe.origin===re.origin&&Se!=null?m=Se+fe.search+fe.hash:M=!0}catch{cn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Q0(m,{relative:l}),[b,H,F]=Nw(s,v),j=Fw(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:l,viewTransition:_});function Y(re){e&&e(re),re.defaultPrevented||j(re)}let ne=P.createElement("a",{...v,...F,href:R||O,onClick:M||u?e:Y,ref:Ow(S,H),target:p,"data-discover":!I&&r==="render"?"true":void 0});return b&&!I?P.createElement(P.Fragment,null,ne,P.createElement(Iw,{page:O})):ne});fg.displayName="Link";var Lw=P.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:l=!1,style:u,to:c,viewTransition:h,children:p,...m},y){let _=Os(c,{relative:m.relative}),v=dt(),S=P.useContext(Al),{navigator:E,basename:I}=P.useContext(dn),R=S!=null&&$w(_)&&h===!0,M=E.encodeLocation?E.encodeLocation(_).pathname:_.pathname,O=v.pathname,b=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(O=O.toLowerCase(),b=b?b.toLowerCase():null,M=M.toLowerCase()),b&&I&&(b=Zn(b,I)||b);const H=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let F=O===M||!l&&O.startsWith(M)&&O.charAt(H)==="/",j=b!=null&&(b===M||!l&&b.startsWith(M)&&b.charAt(M.length)==="/"),Y={isActive:F,isPending:j,isTransitioning:R},ne=F?e:void 0,re;typeof s=="function"?re=s(Y):re=[s,F?"active":null,j?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let fe=typeof u=="function"?u(Y):u;return P.createElement(fg,{...m,"aria-current":ne,className:re,ref:y,style:fe,to:c,viewTransition:h},typeof p=="function"?p(Y):p)});Lw.displayName="NavLink";var bw=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:l,state:u,method:c=il,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...v},S)=>{let E=Uw(),I=Bw(h,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&dg.test(h),O=b=>{if(p&&p(b),b.defaultPrevented)return;b.preventDefault();let H=b.nativeEvent.submitter,F=(H==null?void 0:H.getAttribute("formmethod"))||c;E(H||b.currentTarget,{fetcherKey:e,method:F,navigate:r,replace:l,state:u,relative:m,preventScrollReset:y,viewTransition:_})};return P.createElement("form",{ref:S,method:R,action:I,onSubmit:s?p:O,...v,"data-discover":!M&&n==="render"?"true":void 0})});bw.displayName="Form";function Mw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hg(n){let e=P.useContext(di);return Me(e,Mw(n)),e}function Fw(n,{target:e,replace:r,state:s,preventScrollReset:l,relative:u,viewTransition:c}={}){let h=Wt(),p=dt(),m=Os(n,{relative:u});return P.useCallback(y=>{if(pw(y,e)){y.preventDefault();let _=r!==void 0?r:gs(p)===gs(m);h(n,{replace:_,state:s,preventScrollReset:l,relative:u,viewTransition:c})}},[p,h,m,r,s,e,n,l,u,c])}var jw=0,zw=()=>`__${String(++jw)}__`;function Uw(){let{router:n}=hg("useSubmit"),{basename:e}=P.useContext(dn),r=iw();return P.useCallback(async(s,l={})=>{let{action:u,method:c,encType:h,formData:p,body:m}=yw(s,e);if(l.navigate===!1){let y=l.fetcherKey||zw();await n.fetch(y,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||c,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||c,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,r])}function Bw(n,{relative:e}={}){let{basename:r}=P.useContext(dn),s=P.useContext(Tn);Me(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Os(n||".",{relative:e})},c=dt();if(n==null){u.search=c.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();u.search=y?`?${y}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Cn([r,u.pathname])),gs(u)}function $w(n,e={}){let r=P.useContext(ig);Me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hg("useViewTransitionState"),l=Os(n,{relative:e.relative});if(!r.isTransitioning)return!1;let u=Zn(r.currentLocation.pathname,s)||r.currentLocation.pathname,c=Zn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return dl(l.pathname,c)!=null||dl(l.pathname,u)!=null}new TextEncoder;function Ww(){const n=Wt(),e=()=>{n("/login")},r=()=>{n("/quiz",{state:{id:1}})};return k.jsx("div",{className:"welcome-container",children:k.jsxs("div",{className:"welcome-card",children:[k.jsx("h1",{children:"Welcome to the Quiz!"}),k.jsx("p",{className:"welcome-description",children:"Ready to test your general knowledge? Press the button below to begin the quiz."}),k.jsxs("div",{className:"button-container",children:[k.jsx("button",{onClick:r,className:"continue-btn",children:"Guest"}),k.jsx("button",{onClick:e,className:"login-btn",children:"Login to Continue"})]})]})})}var Hp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(n,e){if(!n)throw fi(e)},fi=function(n){return new Error("Firebase Database ("+pg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},Hw=function(n){const e=[];let r=0,s=0;for(;r<n.length;){const l=n[r++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[r++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[r++],c=n[r++],h=n[r++],p=((l&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[r++],c=n[r++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Qc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],c=l+1<n.length,h=c?n[l+1]:0,p=l+2<n.length,m=p?n[l+2]:0,y=u>>2,_=(u&3)<<4|h>>4;let v=(h&15)<<2|m>>6,S=m&63;p||(S=64,c||(v=64)),s.push(r[y],r[_],r[v],r[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mg(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Hw(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=r[n.charAt(l++)],h=l<n.length?r[n.charAt(l)]:0;++l;const m=l<n.length?r[n.charAt(l)]:64;++l;const _=l<n.length?r[n.charAt(l)]:64;if(++l,u==null||h==null||m==null||_==null)throw new qw;const v=u<<2|h>>4;if(s.push(v),m!==64){const S=h<<4&240|m>>2;if(s.push(S),_!==64){const E=m<<6&192|_;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gg=function(n){const e=mg(n);return Qc.encodeByteArray(e,!0)},fl=function(n){return gg(n).replace(/\./g,"")},mc=function(n){try{return Qc.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n){return yg(void 0,n)}function yg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Qw(r)||(n[r]=yg(n[r],e[r]));return n}function Qw(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=()=>Gw().__FIREBASE_DEFAULTS__,Yw=()=>{if(typeof process>"u"||typeof Hp>"u")return;const n=Hp.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Xw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mc(n[1]);return e&&JSON.parse(e)},_g=()=>{try{return Kw()||Yw()||Xw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Jw=n=>{var e,r;return(r=(e=_g())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},Zw=n=>{const e=Jw(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},vg=()=>{var n;return(n=_g())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fl(JSON.stringify(r)),fl(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tE())}function nE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eg(){return pg.NODE_ADMIN===!0}function rE(){try{return typeof indexedDB=="object"}catch{return!1}}function iE(){return new Promise((n,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="FirebaseError";class Ls extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=sE,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cg.prototype.create)}}class Cg{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},l=`${this.service}/${e}`,u=this.errors[e],c=u?oE(u,s):"Error",h=`${this.serviceName}: ${c} (${l}).`;return new Ls(l,h,s)}}function oE(n,e){return n.replace(lE,(r,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const lE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(n){return JSON.parse(n)}function Ke(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=function(n){let e={},r={},s={},l="";try{const u=n.split(".");e=ys(mc(u[0])||""),r=ys(mc(u[1])||""),l=u[2],s=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:s,signature:l}},aE=function(n){const e=Sg(n),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},uE=function(n){const e=Sg(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ii(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function qp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hl(n,e,r){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(r,n[l],l,n));return s}function gc(n,e){if(n===e)return!0;const r=Object.keys(n),s=Object.keys(e);for(const l of r){if(!s.includes(l))return!1;const u=n[l],c=e[l];if(Vp(u)&&Vp(c)){if(!gc(u,c))return!1}else if(u!==c)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function Vp(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(n){const e=[];for(const[r,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let _=0;_<16;_++)s[_]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let _=16;_<80;_++){const v=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,y;for(let _=0;_<80;_++){_<40?_<20?(m=h^u&(c^h),y=1518500249):(m=u^c^h,y=1859775393):_<60?(m=u&c|h&(u|c),y=2400959708):(m=u^c^h,y=3395469782);const v=(l<<5|l>>>27)+m+p+y+s[_]&4294967295;p=h,h=c,c=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const s=r-this.blockSize;let l=0;const u=this.buf_;let c=this.inbuf_;for(;l<r;){if(c===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<r;)if(u[c]=e.charCodeAt(l),++c,++l,c===this.blockSize){this.compress_(u),c=0;break}}else for(;l<r;)if(u[c]=e[l],++c,++l,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function Dl(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,q(s<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(s)-56320;l=65536+(u<<10)+c}l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):l<65536?(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},Ll=function(n){let e=0;for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n){return n&&n._delegate?n._delegate:n}class _s{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Ds;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mE(e))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gr){return this.instances.has(e)}getOptions(e=gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&c.resolve(l)}return l}onInit(e,r){var s;const l=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const c=this.instances.get(l);return c&&e(c,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pE(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=gr){return this.component?this.component.multipleInstances?e:gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pE(n){return n===gr?void 0:n}function mE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new hE(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const yE={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},_E=Ne.INFO,vE={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},wE=(n,e,...r)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=vE[e];if(l)console[l](`[${s}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=_E,this._logHandler=wE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const EE=(n,e)=>e.some(r=>n instanceof r);let Qp,Gp;function CE(){return Qp||(Qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SE(){return Gp||(Gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kg=new WeakMap,yc=new WeakMap,Tg=new WeakMap,Ju=new WeakMap,Gc=new WeakMap;function xE(n){const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{r(Kn(n.result)),l()},c=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(r=>{r instanceof IDBCursor&&kg.set(r,n)}).catch(()=>{}),Gc.set(e,n),e}function kE(n){if(yc.has(n))return;const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{r(),l()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});yc.set(n,e)}let _c={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return yc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tg.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Kn(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function TE(n){_c=n(_c)}function RE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=n.call(Zu(this),e,...r);return Tg.set(s,e.sort?e.sort():[e]),Kn(s)}:SE().includes(n)?function(...e){return n.apply(Zu(this),e),Kn(kg.get(this))}:function(...e){return Kn(n.apply(Zu(this),e))}}function NE(n){return typeof n=="function"?RE(n):(n instanceof IDBTransaction&&kE(n),EE(n,CE())?new Proxy(n,_c):n)}function Kn(n){if(n instanceof IDBRequest)return xE(n);if(Ju.has(n))return Ju.get(n);const e=NE(n);return e!==n&&(Ju.set(n,e),Gc.set(e,n)),e}const Zu=n=>Gc.get(n);function IE(n,e,{blocked:r,upgrade:s,blocking:l,terminated:u}={}){const c=indexedDB.open(n,e),h=Kn(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Kn(c.result),p.oldVersion,p.newVersion,Kn(c.transaction),p)}),r&&c.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const PE=["get","getKey","getAll","getAllKeys","count"],AE=["put","add","delete","clear"],ec=new Map;function Kp(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ec.get(e))return ec.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,l=AE.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||PE.includes(r)))return;const u=async function(c,...h){const p=this.transaction(c,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[r](...h),l&&p.done]))[0]};return ec.set(e,u),u}TE(n=>({...n,get:(e,r,s)=>Kp(e,r)||n.get(e,r,s),has:(e,r)=>!!Kp(e,r)||n.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(DE(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function DE(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vc="@firebase/app",Yp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new xg("@firebase/app"),LE="@firebase/app-compat",bE="@firebase/analytics-compat",ME="@firebase/analytics",FE="@firebase/app-check-compat",jE="@firebase/app-check",zE="@firebase/auth",UE="@firebase/auth-compat",BE="@firebase/database",$E="@firebase/data-connect",WE="@firebase/database-compat",HE="@firebase/functions",qE="@firebase/functions-compat",VE="@firebase/installations",QE="@firebase/installations-compat",GE="@firebase/messaging",KE="@firebase/messaging-compat",YE="@firebase/performance",XE="@firebase/performance-compat",JE="@firebase/remote-config",ZE="@firebase/remote-config-compat",eC="@firebase/storage",tC="@firebase/storage-compat",nC="@firebase/firestore",rC="@firebase/vertexai",iC="@firebase/firestore-compat",sC="firebase",oC="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="[DEFAULT]",lC={[vc]:"fire-core",[LE]:"fire-core-compat",[ME]:"fire-analytics",[bE]:"fire-analytics-compat",[jE]:"fire-app-check",[FE]:"fire-app-check-compat",[zE]:"fire-auth",[UE]:"fire-auth-compat",[BE]:"fire-rtdb",[$E]:"fire-data-connect",[WE]:"fire-rtdb-compat",[HE]:"fire-fn",[qE]:"fire-fn-compat",[VE]:"fire-iid",[QE]:"fire-iid-compat",[GE]:"fire-fcm",[KE]:"fire-fcm-compat",[YE]:"fire-perf",[XE]:"fire-perf-compat",[JE]:"fire-rc",[ZE]:"fire-rc-compat",[eC]:"fire-gcs",[tC]:"fire-gcs-compat",[nC]:"fire-fst",[iC]:"fire-fst-compat",[rC]:"fire-vertex","fire-js":"fire-js",[sC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Map,aC=new Map,Ec=new Map;function Xp(n,e){try{n.container.addComponent(e)}catch(r){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function ml(n){const e=n.name;if(Ec.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;Ec.set(e,n);for(const r of pl.values())Xp(r,n);for(const r of aC.values())Xp(r,n);return!0}function uC(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new Cg("app","Firebase",cC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=oC;function Rg(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wc,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Yn.create("bad-app-name",{appName:String(l)});if(r||(r=vg()),!r)throw Yn.create("no-options");const u=pl.get(l);if(u){if(gc(r,u.options)&&gc(s,u.config))return u;throw Yn.create("duplicate-app",{appName:l})}const c=new gE(l);for(const p of Ec.values())c.addComponent(p);const h=new dC(r,s,c);return pl.set(l,h),h}function hC(n=wc){const e=pl.get(n);if(!e&&n===wc&&vg())return Rg();if(!e)throw Yn.create("no-app",{appName:n});return e}function ti(n,e,r){var s;let l=(s=lC[n])!==null&&s!==void 0?s:n;r&&(l+=`-${r}`);const u=l.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(h.join(" "));return}ml(new _s(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",mC=1,vs="firebase-heartbeat-store";let tc=null;function Ng(){return tc||(tc=IE(pC,mC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vs)}catch(r){console.warn(r)}}}}).catch(n=>{throw Yn.create("idb-open",{originalErrorMessage:n.message})})),tc}async function gC(n){try{const r=(await Ng()).transaction(vs),s=await r.objectStore(vs).get(Ig(n));return await r.done,s}catch(e){if(e instanceof Ls)xn.warn(e.message);else{const r=Yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xn.warn(r.message)}}}async function Jp(n,e){try{const s=(await Ng()).transaction(vs,"readwrite");await s.objectStore(vs).put(e,Ig(n)),await s.done}catch(r){if(r instanceof Ls)xn.warn(r.message);else{const s=Yn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});xn.warn(s.message)}}}function Ig(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1024,_C=30*24*60*60*1e3;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new EC(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Zp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=_C}),this._storage.overwrite(this._heartbeatsCache))}catch(s){xn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Zp(),{heartbeatsToSend:s,unsentEntries:l}=wC(this._heartbeatsCache.heartbeats),u=fl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return xn.warn(r),""}}}function Zp(){return new Date().toISOString().substring(0,10)}function wC(n,e=yC){const r=[];let s=n.slice();for(const l of n){const u=r.find(c=>c.agent===l.agent);if(u){if(u.dates.push(l.date),em(r)>e){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),em(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class EC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rE()?iE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await gC(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function em(n){return fl(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(n){ml(new _s("platform-logger",e=>new OE(e),"PRIVATE")),ml(new _s("heartbeat",e=>new vC(e),"PRIVATE")),ti(vc,Yp,n),ti(vc,Yp,"esm2017"),ti("fire-js","")}CC("");var SC="firebase",xC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(SC,xC,"app");var tm={};const nm="@firebase/database",rm="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg="";function kC(n){Pg=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:ys(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return fn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new TC(e)}}catch{}return new RC},_r=Ag("localStorage"),NC=Ag("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new xg("@firebase/database"),IC=function(){let n=1;return function(){return n++}}(),Og=function(n){const e=fE(n),r=new dE;r.update(e);const s=r.digest();return Qc.encodeByteArray(s)},bs=function(...n){let e="";for(let r=0;r<n.length;r++){const s=n[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=bs.apply(null,s):typeof s=="object"?e+=Ke(s):e+=s,e+=" "}return e};let ds=null,im=!0;const PC=function(n,e){q(!e,"Can't turn on custom loggers persistently."),ni.logLevel=Ne.VERBOSE,ds=ni.log.bind(ni)},it=function(...n){if(im===!0&&(im=!1,ds===null&&NC.get("logging_enabled")===!0&&PC()),ds){const e=bs.apply(null,n);ds(e)}},Ms=function(n){return function(...e){it(n,...e)}},Cc=function(...n){const e="FIREBASE INTERNAL ERROR: "+bs(...n);ni.error(e)},kn=function(...n){const e=`FIREBASE FATAL ERROR: ${bs(...n)}`;throw ni.error(e),new Error(e)},mt=function(...n){const e="FIREBASE WARNING: "+bs(...n);ni.warn(e)},AC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kc=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},OC=function(n){if(document.readyState==="complete")n();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},si="[MIN_NAME]",Er="[MAX_NAME]",Tr=function(n,e){if(n===e)return 0;if(n===si||e===Er)return-1;if(e===si||n===Er)return 1;{const r=sm(n),s=sm(e);return r!==null?s!==null?r-s===0?n.length-e.length:r-s:-1:s!==null?1:n<e?-1:1}},DC=function(n,e){return n===e?0:n<e?-1:1},os=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ke(e))},Yc=function(n){if(typeof n!="object"||n===null)return Ke(n);const e=[];for(const s in n)e.push(s);e.sort();let r="{";for(let s=0;s<e.length;s++)s!==0&&(r+=","),r+=Ke(e[s]),r+=":",r+=Yc(n[e[s]]);return r+="}",r},Dg=function(n,e){const r=n.length;if(r<=e)return[n];const s=[];for(let l=0;l<r;l+=e)l+e>r?s.push(n.substring(l,r)):s.push(n.substring(l,l+e));return s};function st(n,e){for(const r in n)n.hasOwnProperty(r)&&e(r,n[r])}const Lg=function(n){q(!Kc(n),"Invalid JSON number");const e=11,r=52,s=(1<<e-1)-1;let l,u,c,h,p;n===0?(u=0,c=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=h+s,c=Math.round(n*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,c=Math.round(n/Math.pow(2,1-s-r))));const m=[];for(p=r;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const y=m.join("");let _="";for(p=0;p<64;p+=8){let v=parseInt(y.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},LC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function MC(n,e){let r="Unknown Error";n==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?r="Client doesn't have permission to access the desired data.":n==="unavailable"&&(r="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+r);return s.code=n.toUpperCase(),s}const FC=new RegExp("^-?(0*)\\d{1,10}$"),jC=-2147483648,zC=2147483647,sm=function(n){if(FC.test(n)){const e=Number(n);if(e>=jC&&e<=zC)return e}return null},hi=function(n){try{n()}catch(e){setTimeout(()=>{const r=e.stack||"";throw mt("Exception was thrown by user callback.",r),e},Math.floor(0))}},UC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fs=function(n,e){const r=setTimeout(n,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,r,s){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(it("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(e)}}class ol{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ol.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="5",bg="v",Mg="s",Fg="r",jg="f",zg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ug="ls",Bg="p",Sc="ac",$g="websocket",Wg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,r,s,l,u=!1,c="",h=!1,p=!1){this.secure=r,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_r.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_r.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function WC(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function qg(n,e,r){q(typeof e=="string","typeof type must == string"),q(typeof r=="object","typeof params must == object");let s;if(e===$g)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Wg)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);WC(n)&&(r.ns=n.namespace);const l=[];return st(r,(u,c)=>{l.push(u+"="+c)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.counters_={}}incrementCounter(e,r=1){fn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return Vw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc={},rc={};function Jc(n){const e=n.toString();return nc[e]||(nc[e]=new HC),nc[e]}function qC(n,e){const r=n.toString();return rc[r]||(rc[r]=e()),rc[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&hi(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="start",QC="close",GC="pLPCommand",KC="pRTLPCB",Vg="id",Qg="pw",Gg="ser",YC="cb",XC="seg",JC="ts",ZC="d",eS="dframe",Kg=1870,Yg=30,tS=Kg-Yg,nS=25e3,rS=3e4;class ei{constructor(e,r,s,l,u,c,h){this.connId=e,this.repoInfo=r,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ms(e),this.stats_=Jc(r),this.urlFn=p=>(this.appCheckToken&&(p[Sc]=this.appCheckToken),qg(r,Wg,p))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new VC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rS)),OC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zc((...u)=>{const[c,h,p,m,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===om)this.id=h,this.password=p;else if(c===QC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[om]="t",s[Gg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[YC]=this.scriptTagHolder.uniqueCallbackIdentifier),s[bg]=Xc,this.transportSessionId&&(s[Mg]=this.transportSessionId),this.lastSessionId&&(s[Ug]=this.lastSessionId),this.applicationId&&(s[Bg]=this.applicationId),this.appCheckToken&&(s[Sc]=this.appCheckToken),typeof location<"u"&&location.hostname&&zg.test(location.hostname)&&(s[Fg]=jg);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ei.forceAllow_=!0}static forceDisallow(){ei.forceDisallow_=!0}static isAvailable(){return ei.forceAllow_?!0:!ei.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!LC()&&!bC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Ke(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=gg(r),l=Dg(s,tS);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const s={};s[eS]="t",s[Vg]=e,s[Qg]=r,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Ke(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Zc{constructor(e,r,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=IC(),window[GC+this.uniqueCallbackIdentifier]=e,window[KC+this.uniqueCallbackIdentifier]=r,this.myIFrame=Zc.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){it("frame writing exception"),h.stack&&it(h.stack),it(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||it("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Vg]=this.myID,e[Qg]=this.myPW,e[Gg]=this.currentSerial;let r=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Yg+s.length<=Kg;){const c=this.pendingSegs.shift();s=s+"&"+XC+l+"="+c.seg+"&"+JC+l+"="+c.ts+"&"+ZC+l+"="+c.d,l++}return r=r+s,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,s){this.pendingSegs.push({seg:e,ts:r,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const s=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(s,Math.floor(nS)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=()=>{it("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=16384,sS=45e3;let gl=null;typeof MozWebSocket<"u"?gl=MozWebSocket:typeof WebSocket<"u"&&(gl=WebSocket);class Xt{constructor(e,r,s,l,u,c,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ms(this.connId),this.stats_=Jc(r),this.connURL=Xt.connectionURL_(r,c,h,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,l,u){const c={};return c[bg]=Xc,typeof location<"u"&&location.hostname&&zg.test(location.hostname)&&(c[Fg]=jg),r&&(c[Mg]=r),s&&(c[Ug]=s),l&&(c[Sc]=l),u&&(c[Bg]=u),qg(e,$g,c)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_r.set("previous_websocket_failure",!0);try{let s;Eg(),this.mySock=new gl(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(r);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&gl!==null&&!Xt.forceDisallow_}static previouslyFailed(){return _r.isInMemoryStorage||_r.get("previous_websocket_failure")===!0}markConnectionHealthy(){_r.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=ys(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=Ke(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=Dg(r,iS);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sS))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static get ALL_TRANSPORTS(){return[ei,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=Xt&&Xt.isAvailable();let s=r&&!Xt.previouslyFailed();if(e.webSocketOnly&&(r||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Xt];else{const l=this.transports_=[];for(const u of ws.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);ws.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ws.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=6e4,lS=5e3,aS=10*1024,uS=100*1024,ic="t",lm="d",cS="s",am="r",dS="e",um="o",cm="a",dm="n",fm="p",fS="h";class hS{constructor(e,r,s,l,u,c,h,p,m,y){this.id=e,this.repoInfo_=r,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ms("c:"+this.id+":"),this.transportManager_=new ws(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=fs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>aS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ic in e){const r=e[ic];r===cm?this.upgradeIfSecondaryHealthy_():r===am?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===um&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=os("t",e),s=os("d",e);if(r==="c")this.onSecondaryControl_(s);else if(r==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:cm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=os("t",e),s=os("d",e);r==="c"?this.onControl_(s):r==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=os(ic,e);if(lm in e){const s=e[lm];if(r===fS){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===dm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===cS?this.onConnectionShutdown_(s):r===am?this.onReset_(s):r===dS?Cc("Server Error: "+s):r===um?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cc("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Xc!==s&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),fs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_r.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{put(e,r,s,l){}merge(e,r,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,s){}onDisconnectMerge(e,r,s){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,r)}}on(e,r,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:s});const l=this.getInitialEvent(e);l&&r.apply(s,l)}off(e,r,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===r&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){q(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Jg{static getInstance(){return new yl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=32,pm=768;class xe{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function ve(){return new xe("")}function ce(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function er(n){return n.pieces_.length-n.pieceNum_}function Ie(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new xe(n.pieces_,e)}function ed(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pS(n){let e="";for(let r=n.pieceNum_;r<n.pieces_.length;r++)n.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[r])));return e||"/"}function Es(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Zg(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let r=n.pieceNum_;r<n.pieces_.length-1;r++)e.push(n.pieces_[r]);return new xe(e,0)}function ze(n,e){const r=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)r.push(n.pieces_[s]);if(e instanceof xe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)r.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&r.push(s[l])}return new xe(r,0)}function pe(n){return n.pieceNum_>=n.pieces_.length}function pt(n,e){const r=ce(n),s=ce(e);if(r===null)return e;if(r===s)return pt(Ie(n),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function mS(n,e){const r=Es(n,0),s=Es(e,0);for(let l=0;l<r.length&&l<s.length;l++){const u=Tr(r[l],s[l]);if(u!==0)return u}return r.length===s.length?0:r.length<s.length?-1:1}function td(n,e){if(er(n)!==er(e))return!1;for(let r=n.pieceNum_,s=e.pieceNum_;r<=n.pieces_.length;r++,s++)if(n.pieces_[r]!==e.pieces_[s])return!1;return!0}function Bt(n,e){let r=n.pieceNum_,s=e.pieceNum_;if(er(n)>er(e))return!1;for(;r<n.pieces_.length;){if(n.pieces_[r]!==e.pieces_[s])return!1;++r,++s}return!0}class gS{constructor(e,r){this.errorPrefix_=r,this.parts_=Es(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Ll(this.parts_[s]);ey(this)}}function yS(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Ll(e),ey(n)}function _S(n){const e=n.parts_.pop();n.byteLength_-=Ll(e),n.parts_.length>0&&(n.byteLength_-=1)}function ey(n){if(n.byteLength_>pm)throw new Error(n.errorPrefix_+"has a key path longer than "+pm+" bytes ("+n.byteLength_+").");if(n.parts_.length>hm)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hm+") or object contains a cycle "+yr(n))}function yr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Jg{static getInstance(){return new nd}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=1e3,vS=60*5*1e3,mm=30*1e3,wS=1.3,ES=3e4,CS="server_kill",gm=3;class Sn extends Xg{constructor(e,r,s,l,u,c,h,p){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Sn.nextPersistentConnectionId_++,this.log_=Ms("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ls,this.maxReconnectDelay_=vS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!Eg())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const l=++this.requestNumber_,u={r:l,a:e,b:r};this.log_(Ke(u)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const r=new Ds,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(e,r,s,l){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:e,tag:s};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},c="q";e.tag&&(u.q=r._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const p=h.d,m=h.s;Sn.warnOnListenWarnings_(p,r),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&fn(e,"w")){const s=ii(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=aE(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(r,s,l=>{const u=l.s,c=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,r)}sendUnlisten_(e,r,s,l){this.log_("Unlisten on "+e+" for "+r);const u={p:e},c="n";l&&(u.q=s,u.t=l),this.sendRequest(c,u)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,l){const u={p:r,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{l&&setTimeout(()=>{l(c.s,c.d)},Math.floor(0))})}put(e,r,s,l){this.putInternal("p",e,r,s,l)}merge(e,r,s,l){this.putInternal("m",e,r,s,l)}putInternal(e,r,s,l,u){this.initConnection_();const c={p:r,d:s};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):Cc("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ES&&(this.reconnectDelay_=ls),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Sn.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const p=function(){h?h.close():(c=!0,s())},m=function(_){q(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?it("getToken() completed but was canceled"):(it("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,h=new hS(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,s,S=>{mt(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(CS)},u))}catch(_){this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&mt(_),p())}}}interrupt(e){it("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){it("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qp(this.interruptReasons_)&&(this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;r?s=r.map(u=>Yc(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const s=new xe(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(r),u.delete(r),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,r){it("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gm&&(this.reconnectDelay_=mm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){it("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+Pg.replace(/\./g,"-")]=1,wg()?e["framework.cordova"]=1:nE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yl.getInstance().currentlyOnline();return qp(this.interruptReasons_)&&e}}Sn.nextPersistentConnectionId_=0;Sn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new de(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const s=new de(si,e),l=new de(si,r);return this.compare(s,l)!==0}minPost(){return de.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;class ty extends bl{static get __EMPTY_NODE(){return nl}static set __EMPTY_NODE(e){nl=e}compare(e,r){return Tr(e.name,r.name)}isDefinedOn(e){throw fi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return de.MIN}maxPost(){return new de(Er,nl)}makePost(e,r){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new de(e,nl)}toString(){return".key"}}const ri=new ty;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,r,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=r?s(e.key,r):1,l&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class et{constructor(e,r,s,l,u){this.key=e,this.value=r,this.color=s??et.RED,this.left=l??xt.EMPTY_NODE,this.right=u??xt.EMPTY_NODE}copy(e,r,s,l,u){return new et(e??this.key,r??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,r,s),null):u===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,l;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),r(e,s.key)===0){if(s.right.isEmpty())return xt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}et.RED=!0;et.BLACK=!1;class SS{copy(e,r,s,l,u){return this}insert(e,r,s){return new et(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(e,r=xt.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new xt(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,et.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,et.BLACK,null,null))}get(e){let r,s=this.root_;for(;!s.isEmpty();){if(r=this.comparator_(e,s.key),r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}getPredecessorKey(e){let r,s=this.root_,l=null;for(;!s.isEmpty();)if(r=this.comparator_(e,s.key),r===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else r<0?s=s.left:r>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new rl(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new rl(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new rl(this.root_,null,this.comparator_,!0,e)}}xt.EMPTY_NODE=new SS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n,e){return Tr(n.name,e.name)}function rd(n,e){return Tr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;function kS(n){xc=n}const ny=function(n){return typeof n=="number"?"number:"+Lg(n):"string:"+n},ry=function(n){if(n.isLeafNode()){const e=n.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&fn(e,".sv"),"Priority must be a string or number.")}else q(n===xc||n.isEmpty(),"priority of unexpected type.");q(n===xc||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym;class Ze{static set __childrenNodeConstructor(e){ym=e}static get __childrenNodeConstructor(){return ym}constructor(e,r=Ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ry(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ze(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:ce(e)===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=ce(e);return s===null?r:r.isEmpty()&&s!==".priority"?this:(q(s!==".priority"||er(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ny(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=Lg(this.value_):e+=this.value_,this.lazyHash_=Og(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ze.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ze.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,l=Ze.VALUE_TYPE_ORDER.indexOf(r),u=Ze.VALUE_TYPE_ORDER.indexOf(s);return q(l>=0,"Unknown leaf type: "+r),q(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iy,sy;function TS(n){iy=n}function RS(n){sy=n}class NS extends bl{compare(e,r){const s=e.node.getPriority(),l=r.node.getPriority(),u=s.compareTo(l);return u===0?Tr(e.name,r.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return de.MIN}maxPost(){return new de(Er,new Ze("[PRIORITY-POST]",sy))}makePost(e,r){const s=iy(e);return new de(r,new Ze("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ue=new NS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=Math.log(2);class PS{constructor(e){const r=u=>parseInt(Math.log(u)/IS,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _l=function(n,e,r,s){n.sort(e);const l=function(p,m){const y=m-p;let _,v;if(y===0)return null;if(y===1)return _=n[p],v=r?r(_):_,new et(v,_.node,et.BLACK,null,null);{const S=parseInt(y/2,10)+p,E=l(p,S),I=l(S+1,m);return _=n[S],v=r?r(_):_,new et(v,_.node,et.BLACK,E,I)}},u=function(p){let m=null,y=null,_=n.length;const v=function(E,I){const R=_-E,M=_;_-=E;const O=l(R+1,M),b=n[R],H=r?r(b):b;S(new et(H,b.node,I,null,O))},S=function(E){m?(m.left=E,m=E):(y=E,m=E)};for(let E=0;E<p.count;++E){const I=p.nextBitIsOne(),R=Math.pow(2,p.count-(E+1));I?v(R,et.BLACK):(v(R,et.BLACK),v(R,et.RED))}return y},c=new PS(n.length),h=u(c);return new xt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;const Zr={};class En{static get Default(){return q(Zr&&Ue,"ChildrenNode.ts has not been loaded"),sc=sc||new En({".priority":Zr},{".priority":Ue}),sc}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=ii(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof xt?r:null}hasIndex(e){return fn(this.indexSet_,e.toString())}addIndex(e,r){q(e!==ri,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=r.getIterator(de.Wrap);let c=u.getNext();for(;c;)l=l||e.isDefinedOn(c.node),s.push(c),c=u.getNext();let h;l?h=_l(s,e.getCompare()):h=Zr;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const y=Object.assign({},this.indexes_);return y[p]=h,new En(y,m)}addToIndexes(e,r){const s=hl(this.indexes_,(l,u)=>{const c=ii(this.indexSet_,u);if(q(c,"Missing index implementation for "+u),l===Zr)if(c.isDefinedOn(e.node)){const h=[],p=r.getIterator(de.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),_l(h,c.getCompare())}else return Zr;else{const h=r.get(e.name);let p=l;return h&&(p=p.remove(new de(e.name,h))),p.insert(e,e.node)}});return new En(s,this.indexSet_)}removeFromIndexes(e,r){const s=hl(this.indexes_,l=>{if(l===Zr)return l;{const u=r.get(e.name);return u?l.remove(new de(e.name,u)):l}});return new En(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as;class se{static get EMPTY_NODE(){return as||(as=new se(new xt(rd),null,En.Default))}constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&ry(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||as}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?as:r}}getChild(e){const r=ce(e);return r===null?this:this.getImmediateChild(r).getChild(Ie(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(q(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const s=new de(e,r);let l,u;r.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,r),u=this.indexMap_.addToIndexes(s,this.children_));const c=l.isEmpty()?as:this.priorityNode_;return new se(l,c,u)}}updateChild(e,r){const s=ce(e);if(s===null)return r;{q(ce(e)!==".priority"||er(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ie(e),r);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,l=0,u=!0;if(this.forEachChild(Ue,(c,h)=>{r[c]=h.val(e),s++,u&&se.INTEGER_REGEXP_.test(c)?l=Math.max(l,Number(c)):u=!1}),!e&&u&&l<2*s){const c=[];for(const h in r)c[h]=r[h];return c}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ny(this.getPriority().val())+":"),this.forEachChild(Ue,(r,s)=>{const l=s.hash();l!==""&&(e+=":"+r+":"+l)}),this.lazyHash_=e===""?"":Og(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new de(e,r));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new de(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new de(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,de.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,de.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fs?-1:0}withIndex(e){if(e===ri||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===ri||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const s=this.getIterator(Ue),l=r.getIterator(Ue);let u=s.getNext(),c=l.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=s.getNext(),c=l.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===ri?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AS extends se{constructor(){super(new xt(rd),se.EMPTY_NODE,En.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const Fs=new AS;Object.defineProperties(de,{MIN:{value:new de(si,se.EMPTY_NODE)},MAX:{value:new de(Er,Fs)}});ty.__EMPTY_NODE=se.EMPTY_NODE;Ze.__childrenNodeConstructor=se;kS(Fs);RS(Fs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=!0;function Ge(n,e=null){if(n===null)return se.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const r=n;return new Ze(r,Ge(e))}if(!(n instanceof Array)&&OS){const r=[];let s=!1;if(st(n,(c,h)=>{if(c.substring(0,1)!=="."){const p=Ge(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),r.push(new de(c,p)))}}),r.length===0)return se.EMPTY_NODE;const u=_l(r,xS,c=>c.name,rd);if(s){const c=_l(r,Ue.getCompare());return new se(u,Ge(e),new En({".priority":c},{".priority":Ue}))}else return new se(u,Ge(e),En.Default)}else{let r=se.EMPTY_NODE;return st(n,(s,l)=>{if(fn(n,s)&&s.substring(0,1)!=="."){const u=Ge(l);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(s,u))}}),r.updatePriority(Ge(e))}}TS(Ge);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS extends bl{constructor(e){super(),this.indexPath_=e,q(!pe(e)&&ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const s=this.extractChild(e.node),l=this.extractChild(r.node),u=s.compareTo(l);return u===0?Tr(e.name,r.name):u}makePost(e,r){const s=Ge(e),l=se.EMPTY_NODE.updateChild(this.indexPath_,s);return new de(r,l)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,Fs);return new de(Er,e)}toString(){return Es(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS extends bl{compare(e,r){const s=e.node.compareTo(r.node);return s===0?Tr(e.name,r.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return de.MIN}maxPost(){return de.MAX}makePost(e,r){const s=Ge(e);return new de(r,s)}toString(){return".value"}}const bS=new LS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n){return{type:"value",snapshotNode:n}}function oi(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Cs(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ss(n,e,r){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:r}}function MS(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.index_=e}updateChild(e,r,s,l,u,c){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(r);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(r)?c.trackChildChange(Cs(r,h)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(oi(r,s)):c.trackChildChange(Ss(r,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(r,s).withIndex(this.index_)}updateFullNode(e,r,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ue,(l,u)=>{r.hasChild(l)||s.trackChildChange(Cs(l,u))}),r.isLeafNode()||r.forEachChild(Ue,(l,u)=>{if(e.hasChild(l)){const c=e.getImmediateChild(l);c.equals(u)||s.trackChildChange(Ss(l,u,c))}else s.trackChildChange(oi(l,u))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.indexedFilter_=new id(e.getIndex()),this.index_=e.getIndex(),this.startPost_=xs.getStartPost_(e),this.endPost_=xs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&s}updateChild(e,r,s,l,u,c){return this.matches(new de(r,s))||(s=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,s,l,u,c)}updateFullNode(e,r,s){r.isLeafNode()&&(r=se.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(se.EMPTY_NODE);const u=this;return r.forEachChild(Ue,(c,h)=>{u.matches(new de(c,h))||(l=l.updateImmediateChild(c,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=r=>{const s=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new xs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,s,l,u,c){return this.rangedFilter_.matches(new de(r,s))||(s=se.EMPTY_NODE),e.getImmediateChild(r).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,s,l,u,c):this.fullLimitUpdateChild_(e,r,s,u,c)}updateFullNode(e,r,s){let l;if(r.isLeafNode()||r.isEmpty())l=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=se.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(se.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:l=l.updateImmediateChild(h.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,s,l,u){let c;if(this.reverse_){const _=this.index_.getCompare();c=(v,S)=>_(S,v)}else c=this.index_.getCompare();const h=e;q(h.numChildren()===this.limit_,"");const p=new de(r,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(h.hasChild(r)){const _=h.getImmediateChild(r);let v=l.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===r||h.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const S=v==null?1:c(v,p);if(y&&!s.isEmpty()&&S>=0)return u!=null&&u.trackChildChange(Ss(r,s,_)),h.updateImmediateChild(r,s);{u!=null&&u.trackChildChange(Cs(r,_));const I=h.updateImmediateChild(r,se.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(oi(v.name,v.node)),I.updateImmediateChild(v.name,v.node)):I}}else return s.isEmpty()?e:y&&c(m,p)>=0?(u!=null&&(u.trackChildChange(Cs(m.name,m.node)),u.trackChildChange(oi(r,s))),h.updateImmediateChild(r,s).updateImmediateChild(m.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:si}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Er}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new sd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jS(n){return n.loadsAllData()?new id(n.getIndex()):n.hasLimit()?new FS(n):new xs(n)}function _m(n){const e={};if(n.isDefault())return e;let r;if(n.index_===Ue?r="$priority":n.index_===bS?r="$value":n.index_===ri?r="$key":(q(n.index_ instanceof DS,"Unrecognized index type!"),r=n.index_.toString()),e.orderBy=Ke(r),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Ke(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Ke(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Ke(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Ke(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function vm(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let r=n.viewFrom_;r===""&&(n.isViewFromLeft()?r="l":r="r"),e.vf=r}return n.index_!==Ue&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Xg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Ms("p:rest:"),this.listens_={}}listen(e,r,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=vl.getListenId_(e,s),h={};this.listens_[c]=h;const p=_m(e._queryParams);this.restRequest_(u+".json",p,(m,y)=>{let _=y;if(m===404&&(_=null,m=null),m===null&&this.onDataUpdate_(u,_,!1,s),ii(this.listens_,c)===h){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",l(v,null)}})}unlisten(e,r){const s=vl.getListenId_(e,r);delete this.listens_[s]}get(e){const r=_m(e._queryParams),s=e._path.toString(),l=new Ds;return this.restRequest_(s+".json",r,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,r={},s){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cE(r);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=ys(h.responseText)}catch{mt("Failed to parse JSON response for "+c+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&mt("Got unsuccessful REST response for "+c+" Status: "+h.status),s(h.status);s=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(){return{value:null,children:new Map}}function ly(n,e,r){if(pe(e))n.value=r,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,r);else{const s=ce(e);n.children.has(s)||n.children.set(s,wl());const l=n.children.get(s);e=Ie(e),ly(l,e,r)}}function kc(n,e,r){n.value!==null?r(e,n.value):US(n,(s,l)=>{const u=new xe(e.toString()+"/"+s);kc(l,u,r)})}function US(n,e){n.children.forEach((r,s)=>{e(s,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&st(this.last_,(s,l)=>{r[s]=r[s]-l}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=10*1e3,$S=30*1e3,WS=5*60*1e3;class HS{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new BS(e);const s=wm+($S-wm)*Math.random();fs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),r={};let s=!1;st(e,(l,u)=>{u>0&&fn(this.statsToReport_,l)&&(r[l]=u,s=!0)}),s&&this.server_.reportStats(r),fs(this.reportStats_.bind(this),Math.floor(Math.random()*2*WS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function od(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ld(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ad(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,r,s){this.path=e,this.affectedTree=r,this.revert=s,this.type=Zt.ACK_USER_WRITE,this.source=od()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new xe(e));return new El(ve(),r,this.revert)}}else return q(ce(this.path)===e,"operationForChild called for unrelated child."),new El(Ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,r){this.source=e,this.path=r,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new ks(this.source,ve()):new ks(this.source,Ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,r,s){this.source=e,this.path=r,this.snap=s,this.type=Zt.OVERWRITE}operationForChild(e){return pe(this.path)?new Cr(this.source,ve(),this.snap.getImmediateChild(e)):new Cr(this.source,Ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,r,s){this.source=e,this.path=r,this.children=s,this.type=Zt.MERGE}operationForChild(e){if(pe(this.path)){const r=this.children.subtree(new xe(e));return r.isEmpty()?null:r.value?new Cr(this.source,ve(),r.value):new li(this.source,ve(),r)}else return q(ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new li(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,r,s){this.node_=e,this.fullyInitialized_=r,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const r=ce(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function VS(n,e,r,s){const l=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(MS(c.childName,c.snapshotNode))}),us(n,l,"child_removed",e,s,r),us(n,l,"child_added",e,s,r),us(n,l,"child_moved",u,s,r),us(n,l,"child_changed",e,s,r),us(n,l,"value",e,s,r),l}function us(n,e,r,s,l,u){const c=s.filter(h=>h.type===r);c.sort((h,p)=>GS(n,h,p)),c.forEach(h=>{const p=QS(n,h,u);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,n.query_))})})}function QS(n,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function GS(n,e,r){if(e.childName==null||r.childName==null)throw fi("Should only compare child_ events.");const s=new de(e.childName,e.snapshotNode),l=new de(r.childName,r.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n,e){return{eventCache:n,serverCache:e}}function hs(n,e,r,s){return Ml(new tr(e,r,s),n.serverCache)}function ay(n,e,r,s){return Ml(n.eventCache,new tr(e,r,s))}function Cl(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;const KS=()=>(oc||(oc=new xt(DC)),oc);class Re{static fromObject(e){let r=new Re(null);return st(e,(s,l)=>{r=r.set(new xe(s),l)}),r}constructor(e,r=KS()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:ve(),value:this.value};if(pe(e))return null;{const s=ce(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Ie(e),r);return u!=null?{path:ze(new xe(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const r=ce(e),s=this.children.get(r);return s!==null?s.subtree(Ie(e)):new Re(null)}}set(e,r){if(pe(e))return new Re(r,this.children);{const s=ce(e),u=(this.children.get(s)||new Re(null)).set(Ie(e),r),c=this.children.insert(s,u);return new Re(this.value,c)}}remove(e){if(pe(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const r=ce(e),s=this.children.get(r);if(s){const l=s.remove(Ie(e));let u;return l.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,l),this.value===null&&u.isEmpty()?new Re(null):new Re(this.value,u)}else return this}}get(e){if(pe(e))return this.value;{const r=ce(e),s=this.children.get(r);return s?s.get(Ie(e)):null}}setTree(e,r){if(pe(e))return r;{const s=ce(e),u=(this.children.get(s)||new Re(null)).setTree(Ie(e),r);let c;return u.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,u),new Re(this.value,c)}}fold(e){return this.fold_(ve(),e)}fold_(e,r){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(ze(e,l),r)}),r(e,this.value,s)}findOnPath(e,r){return this.findOnPath_(e,ve(),r)}findOnPath_(e,r,s){const l=this.value?s(r,this.value):!1;if(l)return l;if(pe(e))return null;{const u=ce(e),c=this.children.get(u);return c?c.findOnPath_(Ie(e),ze(r,u),s):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,ve(),r)}foreachOnPath_(e,r,s){if(pe(e))return this;{this.value&&s(r,this.value);const l=ce(e),u=this.children.get(l);return u?u.foreachOnPath_(Ie(e),ze(r,l),s):new Re(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,r){this.children.inorderTraversal((s,l)=>{l.foreach_(ze(e,s),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,s)=>{s.value&&e(r,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.writeTree_=e}static empty(){return new tn(new Re(null))}}function ps(n,e,r){if(pe(e))return new tn(new Re(r));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const c=pt(l,e);return u=u.updateChild(c,r),new tn(n.writeTree_.set(l,u))}else{const l=new Re(r),u=n.writeTree_.setTree(e,l);return new tn(u)}}}function Tc(n,e,r){let s=n;return st(r,(l,u)=>{s=ps(s,ze(e,l),u)}),s}function Em(n,e){if(pe(e))return tn.empty();{const r=n.writeTree_.setTree(e,new Re(null));return new tn(r)}}function Rc(n,e){return Rr(n,e)!=null}function Rr(n,e){const r=n.writeTree_.findRootMostValueAndPath(e);return r!=null?n.writeTree_.get(r.path).getChild(pt(r.path,e)):null}function Cm(n){const e=[],r=n.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ue,(s,l)=>{e.push(new de(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new de(s,l.value))}),e}function Xn(n,e){if(pe(e))return n;{const r=Rr(n,e);return r!=null?new tn(new Re(r)):new tn(n.writeTree_.subtree(e))}}function Nc(n){return n.writeTree_.isEmpty()}function ai(n,e){return uy(ve(),n.writeTree_,e)}function uy(n,e,r){if(e.value!=null)return r.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(q(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):r=uy(ze(n,l),u,r)}),!r.getChild(n).isEmpty()&&s!==null&&(r=r.updateChild(ze(n,".priority"),s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(n,e){return hy(e,n)}function YS(n,e,r,s,l){q(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:r,writeId:s,visible:l}),l&&(n.visibleWrites=ps(n.visibleWrites,e,r)),n.lastWriteId=s}function XS(n,e,r,s){q(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:r,writeId:s,visible:!0}),n.visibleWrites=Tc(n.visibleWrites,e,r),n.lastWriteId=s}function JS(n,e){for(let r=0;r<n.allWrites.length;r++){const s=n.allWrites[r];if(s.writeId===e)return s}return null}function ZS(n,e){const r=n.allWrites.findIndex(h=>h.writeId===e);q(r>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[r];n.allWrites.splice(r,1);let l=s.visible,u=!1,c=n.allWrites.length-1;for(;l&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=r&&e1(h,s.path)?l=!1:Bt(s.path,h.path)&&(u=!0)),c--}if(l){if(u)return t1(n),!0;if(s.snap)n.visibleWrites=Em(n.visibleWrites,s.path);else{const h=s.children;st(h,p=>{n.visibleWrites=Em(n.visibleWrites,ze(s.path,p))})}return!0}else return!1}function e1(n,e){if(n.snap)return Bt(n.path,e);for(const r in n.children)if(n.children.hasOwnProperty(r)&&Bt(ze(n.path,r),e))return!0;return!1}function t1(n){n.visibleWrites=cy(n.allWrites,n1,ve()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function n1(n){return n.visible}function cy(n,e,r){let s=tn.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const c=u.path;let h;if(u.snap)Bt(r,c)?(h=pt(r,c),s=ps(s,h,u.snap)):Bt(c,r)&&(h=pt(c,r),s=ps(s,ve(),u.snap.getChild(h)));else if(u.children){if(Bt(r,c))h=pt(r,c),s=Tc(s,h,u.children);else if(Bt(c,r))if(h=pt(c,r),pe(h))s=Tc(s,ve(),u.children);else{const p=ii(u.children,ce(h));if(p){const m=p.getChild(Ie(h));s=ps(s,ve(),m)}}}else throw fi("WriteRecord should have .snap or .children")}}return s}function dy(n,e,r,s,l){if(!s&&!l){const u=Rr(n.visibleWrites,e);if(u!=null)return u;{const c=Xn(n.visibleWrites,e);if(Nc(c))return r;if(r==null&&!Rc(c,ve()))return null;{const h=r||se.EMPTY_NODE;return ai(c,h)}}}else{const u=Xn(n.visibleWrites,e);if(!l&&Nc(u))return r;if(!l&&r==null&&!Rc(u,ve()))return null;{const c=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(Bt(m.path,e)||Bt(e,m.path))},h=cy(n.allWrites,c,e),p=r||se.EMPTY_NODE;return ai(h,p)}}}function r1(n,e,r){let s=se.EMPTY_NODE;const l=Rr(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ue,(u,c)=>{s=s.updateImmediateChild(u,c)}),s;if(r){const u=Xn(n.visibleWrites,e);return r.forEachChild(Ue,(c,h)=>{const p=ai(Xn(u,new xe(c)),h);s=s.updateImmediateChild(c,p)}),Cm(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const u=Xn(n.visibleWrites,e);return Cm(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function i1(n,e,r,s,l){q(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=ze(e,r);if(Rc(n.visibleWrites,u))return null;{const c=Xn(n.visibleWrites,u);return Nc(c)?l.getChild(r):ai(c,l.getChild(r))}}function s1(n,e,r,s){const l=ze(e,r),u=Rr(n.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(r)){const c=Xn(n.visibleWrites,l);return ai(c,s.getNode().getImmediateChild(r))}else return null}function o1(n,e){return Rr(n.visibleWrites,e)}function l1(n,e,r,s,l,u,c){let h;const p=Xn(n.visibleWrites,e),m=Rr(p,ve());if(m!=null)h=m;else if(r!=null)h=ai(p,r);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const y=[],_=c.getCompare(),v=u?h.getReverseIteratorFrom(s,c):h.getIteratorFrom(s,c);let S=v.getNext();for(;S&&y.length<l;)_(S,s)!==0&&y.push(S),S=v.getNext();return y}else return[]}function a1(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function Sl(n,e,r,s){return dy(n.writeTree,n.treePath,e,r,s)}function ud(n,e){return r1(n.writeTree,n.treePath,e)}function Sm(n,e,r,s){return i1(n.writeTree,n.treePath,e,r,s)}function xl(n,e){return o1(n.writeTree,ze(n.treePath,e))}function u1(n,e,r,s,l,u){return l1(n.writeTree,n.treePath,e,r,s,l,u)}function cd(n,e,r){return s1(n.writeTree,n.treePath,e,r)}function fy(n,e){return hy(ze(n.treePath,e),n.writeTree)}function hy(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,s=e.childName;q(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),q(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(s,Ss(s,e.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(s,Cs(s,l.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(s,oi(s,e.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(s,Ss(s,e.snapshotNode,l.oldSnap));else throw fi("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{getCompleteChild(e){return null}getChildAfterChild(e,r,s){return null}}const py=new d1;class dd{constructor(e,r,s=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=s}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new tr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cd(this.writes_,e,s)}}getChildAfterChild(e,r,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sr(this.viewCache_),u=u1(this.writes_,l,r,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n){return{filter:n}}function h1(n,e){q(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function p1(n,e,r,s,l){const u=new c1;let c,h;if(r.type===Zt.OVERWRITE){const m=r;m.source.fromUser?c=Ic(n,e,m.path,m.snap,s,l,u):(q(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!pe(m.path),c=kl(n,e,m.path,m.snap,s,l,h,u))}else if(r.type===Zt.MERGE){const m=r;m.source.fromUser?c=g1(n,e,m.path,m.children,s,l,u):(q(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=Pc(n,e,m.path,m.children,s,l,h,u))}else if(r.type===Zt.ACK_USER_WRITE){const m=r;m.revert?c=v1(n,e,m.path,s,l,u):c=y1(n,e,m.path,m.affectedTree,s,l,u)}else if(r.type===Zt.LISTEN_COMPLETE)c=_1(n,e,r.path,s,u);else throw fi("Unknown operation type: "+r.type);const p=u.getChanges();return m1(e,c,p),{viewCache:c,changes:p}}function m1(n,e,r){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Cl(n);(r.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&r.push(oy(Cl(e)))}}function my(n,e,r,s,l,u){const c=e.eventCache;if(xl(s,r)!=null)return e;{let h,p;if(pe(r))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Sr(e),y=m instanceof se?m:se.EMPTY_NODE,_=ud(s,y);h=n.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const m=Sl(s,Sr(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=ce(r);if(m===".priority"){q(er(r)===1,"Can't have a priority with additional path components");const y=c.getNode();p=e.serverCache.getNode();const _=Sm(s,r,y,p);_!=null?h=n.filter.updatePriority(y,_):h=c.getNode()}else{const y=Ie(r);let _;if(c.isCompleteForChild(m)){p=e.serverCache.getNode();const v=Sm(s,r,c.getNode(),p);v!=null?_=c.getNode().getImmediateChild(m).updateChild(y,v):_=c.getNode().getImmediateChild(m)}else _=cd(s,m,e.serverCache);_!=null?h=n.filter.updateChild(c.getNode(),m,_,y,l,u):h=c.getNode()}}return hs(e,h,c.isFullyInitialized()||pe(r),n.filter.filtersNodes())}}function kl(n,e,r,s,l,u,c,h){const p=e.serverCache;let m;const y=c?n.filter:n.filter.getIndexedFilter();if(pe(r))m=y.updateFullNode(p.getNode(),s,null);else if(y.filtersNodes()&&!p.isFiltered()){const S=p.getNode().updateChild(r,s);m=y.updateFullNode(p.getNode(),S,null)}else{const S=ce(r);if(!p.isCompleteForPath(r)&&er(r)>1)return e;const E=Ie(r),R=p.getNode().getImmediateChild(S).updateChild(E,s);S===".priority"?m=y.updatePriority(p.getNode(),R):m=y.updateChild(p.getNode(),S,R,E,py,null)}const _=ay(e,m,p.isFullyInitialized()||pe(r),y.filtersNodes()),v=new dd(l,_,u);return my(n,_,r,l,v,h)}function Ic(n,e,r,s,l,u,c){const h=e.eventCache;let p,m;const y=new dd(l,e,u);if(pe(r))m=n.filter.updateFullNode(e.eventCache.getNode(),s,c),p=hs(e,m,!0,n.filter.filtersNodes());else{const _=ce(r);if(_===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),p=hs(e,m,h.isFullyInitialized(),h.isFiltered());else{const v=Ie(r),S=h.getNode().getImmediateChild(_);let E;if(pe(v))E=s;else{const I=y.getCompleteChild(_);I!=null?ed(v)===".priority"&&I.getChild(Zg(v)).isEmpty()?E=I:E=I.updateChild(v,s):E=se.EMPTY_NODE}if(S.equals(E))p=e;else{const I=n.filter.updateChild(h.getNode(),_,E,v,y,c);p=hs(e,I,h.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function xm(n,e){return n.eventCache.isCompleteForChild(e)}function g1(n,e,r,s,l,u,c){let h=e;return s.foreach((p,m)=>{const y=ze(r,p);xm(e,ce(y))&&(h=Ic(n,h,y,m,l,u,c))}),s.foreach((p,m)=>{const y=ze(r,p);xm(e,ce(y))||(h=Ic(n,h,y,m,l,u,c))}),h}function km(n,e,r){return r.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Pc(n,e,r,s,l,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;pe(r)?m=s:m=new Re(null).setTree(r,s);const y=e.serverCache.getNode();return m.children.inorderTraversal((_,v)=>{if(y.hasChild(_)){const S=e.serverCache.getNode().getImmediateChild(_),E=km(n,S,v);p=kl(n,p,new xe(_),E,l,u,c,h)}}),m.children.inorderTraversal((_,v)=>{const S=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!y.hasChild(_)&&!S){const E=e.serverCache.getNode().getImmediateChild(_),I=km(n,E,v);p=kl(n,p,new xe(_),I,l,u,c,h)}}),p}function y1(n,e,r,s,l,u,c){if(xl(l,r)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(pe(r)&&p.isFullyInitialized()||p.isCompleteForPath(r))return kl(n,e,r,p.getNode().getChild(r),l,u,h,c);if(pe(r)){let m=new Re(null);return p.getNode().forEachChild(ri,(y,_)=>{m=m.set(new xe(y),_)}),Pc(n,e,r,m,l,u,h,c)}else return e}else{let m=new Re(null);return s.foreach((y,_)=>{const v=ze(r,y);p.isCompleteForPath(v)&&(m=m.set(y,p.getNode().getChild(v)))}),Pc(n,e,r,m,l,u,h,c)}}function _1(n,e,r,s,l){const u=e.serverCache,c=ay(e,u.getNode(),u.isFullyInitialized()||pe(r),u.isFiltered());return my(n,c,r,s,py,l)}function v1(n,e,r,s,l,u){let c;if(xl(s,r)!=null)return e;{const h=new dd(s,e,l),p=e.eventCache.getNode();let m;if(pe(r)||ce(r)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Sl(s,Sr(e));else{const _=e.serverCache.getNode();q(_ instanceof se,"serverChildren would be complete if leaf node"),y=ud(s,_)}y=y,m=n.filter.updateFullNode(p,y,u)}else{const y=ce(r);let _=cd(s,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=p.getImmediateChild(y)),_!=null?m=n.filter.updateChild(p,y,_,Ie(r),h,u):e.eventCache.getNode().hasChild(y)?m=n.filter.updateChild(p,y,se.EMPTY_NODE,Ie(r),h,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Sl(s,Sr(e)),c.isLeafNode()&&(m=n.filter.updateFullNode(m,c,u)))}return c=e.serverCache.isFullyInitialized()||xl(s,ve())!=null,hs(e,m,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new id(s.getIndex()),u=jS(s);this.processor_=f1(u);const c=r.serverCache,h=r.eventCache,p=l.updateFullNode(se.EMPTY_NODE,c.getNode(),null),m=u.updateFullNode(se.EMPTY_NODE,h.getNode(),null),y=new tr(p,c.isFullyInitialized(),l.filtersNodes()),_=new tr(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Ml(_,y),this.eventGenerator_=new qS(this.query_)}get query(){return this.query_}}function E1(n){return n.viewCache_.serverCache.getNode()}function C1(n){return Cl(n.viewCache_)}function S1(n,e){const r=Sr(n.viewCache_);return r&&(n.query._queryParams.loadsAllData()||!pe(e)&&!r.getImmediateChild(ce(e)).isEmpty())?r.getChild(e):null}function Tm(n){return n.eventRegistrations_.length===0}function x1(n,e){n.eventRegistrations_.push(e)}function Rm(n,e,r){const s=[];if(r){q(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(r,l);c&&s.push(c)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const c=n.eventRegistrations_[u];if(!c.matches(e))l.push(c);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Nm(n,e,r,s){e.type===Zt.MERGE&&e.source.queryId!==null&&(q(Sr(n.viewCache_),"We should always have a full cache before handling merges"),q(Cl(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=p1(n.processor_,l,e,r,s);return h1(n.processor_,u.viewCache),q(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,gy(n,u.changes,u.viewCache.eventCache.getNode(),null)}function k1(n,e){const r=n.viewCache_.eventCache,s=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ue,(u,c)=>{s.push(oi(u,c))}),r.isFullyInitialized()&&s.push(oy(r.getNode())),gy(n,s,r.getNode(),e)}function gy(n,e,r,s){const l=s?[s]:n.eventRegistrations_;return VS(n.eventGenerator_,e,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;class yy{constructor(){this.views=new Map}}function T1(n){q(!Tl,"__referenceConstructor has already been defined"),Tl=n}function R1(){return q(Tl,"Reference.ts has not been loaded"),Tl}function N1(n){return n.views.size===0}function fd(n,e,r,s){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return q(u!=null,"SyncTree gave us an op for an invalid query."),Nm(u,e,r,s)}else{let u=[];for(const c of n.views.values())u=u.concat(Nm(c,e,r,s));return u}}function _y(n,e,r,s,l){const u=e._queryIdentifier,c=n.views.get(u);if(!c){let h=Sl(r,l?s:null),p=!1;h?p=!0:s instanceof se?(h=ud(r,s),p=!1):(h=se.EMPTY_NODE,p=!1);const m=Ml(new tr(h,p,!1),new tr(s,l,!1));return new w1(e,m)}return c}function I1(n,e,r,s,l,u){const c=_y(n,e,s,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),x1(c,r),k1(c,r)}function P1(n,e,r,s){const l=e._queryIdentifier,u=[];let c=[];const h=nr(n);if(l==="default")for(const[p,m]of n.views.entries())c=c.concat(Rm(m,r,s)),Tm(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=n.views.get(l);p&&(c=c.concat(Rm(p,r,s)),Tm(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!nr(n)&&u.push(new(R1())(e._repo,e._path)),{removed:u,events:c}}function vy(n){const e=[];for(const r of n.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function Jn(n,e){let r=null;for(const s of n.views.values())r=r||S1(s,e);return r}function wy(n,e){if(e._queryParams.loadsAllData())return jl(n);{const s=e._queryIdentifier;return n.views.get(s)}}function Ey(n,e){return wy(n,e)!=null}function nr(n){return jl(n)!=null}function jl(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl;function A1(n){q(!Rl,"__referenceConstructor has already been defined"),Rl=n}function O1(){return q(Rl,"Reference.ts has not been loaded"),Rl}let D1=1;class Im{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=a1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Cy(n,e,r,s,l){return YS(n.pendingWriteTree_,e,r,s,l),l?pi(n,new Cr(od(),e,r)):[]}function L1(n,e,r,s){XS(n.pendingWriteTree_,e,r,s);const l=Re.fromObject(r);return pi(n,new li(od(),e,l))}function Qn(n,e,r=!1){const s=JS(n.pendingWriteTree_,e);if(ZS(n.pendingWriteTree_,e)){let u=new Re(null);return s.snap!=null?u=u.set(ve(),!0):st(s.children,c=>{u=u.set(new xe(c),!0)}),pi(n,new El(s.path,u,r))}else return[]}function js(n,e,r){return pi(n,new Cr(ld(),e,r))}function b1(n,e,r){const s=Re.fromObject(r);return pi(n,new li(ld(),e,s))}function M1(n,e){return pi(n,new ks(ld(),e))}function F1(n,e,r){const s=pd(n,r);if(s){const l=md(s),u=l.path,c=l.queryId,h=pt(u,e),p=new ks(ad(c),h);return gd(n,u,p)}else return[]}function Nl(n,e,r,s,l=!1){const u=e._path,c=n.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||Ey(c,e))){const p=P1(c,e,r,s);N1(c)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const m=p.removed;if(h=p.events,!l){const y=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(u,(v,S)=>nr(S));if(y&&!_){const v=n.syncPointTree_.subtree(u);if(!v.isEmpty()){const S=U1(v);for(let E=0;E<S.length;++E){const I=S[E],R=I.query,M=Ty(n,I);n.listenProvider_.startListening(ms(R),Ts(n,R),M.hashFn,M.onComplete)}}}!_&&m.length>0&&!s&&(y?n.listenProvider_.stopListening(ms(e),null):m.forEach(v=>{const S=n.queryToTagMap.get(zl(v));n.listenProvider_.stopListening(ms(v),S)}))}B1(n,m)}return h}function Sy(n,e,r,s){const l=pd(n,s);if(l!=null){const u=md(l),c=u.path,h=u.queryId,p=pt(c,e),m=new Cr(ad(h),p,r);return gd(n,c,m)}else return[]}function j1(n,e,r,s){const l=pd(n,s);if(l){const u=md(l),c=u.path,h=u.queryId,p=pt(c,e),m=Re.fromObject(r),y=new li(ad(h),p,m);return gd(n,c,y)}else return[]}function Ac(n,e,r,s=!1){const l=e._path;let u=null,c=!1;n.syncPointTree_.foreachOnPath(l,(v,S)=>{const E=pt(v,l);u=u||Jn(S,E),c=c||nr(S)});let h=n.syncPointTree_.get(l);h?(c=c||nr(h),u=u||Jn(h,ve())):(h=new yy,n.syncPointTree_=n.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=se.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((S,E)=>{const I=Jn(E,ve());I&&(u=u.updateImmediateChild(S,I))}));const m=Ey(h,e);if(!m&&!e._queryParams.loadsAllData()){const v=zl(e);q(!n.queryToTagMap.has(v),"View does not exist, but we have a tag");const S=$1();n.queryToTagMap.set(v,S),n.tagToQueryMap.set(S,v)}const y=Fl(n.pendingWriteTree_,l);let _=I1(h,e,r,y,u,p);if(!m&&!c&&!s){const v=wy(h,e);_=_.concat(W1(n,e,v))}return _}function hd(n,e,r){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(c,h)=>{const p=pt(c,e),m=Jn(h,p);if(m)return m});return dy(l,e,u,r,!0)}function z1(n,e){const r=e._path;let s=null;n.syncPointTree_.foreachOnPath(r,(m,y)=>{const _=pt(m,r);s=s||Jn(y,_)});let l=n.syncPointTree_.get(r);l?s=s||Jn(l,ve()):(l=new yy,n.syncPointTree_=n.syncPointTree_.set(r,l));const u=s!=null,c=u?new tr(s,!0,!1):null,h=Fl(n.pendingWriteTree_,e._path),p=_y(l,e,h,u?c.getNode():se.EMPTY_NODE,u);return C1(p)}function pi(n,e){return xy(e,n.syncPointTree_,null,Fl(n.pendingWriteTree_,ve()))}function xy(n,e,r,s){if(pe(n.path))return ky(n,e,r,s);{const l=e.get(ve());r==null&&l!=null&&(r=Jn(l,ve()));let u=[];const c=ce(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const m=r?r.getImmediateChild(c):null,y=fy(s,c);u=u.concat(xy(h,p,m,y))}return l&&(u=u.concat(fd(l,n,s,r))),u}}function ky(n,e,r,s){const l=e.get(ve());r==null&&l!=null&&(r=Jn(l,ve()));let u=[];return e.children.inorderTraversal((c,h)=>{const p=r?r.getImmediateChild(c):null,m=fy(s,c),y=n.operationForChild(c);y&&(u=u.concat(ky(y,h,p,m)))}),l&&(u=u.concat(fd(l,n,s,r))),u}function Ty(n,e){const r=e.query,s=Ts(n,r);return{hashFn:()=>(E1(e)||se.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?F1(n,r._path,s):M1(n,r._path);{const u=MC(l,r);return Nl(n,r,null,u)}}}}function Ts(n,e){const r=zl(e);return n.queryToTagMap.get(r)}function zl(n){return n._path.toString()+"$"+n._queryIdentifier}function pd(n,e){return n.tagToQueryMap.get(e)}function md(n){const e=n.indexOf("$");return q(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new xe(n.substr(0,e))}}function gd(n,e,r){const s=n.syncPointTree_.get(e);q(s,"Missing sync point for query tag that we're tracking");const l=Fl(n.pendingWriteTree_,e);return fd(s,r,l,null)}function U1(n){return n.fold((e,r,s)=>{if(r&&nr(r))return[jl(r)];{let l=[];return r&&(l=vy(r)),st(s,(u,c)=>{l=l.concat(c)}),l}})}function ms(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(O1())(n._repo,n._path):n}function B1(n,e){for(let r=0;r<e.length;++r){const s=e[r];if(!s._queryParams.loadsAllData()){const l=zl(s),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function $1(){return D1++}function W1(n,e,r){const s=e._path,l=Ts(n,e),u=Ty(n,r),c=n.listenProvider_.startListening(ms(e),l,u.hashFn,u.onComplete),h=n.syncPointTree_.subtree(s);if(l)q(!nr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,y,_)=>{if(!pe(m)&&y&&nr(y))return[jl(y).query];{let v=[];return y&&(v=v.concat(vy(y).map(S=>S.query))),st(_,(S,E)=>{v=v.concat(E)}),v}});for(let m=0;m<p.length;++m){const y=p[m];n.listenProvider_.stopListening(ms(y),Ts(n,y))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new yd(r)}node(){return this.node_}}class _d{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=ze(this.path_,e);return new _d(this.syncTree_,r)}node(){return hd(this.syncTree_,this.path_)}}const H1=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Pm=function(n,e,r){if(!n||typeof n!="object")return n;if(q(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return q1(n[".sv"],e,r);if(typeof n[".sv"]=="object")return V1(n[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},q1=function(n,e,r){switch(n){case"timestamp":return r.timestamp;default:q(!1,"Unexpected server value: "+n)}},V1=function(n,e,r){n.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&q(!1,"Unexpected increment value: "+s);const l=e.node();if(q(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const c=l.getValue();return typeof c!="number"?s:c+s},Ry=function(n,e,r,s){return vd(e,new _d(r,n),s)},Ny=function(n,e,r){return vd(n,new yd(e),r)};function vd(n,e,r){const s=n.getPriority().val(),l=Pm(s,e.getImmediateChild(".priority"),r);let u;if(n.isLeafNode()){const c=n,h=Pm(c.getValue(),e,r);return h!==c.getValue()||l!==c.getPriority().val()?new Ze(h,Ge(l)):n}else{const c=n;return u=c,l!==c.getPriority().val()&&(u=u.updatePriority(new Ze(l))),c.forEachChild(Ue,(h,p)=>{const m=vd(p,e.getImmediateChild(h),r);m!==p&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e="",r=null,s={children:{},childCount:0}){this.name=e,this.parent=r,this.node=s}}function Ed(n,e){let r=e instanceof xe?e:new xe(e),s=n,l=ce(r);for(;l!==null;){const u=ii(s.node.children,l)||{children:{},childCount:0};s=new wd(l,s,u),r=Ie(r),l=ce(r)}return s}function mi(n){return n.node.value}function Iy(n,e){n.node.value=e,Oc(n)}function Py(n){return n.node.childCount>0}function Q1(n){return mi(n)===void 0&&!Py(n)}function Ul(n,e){st(n.node.children,(r,s)=>{e(new wd(r,n,s))})}function Ay(n,e,r,s){r&&!s&&e(n),Ul(n,l=>{Ay(l,e,!0,s)}),r&&s&&e(n)}function G1(n,e,r){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function zs(n){return new xe(n.parent===null?n.name:zs(n.parent)+"/"+n.name)}function Oc(n){n.parent!==null&&K1(n.parent,n.name,n)}function K1(n,e,r){const s=Q1(r),l=fn(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Oc(n)):!s&&!l&&(n.node.children[e]=r.node,n.node.childCount++,Oc(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=/[\[\].#$\/\u0000-\u001F\u007F]/,X1=/[\[\].#$\u0000-\u001F\u007F]/,lc=10*1024*1024,Cd=function(n){return typeof n=="string"&&n.length!==0&&!Y1.test(n)},Oy=function(n){return typeof n=="string"&&n.length!==0&&!X1.test(n)},J1=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Oy(n)},Z1=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Kc(n)||n&&typeof n=="object"&&fn(n,".sv")},Dy=function(n,e,r,s){s&&e===void 0||Bl(Dl(n,"value"),e,r)},Bl=function(n,e,r){const s=r instanceof xe?new gS(r,n):r;if(e===void 0)throw new Error(n+"contains undefined "+yr(s));if(typeof e=="function")throw new Error(n+"contains a function "+yr(s)+" with contents = "+e.toString());if(Kc(e))throw new Error(n+"contains "+e.toString()+" "+yr(s));if(typeof e=="string"&&e.length>lc/3&&Ll(e)>lc)throw new Error(n+"contains a string greater than "+lc+" utf8 bytes "+yr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(st(e,(c,h)=>{if(c===".value")l=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!Cd(c)))throw new Error(n+" contains an invalid key ("+c+") "+yr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yS(s,c),Bl(n,h,s),_S(s)}),l&&u)throw new Error(n+' contains ".value" child '+yr(s)+" in addition to actual children.")}},ex=function(n,e){let r,s;for(r=0;r<e.length;r++){s=e[r];const u=Es(s);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!Cd(u[c]))throw new Error(n+"contains an invalid key ("+u[c]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(mS);let l=null;for(r=0;r<e.length;r++){if(s=e[r],l!==null&&Bt(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},tx=function(n,e,r,s){const l=Dl(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];st(e,(c,h)=>{const p=new xe(c);if(Bl(l,h,ze(r,p)),ed(p)===".priority"&&!Z1(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),ex(l,u)},Ly=function(n,e,r,s){if(!Oy(r))throw new Error(Dl(n,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nx=function(n,e,r,s){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Ly(n,e,r)},Sd=function(n,e){if(ce(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},rx=function(n,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Cd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!J1(r))throw new Error(Dl(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $l(n,e){let r=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();r!==null&&!td(u,r.path)&&(n.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(l)}r&&n.eventLists_.push(r)}function by(n,e,r){$l(n,r),My(n,s=>td(s,e))}function $t(n,e,r){$l(n,r),My(n,s=>Bt(s,e)||Bt(e,s))}function My(n,e){n.recursionDepth_++;let r=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const u=l.path;e(u)?(sx(n.eventLists_[s]),n.eventLists_[s]=null):r=!1}}r&&(n.eventLists_=[]),n.recursionDepth_--}function sx(n){for(let e=0;e<n.events.length;e++){const r=n.events[e];if(r!==null){n.events[e]=null;const s=r.getEventRunner();ds&&it("event: "+r.toString()),hi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="repo_interrupt",lx=25;class ax{constructor(e,r,s,l){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ix,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wl(),this.transactionQueueTree_=new wd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ux(n,e,r){if(n.stats_=Jc(n.repoInfo_),n.forceRestClient_||UC())n.server_=new vl(n.repoInfo_,(s,l,u,c)=>{Am(n,s,l,u,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Om(n,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(r)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Sn(n.repoInfo_,e,(s,l,u,c)=>{Am(n,s,l,u,c)},s=>{Om(n,s)},s=>{cx(n,s)},n.authTokenProvider_,n.appCheckProvider_,r),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=qC(n.repoInfo_,()=>new HS(n.stats_,n.server_)),n.infoData_=new zS,n.infoSyncTree_=new Im({startListening:(s,l,u,c)=>{let h=[];const p=n.infoData_.getNode(s._path);return p.isEmpty()||(h=js(n.infoSyncTree_,s._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),xd(n,"connected",!1),n.serverSyncTree_=new Im({startListening:(s,l,u,c)=>(n.server_.listen(s,u,l,(h,p)=>{const m=c(h,p);$t(n.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function Fy(n){const r=n.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Wl(n){return H1({timestamp:Fy(n)})}function Am(n,e,r,s,l){n.dataUpdateCount++;const u=new xe(e);r=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,r):r;let c=[];if(l)if(s){const p=hl(r,m=>Ge(m));c=j1(n.serverSyncTree_,u,p,l)}else{const p=Ge(r);c=Sy(n.serverSyncTree_,u,p,l)}else if(s){const p=hl(r,m=>Ge(m));c=b1(n.serverSyncTree_,u,p)}else{const p=Ge(r);c=js(n.serverSyncTree_,u,p)}let h=u;c.length>0&&(h=ui(n,u)),$t(n.eventQueue_,h,c)}function Om(n,e){xd(n,"connected",e),e===!1&&px(n)}function cx(n,e){st(e,(r,s)=>{xd(n,r,s)})}function xd(n,e,r){const s=new xe("/.info/"+e),l=Ge(r);n.infoData_.updateSnapshot(s,l);const u=js(n.infoSyncTree_,s,l);$t(n.eventQueue_,s,u)}function kd(n){return n.nextWriteId_++}function dx(n,e,r){const s=z1(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const u=Ge(l).withIndex(e._queryParams.getIndex());Ac(n.serverSyncTree_,e,r,!0);let c;if(e._queryParams.loadsAllData())c=js(n.serverSyncTree_,e._path,u);else{const h=Ts(n.serverSyncTree_,e);c=Sy(n.serverSyncTree_,e._path,u,h)}return $t(n.eventQueue_,e._path,c),Nl(n.serverSyncTree_,e,r,null,!0),u},l=>(Us(n,"get for query "+Ke(e)+" failed: "+l),Promise.reject(new Error(l))))}function fx(n,e,r,s,l){Us(n,"set",{path:e.toString(),value:r,priority:s});const u=Wl(n),c=Ge(r,s),h=hd(n.serverSyncTree_,e),p=Ny(c,h,u),m=kd(n),y=Cy(n.serverSyncTree_,e,p,m,!0);$l(n.eventQueue_,y),n.server_.put(e.toString(),c.val(!0),(v,S)=>{const E=v==="ok";E||mt("set at "+e+" failed: "+v);const I=Qn(n.serverSyncTree_,m,!E);$t(n.eventQueue_,e,I),Dc(n,l,v,S)});const _=Rd(n,e);ui(n,_),$t(n.eventQueue_,_,[])}function hx(n,e,r,s){Us(n,"update",{path:e.toString(),value:r});let l=!0;const u=Wl(n),c={};if(st(r,(h,p)=>{l=!1,c[h]=Ry(ze(e,h),Ge(p),n.serverSyncTree_,u)}),l)it("update() called with empty data.  Don't do anything."),Dc(n,s,"ok",void 0);else{const h=kd(n),p=L1(n.serverSyncTree_,e,c,h);$l(n.eventQueue_,p),n.server_.merge(e.toString(),r,(m,y)=>{const _=m==="ok";_||mt("update at "+e+" failed: "+m);const v=Qn(n.serverSyncTree_,h,!_),S=v.length>0?ui(n,e):e;$t(n.eventQueue_,S,v),Dc(n,s,m,y)}),st(r,m=>{const y=Rd(n,ze(e,m));ui(n,y)}),$t(n.eventQueue_,e,[])}}function px(n){Us(n,"onDisconnectEvents");const e=Wl(n),r=wl();kc(n.onDisconnect_,ve(),(l,u)=>{const c=Ry(l,u,n.serverSyncTree_,e);ly(r,l,c)});let s=[];kc(r,ve(),(l,u)=>{s=s.concat(js(n.serverSyncTree_,l,u));const c=Rd(n,l);ui(n,c)}),n.onDisconnect_=wl(),$t(n.eventQueue_,ve(),s)}function mx(n,e,r){let s;ce(e._path)===".info"?s=Ac(n.infoSyncTree_,e,r):s=Ac(n.serverSyncTree_,e,r),by(n.eventQueue_,e._path,s)}function Dm(n,e,r){let s;ce(e._path)===".info"?s=Nl(n.infoSyncTree_,e,r):s=Nl(n.serverSyncTree_,e,r),by(n.eventQueue_,e._path,s)}function gx(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ox)}function Us(n,...e){let r="";n.persistentConnection_&&(r=n.persistentConnection_.id+":"),it(r,...e)}function Dc(n,e,r,s){e&&hi(()=>{if(r==="ok")e(null);else{const l=(r||"error").toUpperCase();let u=l;s&&(u+=": "+s);const c=new Error(u);c.code=l,e(c)}})}function jy(n,e,r){return hd(n.serverSyncTree_,e,r)||se.EMPTY_NODE}function Td(n,e=n.transactionQueueTree_){if(e||Hl(n,e),mi(e)){const r=Uy(n,e);q(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&yx(n,zs(e),r)}else Py(e)&&Ul(e,r=>{Td(n,r)})}function yx(n,e,r){const s=r.map(m=>m.currentWriteId),l=jy(n,e,s);let u=l;const c=l.hash();for(let m=0;m<r.length;m++){const y=r[m];q(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=pt(e,y.path);u=u.updateChild(_,y.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;n.server_.put(p.toString(),h,m=>{Us(n,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const _=[];for(let v=0;v<r.length;v++)r[v].status=2,y=y.concat(Qn(n.serverSyncTree_,r[v].currentWriteId)),r[v].onComplete&&_.push(()=>r[v].onComplete(null,!0,r[v].currentOutputSnapshotResolved)),r[v].unwatcher();Hl(n,Ed(n.transactionQueueTree_,e)),Td(n,n.transactionQueueTree_),$t(n.eventQueue_,e,y);for(let v=0;v<_.length;v++)hi(_[v])}else{if(m==="datastale")for(let _=0;_<r.length;_++)r[_].status===3?r[_].status=4:r[_].status=0;else{mt("transaction at "+p.toString()+" failed: "+m);for(let _=0;_<r.length;_++)r[_].status=4,r[_].abortReason=m}ui(n,e)}},c)}function ui(n,e){const r=zy(n,e),s=zs(r),l=Uy(n,r);return _x(n,l,s),s}function _x(n,e,r){if(e.length===0)return;const s=[];let l=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=pt(r,p.path);let y=!1,_;if(q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,_=p.abortReason,l=l.concat(Qn(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=lx)y=!0,_="maxretry",l=l.concat(Qn(n.serverSyncTree_,p.currentWriteId,!0));else{const v=jy(n,p.path,c);p.currentInputSnapshot=v;const S=e[h].update(v.val());if(S!==void 0){Bl("transaction failed: Data returned ",S,p.path);let E=Ge(S);typeof S=="object"&&S!=null&&fn(S,".priority")||(E=E.updatePriority(v.getPriority()));const R=p.currentWriteId,M=Wl(n),O=Ny(E,v,M);p.currentOutputSnapshotRaw=E,p.currentOutputSnapshotResolved=O,p.currentWriteId=kd(n),c.splice(c.indexOf(R),1),l=l.concat(Cy(n.serverSyncTree_,p.path,O,p.currentWriteId,p.applyLocally)),l=l.concat(Qn(n.serverSyncTree_,R,!0))}else y=!0,_="nodata",l=l.concat(Qn(n.serverSyncTree_,p.currentWriteId,!0))}$t(n.eventQueue_,r,l),l=[],y&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(_),!1,null))))}Hl(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)hi(s[h]);Td(n,n.transactionQueueTree_)}function zy(n,e){let r,s=n.transactionQueueTree_;for(r=ce(e);r!==null&&mi(s)===void 0;)s=Ed(s,r),e=Ie(e),r=ce(e);return s}function Uy(n,e){const r=[];return By(n,e,r),r.sort((s,l)=>s.order-l.order),r}function By(n,e,r){const s=mi(e);if(s)for(let l=0;l<s.length;l++)r.push(s[l]);Ul(e,l=>{By(n,l,r)})}function Hl(n,e){const r=mi(e);if(r){let s=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[s]=r[l],s++);r.length=s,Iy(e,r.length>0?r:void 0)}Ul(e,s=>{Hl(n,s)})}function Rd(n,e){const r=zs(zy(n,e)),s=Ed(n.transactionQueueTree_,e);return G1(s,l=>{ac(n,l)}),ac(n,s),Ay(s,l=>{ac(n,l)}),r}function ac(n,e){const r=mi(e);if(r){const s=[];let l=[],u=-1;for(let c=0;c<r.length;c++)r[c].status===3||(r[c].status===1?(q(u===c-1,"All SENT items should be at beginning of queue."),u=c,r[c].status=3,r[c].abortReason="set"):(q(r[c].status===0,"Unexpected transaction status in abort"),r[c].unwatcher(),l=l.concat(Qn(n.serverSyncTree_,r[c].currentWriteId,!0)),r[c].onComplete&&s.push(r[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Iy(e,void 0):r.length=u+1,$t(n.eventQueue_,zs(e),l);for(let c=0;c<s.length;c++)hi(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n){let e="";const r=n.split("/");for(let s=0;s<r.length;s++)if(r[s].length>0){let l=r[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function wx(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const r of n.split("&")){if(r.length===0)continue;const s=r.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):mt(`Invalid query segment '${r}' in query '${n}'`)}return e}const Lm=function(n,e){const r=Ex(n),s=r.namespace;r.domain==="firebase.com"&&kn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&r.domain!=="localhost"&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||AC();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Hg(r.host,r.secure,s,l,e,"",s!==r.subdomain),path:new xe(r.pathString)}},Ex=function(n){let e="",r="",s="",l="",u="",c=!0,h="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let y=n.indexOf("/");y===-1&&(y=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(y,_)),y<_&&(l=vx(n.substring(y,_)));const v=wx(n.substring(Math.min(n.length,_)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const S=e.slice(0,m);if(S.toLowerCase()==="localhost")r="localhost";else if(S.split(".").length<=2)r=S;else{const E=e.indexOf(".");s=e.substring(0,E).toLowerCase(),r=e.substring(E+1),u=s}"ns"in v&&(u=v.ns)}return{host:e,port:p,domain:r,subdomain:s,secure:c,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cx=function(){let n=0;const e=[];return function(r){const s=r===n;n=r;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=bm.charAt(r%64),r=Math.floor(r/64);q(r===0,"Cannot push at time == 0");let c=u.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)c+=bm.charAt(e[l]);return q(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,r,s,l){this.eventType=e,this.eventRegistration=r,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class xx{constructor(e,r,s){this.eventRegistration=e,this.error=r,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,r,s,l){this._repo=e,this._path=r,this._queryParams=s,this._orderByCalled=l}get key(){return pe(this._path)?null:ed(this._path)}get ref(){return new Rn(this._repo,this._path)}get _queryIdentifier(){const e=vm(this._queryParams),r=Yc(e);return r==="{}"?"default":r}get _queryObject(){return vm(this._queryParams)}isEqual(e){if(e=kr(e),!(e instanceof Nd))return!1;const r=this._repo===e._repo,s=td(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return r&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+pS(this._path)}}class Rn extends Nd{constructor(e,r){super(e,r,new sd,!1)}get parent(){const e=Zg(this._path);return e===null?null:new Rn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Rs{constructor(e,r,s){this._node=e,this.ref=r,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new xe(e),s=Ns(this.ref,e);return new Rs(this._node.getChild(r),s,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Rs(l,Ns(this.ref,s),Ue)))}hasChild(e){const r=new xe(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ce(n,e){return n=kr(n),n._checkNotDeleted("ref"),e!==void 0?Ns(n._root,e):n._root}function Ns(n,e){return n=kr(n),ce(n._path)===null?nx("child","path",e):Ly("child","path",e),new Rn(n._repo,ze(n._path,e))}function kx(n,e){n=kr(n),Sd("push",n._path),Dy("push",e,n._path,!0);const r=Fy(n._repo),s=Cx(r),l=Ns(n,s),u=Ns(n,s);let c;return e!=null?c=en(u,e).then(()=>u):c=Promise.resolve(u),l.then=c.then.bind(c),l.catch=c.then.bind(c,void 0),l}function ll(n){return Sd("remove",n._path),en(n,null)}function en(n,e){n=kr(n),Sd("set",n._path),Dy("set",e,n._path,!1);const r=new Ds;return fx(n._repo,n._path,e,null,r.wrapCallback(()=>{})),r.promise}function Tx(n,e){tx("update",e,n._path);const r=new Ds;return hx(n._repo,n._path,e,r.wrapCallback(()=>{})),r.promise}function Jt(n){n=kr(n);const e=new $y(()=>{}),r=new ql(e);return dx(n._repo,n,r).then(s=>new Rs(s,new Rn(n._repo,n._path),n._queryParams.getIndex()))}class ql{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const s=r._queryParams.getIndex();return new Sx("value",this,new Rs(e.snapshotNode,new Rn(r._repo,r._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new xx(this,e,r):null}matches(e){return e instanceof ql?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Rx(n,e,r,s,l){let u;if(typeof s=="object"&&(u=void 0,l=s),typeof s=="function"&&(u=s),l&&l.onlyOnce){const p=r,m=(y,_)=>{Dm(n._repo,n,h),p(y,_)};m.userCallback=r.userCallback,m.context=r.context,r=m}const c=new $y(r,u||void 0),h=new ql(c);return mx(n._repo,n,h),()=>Dm(n._repo,n,h)}function Mm(n,e,r,s){return Rx(n,"value",e,r,s)}T1(Rn);A1(Rn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="FIREBASE_DATABASE_EMULATOR_HOST",Lc={};let Ix=!1;function Px(n,e,r,s){n.repoInfo_=new Hg(`${e}:${r}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}function Ax(n,e,r,s,l){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),it("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=Lm(u,l),h=c.repoInfo,p;typeof process<"u"&&tm&&(p=tm[Nx]),p?(u=`http://${p}?ns=${h.namespace}`,c=Lm(u,l),h=c.repoInfo):c.repoInfo.secure;const m=new $C(n.name,n.options,e);rx("Invalid Firebase Database URL",c),pe(c.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=Dx(h,n,m,new BC(n.name,r));return new Lx(y,n)}function Ox(n,e){const r=Lc[e];(!r||r[n.key]!==n)&&kn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),gx(n),delete r[n.key]}function Dx(n,e,r,s){let l=Lc[e.name];l||(l={},Lc[e.name]=l);let u=l[n.toURLString()];return u&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new ax(n,Ix,r,s),l[n.toURLString()]=u,u}class Lx{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ux(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rn(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Ox(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&kn("Cannot call "+e+" on a deleted database.")}}function St(n=hC(),e){const r=uC(n,"database").getImmediate({identifier:e});if(!r._instanceStarted){const s=Zw("database");s&&bx(r,...s)}return r}function bx(n,e,r,s={}){n=kr(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&kn("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new ol(ol.OWNER);else if(s.mockUserToken){const c=typeof s.mockUserToken=="string"?s.mockUserToken:eE(s.mockUserToken,n.app.options.projectId);u=new ol(c)}Px(l,e,r,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(n){kC(fC),ml(new _s("database",(e,{instanceIdentifier:r})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return Ax(s,l,u,r)},"PUBLIC").setMultipleInstances(!0)),ti(nm,rm,n),ti(nm,rm,"esm2017")}Sn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Sn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Mx();const Fx={apiKey:"AIzaSyCK58aeUtjlLq919pxe2wTZnhJqjEO_7kk",authDomain:"quizdb-ad0a2.firebaseapp.com",databaseURL:"https://quizdb-ad0a2-default-rtdb.firebaseio.com",projectId:"quizdb-ad0a2",storageBucket:"quizdb-ad0a2.firebasestorage.app",messagingSenderId:"595917417664",appId:"1:595917417664:web:f284273d498e384cdf5125",measurementId:"G-YC37Q9XL2X"},jx=Rg(Fx),Gn=St(jx);function zx(){const n=dt(),e=Wt(),[r,s]=P.useState({id:0,name:"Q0",legend:"",numOptions:0,option1:"",answer:""}),[l,u]=P.useState([]),[c,h]=P.useState([]),[p,m]=P.useState(1),[y,_]=P.useState([]),v=p===1,S=p===l.length;P.useEffect(()=>{try{console.log(n.state.id),m(n.state.id);try{_(n.state.answers)}catch{console.log("No answers, using empty array")}}catch(j){console.log("Error getting state: "+j)}const F=Ce(Gn,"questions/");Jt(F).then(j=>{if(j.exists()){const Y=j.val(),ne=Object.keys(Y);console.log(ne),u(ne),E(ne[0])}else console.log("No questions found in the database.")}).catch(j=>{console.log("Error while getting questions: "+j)})},[n.state.id]);const E=F=>{const j=Ce(Gn,`questions/${F}`);Jt(j).then(Y=>{if(Y.exists()){const ne=Y.val();s(ne),h(b(Array.from({length:ne.numOptions},(re,fe)=>fe+1)))}else console.log("No question found with the specified ID.")}).catch(Y=>{console.log("Error getting question data: "+Y)})};P.useEffect(()=>{console.log(l.length),l.length>-1&&(_(new Array(l.length).fill(null)),console.log("asnwers"),console.log(y))},[l]);function I(){const F=p<l.length?p+1:p;E(l[F-1]),m(F)}function R(){const F=p>1?p-1:p;E(l[F-1]),m(F)}function M(F){const j=F.target.value;_(Y=>{const ne=[...Y];return ne[p-1]=j,ne})}function O(){H(y)&&e("/done",{state:{answers:y}})}function b(F){const j=[...F];for(let Y=j.length-1;Y>0;Y--){const ne=Math.floor(Math.random()*(Y+1));[j[Y],j[ne]]=[j[ne],j[Y]]}return j}function H(F){let j=!0;for(const Y of F)if(!Y){document.getElementById("warning").innerHTML="Please answer all questions",j=!1;break}return j}return l.length?k.jsx(k.Fragment,{children:k.jsx("div",{id:"all-quiz",children:k.jsxs("div",{id:"quiz",className:"quiz_center",children:[k.jsx("span",{id:"INFO",children:k.jsxs("span",{children:["Question: ",k.jsx("span",{id:"questionNumber",children:p})]})}),k.jsx("form",{name:"quiz_form",id:"quiz_form",method:"get",children:r?k.jsxs("fieldset",{children:[k.jsx("legend",{children:r.legend}),c.map(F=>{const j=r[`option${F}`];return k.jsxs("div",{children:[k.jsx("input",{type:"radio",id:j,name:r.name,value:j,checked:y[p-1]===j||!1,onChange:M}),k.jsx("label",{htmlFor:j,children:j})]},j)})]}):k.jsx("div",{children:"No question to display"})}),k.jsx("div",{id:"warning"}),k.jsxs("div",{className:"button-container",children:[!v&&k.jsx("button",{onClick:R,id:"prev",children:"Previous"}),!S&&k.jsx("button",{onClick:I,id:"next",children:"Next"}),S&&k.jsx("button",{onClick:O,id:"Finish",children:"Finish"})]})]})})}):k.jsx("div",{children:"Loading..."})}function Ux(){const n=Wt(),[e,r]=P.useState(""),[s,l]=P.useState(""),[u,c]=P.useState(""),[h,p]=P.useState(!1),[m,y]=P.useState(!1);function _(){if(e&&s){const S=St(),E=Ce(S,"users/"+e);Jt(E).then(I=>{if(I.exists()){const R=I.val();R.password===s?n("/options",{state:{username:e,isAdmin:R.isAdmin}}):c("Invalid password. Please try again.")}else c("User not found. Please sign up first.")}).catch(I=>{c("Error logging in: "+I.message)})}else c("Please fill out both fields.")}function v(){if(e&&s){console.log(e);const S=St();console.log(Ce(S,"users/"+e)),console.log(S),en(Ce(S,"users/"+e),{username:e,password:s,isAdmin:m}).then(()=>{c(""),p(!1),alert("Account created successfully! You can now log in.")}).catch(E=>{c("Error creating account: "+E.message)})}else c("Please fill out both fields.")}return k.jsx("div",{className:"login-container",children:k.jsxs("div",{className:"login-card",children:[k.jsx("h2",{children:h?"Create Account":"Login"}),k.jsx("p",{children:h?"Enter a username and password to create a new account.":"Enter your username and password to start the quiz."}),k.jsxs("div",{className:"login-form",children:[k.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:S=>r(S.target.value),required:!0,className:"input-field"}),k.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:S=>l(S.target.value),required:!0,className:"input-field"}),u&&k.jsx("p",{className:"error-message",children:u}),k.jsx("button",{onClick:h?v:_,className:"login-btn",children:h?"Create Account":"Log In"}),k.jsx("button",{onClick:()=>p(!h),className:"toggle-btn",children:h?"Already have an account? Log in":"Don't have an account? Create one"})]})]})})}function Bx(){const n=Wt(),e=dt(),[r,s]=P.useState(""),[l,u]=P.useState(!1),[c,h]=P.useState([]),[p,m]=P.useState([]),[y,_]=P.useState(""),[v,S]=P.useState("");P.useEffect(()=>{const O=St(),b=Ce(O,"users/"+r);Jt(b).then(F=>{if(F.exists()){const j=F.val();console.log(j),console.log(e.state.username),s(e.state.username),u(j.isAdmin),console.log(j.isAdmin),h(Object.keys(j.groups||{}))}}).catch(F=>{S("Error loading user data: "+F.message)});const H=Ce(O,"groups");Jt(H).then(F=>{if(F.exists()){const j=F.val();m(Object.keys(j||{}))}}).catch(F=>{S("Error loading groups: "+F.message)})},[r]);function E(){const O=St(),b=Ce(O,"users/"+r);Jt(b).then(F=>{if(F.exists()){const j=F.val();console.log(j),console.log(e.state.username),s(e.state.username),u(j.isAdmin),console.log(j.isAdmin),h(Object.keys(j.groups||{}))}}).catch(F=>{S("Error loading user data: "+F.message)});const H=Ce(O,"groups");Jt(H).then(F=>{if(F.exists()){const j=F.val();m(Object.keys(j||{}))}}).catch(F=>{S("Error loading groups: "+F.message)})}const I=()=>{if(!y){S("Please enter a group name.");return}const O=St(),H=r.replace(/[.#$/[\]]/g,"_"),F=Ce(O,"groups/"+y);en(F,{groupName:y,admin:H,members:{[H]:!0}}).then(()=>{const j=Ce(O,"users/"+H+"/groups/"+y);en(j,!0),_(""),S(""),alert("Group created successfully!"),E()}).catch(j=>{S("Error creating group: "+j.message)})},R=O=>{const b=St(),H=Ce(b,"groups/"+O+"/members/"+r);en(H,!0).then(()=>{const F=Ce(b,"users/"+r+"/groups/"+O);en(F,!0),alert("Joined group successfully!"),E()}).catch(F=>{S("Error joining group: "+F.message)})},M=O=>{const b=St(),H=Ce(b,"groups/"+O);Jt(H).then(F=>{if(F.exists()){const j=F.val(),Y=j.latestQuizDate,ne=new Date().toLocaleDateString(),re=new Date(Y).toLocaleDateString()===ne;l&&!re?n("/admin",{state:{groupName:O,username:r,quizId:j.latest.latestQuiz.id}}):n("/quizPage",{state:{groupName:O,username:r,quizId:j.latest.latestQuiz.id}})}else S("Group data not found.")}).catch(F=>{S("Error fetching group data: "+F.message)})};return k.jsxs("div",{className:"options-container",children:[k.jsx("h1",{children:"User Control"}),k.jsxs("h3",{children:["Welcome, ",r]}),l&&k.jsx("p",{children:"You are an admin in all groups!"}),k.jsxs("div",{children:[k.jsx("h2",{children:"Your Groups"}),c.length>0?k.jsx("ul",{children:c.map(O=>k.jsx("li",{onClick:()=>M(O),children:O},O))}):k.jsx("p",{children:"You are not in any groups yet."})]}),k.jsxs("div",{children:[k.jsx("h2",{children:"Available Groups"}),p.length>0?k.jsx("ul",{children:p.map(O=>k.jsx("li",{onClick:c.includes(O)?()=>{}:()=>R(O),style:{cursor:c.includes(O)?"default":"pointer",color:c.includes(O)?"gray":"blue"},children:O},O))}):k.jsx("p",{children:"No groups available."})]}),k.jsxs("div",{children:[k.jsx("h2",{children:"Create a New Group"}),k.jsx("input",{type:"text",placeholder:"Enter Group Name",value:y,onChange:O=>_(O.target.value)}),k.jsx("button",{onClick:I,children:"Create Group"})]}),v&&k.jsx("p",{className:"error-message",children:v})]})}function Wy(n,e){return function(){return n.apply(e,arguments)}}const{toString:$x}=Object.prototype,{getPrototypeOf:Id}=Object,Vl=(n=>e=>{const r=$x.call(e);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),nn=n=>(n=n.toLowerCase(),e=>Vl(e)===n),Ql=n=>e=>typeof e===n,{isArray:gi}=Array,Is=Ql("undefined");function Wx(n){return n!==null&&!Is(n)&&n.constructor!==null&&!Is(n.constructor)&&At(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Hy=nn("ArrayBuffer");function Hx(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Hy(n.buffer),e}const qx=Ql("string"),At=Ql("function"),qy=Ql("number"),Gl=n=>n!==null&&typeof n=="object",Vx=n=>n===!0||n===!1,al=n=>{if(Vl(n)!=="object")return!1;const e=Id(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Qx=nn("Date"),Gx=nn("File"),Kx=nn("Blob"),Yx=nn("FileList"),Xx=n=>Gl(n)&&At(n.pipe),Jx=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||At(n.append)&&((e=Vl(n))==="formdata"||e==="object"&&At(n.toString)&&n.toString()==="[object FormData]"))},Zx=nn("URLSearchParams"),[ek,tk,nk,rk]=["ReadableStream","Request","Response","Headers"].map(nn),ik=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bs(n,e,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let s,l;if(typeof n!="object"&&(n=[n]),gi(n))for(s=0,l=n.length;s<l;s++)e.call(null,n[s],s,n);else{const u=r?Object.getOwnPropertyNames(n):Object.keys(n),c=u.length;let h;for(s=0;s<c;s++)h=u[s],e.call(null,n[h],h,n)}}function Vy(n,e){e=e.toLowerCase();const r=Object.keys(n);let s=r.length,l;for(;s-- >0;)if(l=r[s],e===l.toLowerCase())return l;return null}const vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qy=n=>!Is(n)&&n!==vr;function bc(){const{caseless:n}=Qy(this)&&this||{},e={},r=(s,l)=>{const u=n&&Vy(e,l)||l;al(e[u])&&al(s)?e[u]=bc(e[u],s):al(s)?e[u]=bc({},s):gi(s)?e[u]=s.slice():e[u]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&Bs(arguments[s],r);return e}const sk=(n,e,r,{allOwnKeys:s}={})=>(Bs(e,(l,u)=>{r&&At(l)?n[u]=Wy(l,r):n[u]=l},{allOwnKeys:s}),n),ok=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),lk=(n,e,r,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),r&&Object.assign(n.prototype,r)},ak=(n,e,r,s)=>{let l,u,c;const h={};if(e=e||{},n==null)return e;do{for(l=Object.getOwnPropertyNames(n),u=l.length;u-- >0;)c=l[u],(!s||s(c,n,e))&&!h[c]&&(e[c]=n[c],h[c]=!0);n=r!==!1&&Id(n)}while(n&&(!r||r(n,e))&&n!==Object.prototype);return e},uk=(n,e,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=e.length;const s=n.indexOf(e,r);return s!==-1&&s===r},ck=n=>{if(!n)return null;if(gi(n))return n;let e=n.length;if(!qy(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=n[e];return r},dk=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Id(Uint8Array)),fk=(n,e)=>{const s=(n&&n[Symbol.iterator]).call(n);let l;for(;(l=s.next())&&!l.done;){const u=l.value;e.call(n,u[0],u[1])}},hk=(n,e)=>{let r;const s=[];for(;(r=n.exec(e))!==null;)s.push(r);return s},pk=nn("HTMLFormElement"),mk=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,l){return s.toUpperCase()+l}),Fm=(({hasOwnProperty:n})=>(e,r)=>n.call(e,r))(Object.prototype),gk=nn("RegExp"),Gy=(n,e)=>{const r=Object.getOwnPropertyDescriptors(n),s={};Bs(r,(l,u)=>{let c;(c=e(l,u,n))!==!1&&(s[u]=c||l)}),Object.defineProperties(n,s)},yk=n=>{Gy(n,(e,r)=>{if(At(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=n[r];if(At(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_k=(n,e)=>{const r={},s=l=>{l.forEach(u=>{r[u]=!0})};return gi(n)?s(n):s(String(n).split(e)),r},vk=()=>{},wk=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,uc="abcdefghijklmnopqrstuvwxyz",jm="0123456789",Ky={DIGIT:jm,ALPHA:uc,ALPHA_DIGIT:uc+uc.toUpperCase()+jm},Ek=(n=16,e=Ky.ALPHA_DIGIT)=>{let r="";const{length:s}=e;for(;n--;)r+=e[Math.random()*s|0];return r};function Ck(n){return!!(n&&At(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Sk=n=>{const e=new Array(10),r=(s,l)=>{if(Gl(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[l]=s;const u=gi(s)?[]:{};return Bs(s,(c,h)=>{const p=r(c,l+1);!Is(p)&&(u[h]=p)}),e[l]=void 0,u}}return s};return r(n,0)},xk=nn("AsyncFunction"),kk=n=>n&&(Gl(n)||At(n))&&At(n.then)&&At(n.catch),Yy=((n,e)=>n?setImmediate:e?((r,s)=>(vr.addEventListener("message",({source:l,data:u})=>{l===vr&&u===r&&s.length&&s.shift()()},!1),l=>{s.push(l),vr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",At(vr.postMessage)),Tk=typeof queueMicrotask<"u"?queueMicrotask.bind(vr):typeof process<"u"&&process.nextTick||Yy,L={isArray:gi,isArrayBuffer:Hy,isBuffer:Wx,isFormData:Jx,isArrayBufferView:Hx,isString:qx,isNumber:qy,isBoolean:Vx,isObject:Gl,isPlainObject:al,isReadableStream:ek,isRequest:tk,isResponse:nk,isHeaders:rk,isUndefined:Is,isDate:Qx,isFile:Gx,isBlob:Kx,isRegExp:gk,isFunction:At,isStream:Xx,isURLSearchParams:Zx,isTypedArray:dk,isFileList:Yx,forEach:Bs,merge:bc,extend:sk,trim:ik,stripBOM:ok,inherits:lk,toFlatObject:ak,kindOf:Vl,kindOfTest:nn,endsWith:uk,toArray:ck,forEachEntry:fk,matchAll:hk,isHTMLForm:pk,hasOwnProperty:Fm,hasOwnProp:Fm,reduceDescriptors:Gy,freezeMethods:yk,toObjectSet:_k,toCamelCase:mk,noop:vk,toFiniteNumber:wk,findKey:Vy,global:vr,isContextDefined:Qy,ALPHABET:Ky,generateString:Ek,isSpecCompliantForm:Ck,toJSONObject:Sk,isAsyncFn:xk,isThenable:kk,setImmediate:Yy,asap:Tk};function le(n,e,r,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}L.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const Xy=le.prototype,Jy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Jy[n]={value:n}});Object.defineProperties(le,Jy);Object.defineProperty(Xy,"isAxiosError",{value:!0});le.from=(n,e,r,s,l,u)=>{const c=Object.create(Xy);return L.toFlatObject(n,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),le.call(c,n.message,e,r,s,l),c.cause=n,c.name=n.name,u&&Object.assign(c,u),c};const Rk=null;function Mc(n){return L.isPlainObject(n)||L.isArray(n)}function Zy(n){return L.endsWith(n,"[]")?n.slice(0,-2):n}function zm(n,e,r){return n?n.concat(e).map(function(l,u){return l=Zy(l),!r&&u?"["+l+"]":l}).join(r?".":""):e}function Nk(n){return L.isArray(n)&&!n.some(Mc)}const Ik=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function Kl(n,e,r){if(!L.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,r=L.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,R){return!L.isUndefined(R[I])});const s=r.metaTokens,l=r.visitor||y,u=r.dots,c=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(l))throw new TypeError("visitor must be a function");function m(E){if(E===null)return"";if(L.isDate(E))return E.toISOString();if(!p&&L.isBlob(E))throw new le("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(E)||L.isTypedArray(E)?p&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,I,R){let M=E;if(E&&!R&&typeof E=="object"){if(L.endsWith(I,"{}"))I=s?I:I.slice(0,-2),E=JSON.stringify(E);else if(L.isArray(E)&&Nk(E)||(L.isFileList(E)||L.endsWith(I,"[]"))&&(M=L.toArray(E)))return I=Zy(I),M.forEach(function(b,H){!(L.isUndefined(b)||b===null)&&e.append(c===!0?zm([I],H,u):c===null?I:I+"[]",m(b))}),!1}return Mc(E)?!0:(e.append(zm(R,I,u),m(E)),!1)}const _=[],v=Object.assign(Ik,{defaultVisitor:y,convertValue:m,isVisitable:Mc});function S(E,I){if(!L.isUndefined(E)){if(_.indexOf(E)!==-1)throw Error("Circular reference detected in "+I.join("."));_.push(E),L.forEach(E,function(M,O){(!(L.isUndefined(M)||M===null)&&l.call(e,M,L.isString(O)?O.trim():O,I,v))===!0&&S(M,I?I.concat(O):[O])}),_.pop()}}if(!L.isObject(n))throw new TypeError("data must be an object");return S(n),e}function Um(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Pd(n,e){this._pairs=[],n&&Kl(n,this,e)}const e_=Pd.prototype;e_.append=function(e,r){this._pairs.push([e,r])};e_.toString=function(e){const r=e?function(s){return e.call(this,s,Um)}:Um;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function Pk(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function t_(n,e,r){if(!e)return n;const s=r&&r.encode||Pk;L.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let u;if(l?u=l(e,r):u=L.isURLSearchParams(e)?e.toString():new Pd(e,r).toString(s),u){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class Bm{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(s){s!==null&&e(s)})}}const n_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ak=typeof URLSearchParams<"u"?URLSearchParams:Pd,Ok=typeof FormData<"u"?FormData:null,Dk=typeof Blob<"u"?Blob:null,Lk={isBrowser:!0,classes:{URLSearchParams:Ak,FormData:Ok,Blob:Dk},protocols:["http","https","file","blob","url","data"]},Ad=typeof window<"u"&&typeof document<"u",Fc=typeof navigator=="object"&&navigator||void 0,bk=Ad&&(!Fc||["ReactNative","NativeScript","NS"].indexOf(Fc.product)<0),Mk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fk=Ad&&window.location.href||"http://localhost",jk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ad,hasStandardBrowserEnv:bk,hasStandardBrowserWebWorkerEnv:Mk,navigator:Fc,origin:Fk},Symbol.toStringTag,{value:"Module"})),ct={...jk,...Lk};function zk(n,e){return Kl(n,new ct.classes.URLSearchParams,Object.assign({visitor:function(r,s,l,u){return ct.isNode&&L.isBuffer(r)?(this.append(s,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function Uk(n){return L.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Bk(n){const e={},r=Object.keys(n);let s;const l=r.length;let u;for(s=0;s<l;s++)u=r[s],e[u]=n[u];return e}function r_(n){function e(r,s,l,u){let c=r[u++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=u>=r.length;return c=!c&&L.isArray(l)?l.length:c,p?(L.hasOwnProp(l,c)?l[c]=[l[c],s]:l[c]=s,!h):((!l[c]||!L.isObject(l[c]))&&(l[c]=[]),e(r,s,l[c],u)&&L.isArray(l[c])&&(l[c]=Bk(l[c])),!h)}if(L.isFormData(n)&&L.isFunction(n.entries)){const r={};return L.forEachEntry(n,(s,l)=>{e(Uk(s),l,r,0)}),r}return null}function $k(n,e,r){if(L.isString(n))try{return(e||JSON.parse)(n),L.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(n)}const $s={transitional:n_,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const s=r.getContentType()||"",l=s.indexOf("application/json")>-1,u=L.isObject(e);if(u&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return l?JSON.stringify(r_(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)||L.isReadableStream(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return zk(e,this.formSerializer).toString();if((h=L.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Kl(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||l?(r.setContentType("application/json",!1),$k(e)):e}],transformResponse:[function(e){const r=this.transitional||$s.transitional,s=r&&r.forcedJSONParsing,l=this.responseType==="json";if(L.isResponse(e)||L.isReadableStream(e))return e;if(e&&L.isString(e)&&(s&&!this.responseType||l)){const c=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?le.from(h,le.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],n=>{$s.headers[n]={}});const Wk=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hk=n=>{const e={};let r,s,l;return n&&n.split(`
`).forEach(function(c){l=c.indexOf(":"),r=c.substring(0,l).trim().toLowerCase(),s=c.substring(l+1).trim(),!(!r||e[r]&&Wk[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},$m=Symbol("internals");function cs(n){return n&&String(n).trim().toLowerCase()}function ul(n){return n===!1||n==null?n:L.isArray(n)?n.map(ul):String(n)}function qk(n){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(n);)e[s[1]]=s[2];return e}const Vk=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function cc(n,e,r,s,l){if(L.isFunction(s))return s.call(this,e,r);if(l&&(e=r),!!L.isString(e)){if(L.isString(s))return e.indexOf(s)!==-1;if(L.isRegExp(s))return s.test(e)}}function Qk(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function Gk(n,e){const r=L.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+r,{value:function(l,u,c){return this[s].call(this,e,l,u,c)},configurable:!0})})}class kt{constructor(e){e&&this.set(e)}set(e,r,s){const l=this;function u(h,p,m){const y=cs(p);if(!y)throw new Error("header name must be a non-empty string");const _=L.findKey(l,y);(!_||l[_]===void 0||m===!0||m===void 0&&l[_]!==!1)&&(l[_||p]=ul(h))}const c=(h,p)=>L.forEach(h,(m,y)=>u(m,y,p));if(L.isPlainObject(e)||e instanceof this.constructor)c(e,r);else if(L.isString(e)&&(e=e.trim())&&!Vk(e))c(Hk(e),r);else if(L.isHeaders(e))for(const[h,p]of e.entries())u(p,h,s);else e!=null&&u(r,e,s);return this}get(e,r){if(e=cs(e),e){const s=L.findKey(this,e);if(s){const l=this[s];if(!r)return l;if(r===!0)return qk(l);if(L.isFunction(r))return r.call(this,l,s);if(L.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=cs(e),e){const s=L.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||cc(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let l=!1;function u(c){if(c=cs(c),c){const h=L.findKey(s,c);h&&(!r||cc(s,s[h],h,r))&&(delete s[h],l=!0)}}return L.isArray(e)?e.forEach(u):u(e),l}clear(e){const r=Object.keys(this);let s=r.length,l=!1;for(;s--;){const u=r[s];(!e||cc(this,this[u],u,e,!0))&&(delete this[u],l=!0)}return l}normalize(e){const r=this,s={};return L.forEach(this,(l,u)=>{const c=L.findKey(s,u);if(c){r[c]=ul(l),delete r[u];return}const h=e?Qk(u):String(u).trim();h!==u&&delete r[u],r[h]=ul(l),s[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return L.forEach(this,(s,l)=>{s!=null&&s!==!1&&(r[l]=e&&L.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(l=>s.set(l)),s}static accessor(e){const s=(this[$m]=this[$m]={accessors:{}}).accessors,l=this.prototype;function u(c){const h=cs(c);s[h]||(Gk(l,c),s[h]=!0)}return L.isArray(e)?e.forEach(u):u(e),this}}kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(kt.prototype,({value:n},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[r]=s}}});L.freezeMethods(kt);function dc(n,e){const r=this||$s,s=e||r,l=kt.from(s.headers);let u=s.data;return L.forEach(n,function(h){u=h.call(r,u,l.normalize(),e?e.status:void 0)}),l.normalize(),u}function i_(n){return!!(n&&n.__CANCEL__)}function yi(n,e,r){le.call(this,n??"canceled",le.ERR_CANCELED,e,r),this.name="CanceledError"}L.inherits(yi,le,{__CANCEL__:!0});function s_(n,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?n(r):e(new le("Request failed with status code "+r.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Kk(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Yk(n,e){n=n||10;const r=new Array(n),s=new Array(n);let l=0,u=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),y=s[u];c||(c=m),r[l]=p,s[l]=m;let _=u,v=0;for(;_!==l;)v+=r[_++],_=_%n;if(l=(l+1)%n,l===u&&(u=(u+1)%n),m-c<e)return;const S=y&&m-y;return S?Math.round(v*1e3/S):void 0}}function Xk(n,e){let r=0,s=1e3/e,l,u;const c=(m,y=Date.now())=>{r=y,l=null,u&&(clearTimeout(u),u=null),n.apply(null,m)};return[(...m)=>{const y=Date.now(),_=y-r;_>=s?c(m,y):(l=m,u||(u=setTimeout(()=>{u=null,c(l)},s-_)))},()=>l&&c(l)]}const Il=(n,e,r=3)=>{let s=0;const l=Yk(50,250);return Xk(u=>{const c=u.loaded,h=u.lengthComputable?u.total:void 0,p=c-s,m=l(p),y=c<=h;s=c;const _={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&y?(h-c)/m:void 0,event:u,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},r)},Wm=(n,e)=>{const r=n!=null;return[s=>e[0]({lengthComputable:r,total:n,loaded:s}),e[1]]},Hm=n=>(...e)=>L.asap(()=>n(...e)),Jk=ct.hasStandardBrowserEnv?((n,e)=>r=>(r=new URL(r,ct.origin),n.protocol===r.protocol&&n.host===r.host&&(e||n.port===r.port)))(new URL(ct.origin),ct.navigator&&/(msie|trident)/i.test(ct.navigator.userAgent)):()=>!0,Zk=ct.hasStandardBrowserEnv?{write(n,e,r,s,l,u){const c=[n+"="+encodeURIComponent(e)];L.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),L.isString(s)&&c.push("path="+s),L.isString(l)&&c.push("domain="+l),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eT(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function tT(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function o_(n,e){return n&&!eT(e)?tT(n,e):e}const qm=n=>n instanceof kt?{...n}:n;function xr(n,e){e=e||{};const r={};function s(m,y,_,v){return L.isPlainObject(m)&&L.isPlainObject(y)?L.merge.call({caseless:v},m,y):L.isPlainObject(y)?L.merge({},y):L.isArray(y)?y.slice():y}function l(m,y,_,v){if(L.isUndefined(y)){if(!L.isUndefined(m))return s(void 0,m,_,v)}else return s(m,y,_,v)}function u(m,y){if(!L.isUndefined(y))return s(void 0,y)}function c(m,y){if(L.isUndefined(y)){if(!L.isUndefined(m))return s(void 0,m)}else return s(void 0,y)}function h(m,y,_){if(_ in e)return s(m,y);if(_ in n)return s(void 0,m)}const p={url:u,method:u,data:u,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,y,_)=>l(qm(m),qm(y),_,!0)};return L.forEach(Object.keys(Object.assign({},n,e)),function(y){const _=p[y]||l,v=_(n[y],e[y],y);L.isUndefined(v)&&_!==h||(r[y]=v)}),r}const l_=n=>{const e=xr({},n);let{data:r,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:u,headers:c,auth:h}=e;e.headers=c=kt.from(c),e.url=t_(o_(e.baseURL,e.url),n.params,n.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(L.isFormData(r)){if(ct.hasStandardBrowserEnv||ct.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...y]=p?p.split(";").map(_=>_.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(ct.hasStandardBrowserEnv&&(s&&L.isFunction(s)&&(s=s(e)),s||s!==!1&&Jk(e.url))){const m=l&&u&&Zk.read(u);m&&c.set(l,m)}return e},nT=typeof XMLHttpRequest<"u",rT=nT&&function(n){return new Promise(function(r,s){const l=l_(n);let u=l.data;const c=kt.from(l.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=l,y,_,v,S,E;function I(){S&&S(),E&&E(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let R=new XMLHttpRequest;R.open(l.method.toUpperCase(),l.url,!0),R.timeout=l.timeout;function M(){if(!R)return;const b=kt.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),F={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:b,config:n,request:R};s_(function(Y){r(Y),I()},function(Y){s(Y),I()},F),R=null}"onloadend"in R?R.onloadend=M:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(M)},R.onabort=function(){R&&(s(new le("Request aborted",le.ECONNABORTED,n,R)),R=null)},R.onerror=function(){s(new le("Network Error",le.ERR_NETWORK,n,R)),R=null},R.ontimeout=function(){let H=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const F=l.transitional||n_;l.timeoutErrorMessage&&(H=l.timeoutErrorMessage),s(new le(H,F.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,n,R)),R=null},u===void 0&&c.setContentType(null),"setRequestHeader"in R&&L.forEach(c.toJSON(),function(H,F){R.setRequestHeader(F,H)}),L.isUndefined(l.withCredentials)||(R.withCredentials=!!l.withCredentials),h&&h!=="json"&&(R.responseType=l.responseType),m&&([v,E]=Il(m,!0),R.addEventListener("progress",v)),p&&R.upload&&([_,S]=Il(p),R.upload.addEventListener("progress",_),R.upload.addEventListener("loadend",S)),(l.cancelToken||l.signal)&&(y=b=>{R&&(s(!b||b.type?new yi(null,n,R):b),R.abort(),R=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));const O=Kk(l.url);if(O&&ct.protocols.indexOf(O)===-1){s(new le("Unsupported protocol "+O+":",le.ERR_BAD_REQUEST,n));return}R.send(u||null)})},iT=(n,e)=>{const{length:r}=n=n?n.filter(Boolean):[];if(e||r){let s=new AbortController,l;const u=function(m){if(!l){l=!0,h();const y=m instanceof Error?m:this.reason;s.abort(y instanceof le?y:new yi(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,u(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const h=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),n=null)};n.forEach(m=>m.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>L.asap(h),p}},sT=function*(n,e){let r=n.byteLength;if(r<e){yield n;return}let s=0,l;for(;s<r;)l=s+e,yield n.slice(s,l),s=l},oT=async function*(n,e){for await(const r of lT(n))yield*sT(r,e)},lT=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},Vm=(n,e,r,s)=>{const l=oT(n,e);let u=0,c,h=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:m,value:y}=await l.next();if(m){h(),p.close();return}let _=y.byteLength;if(r){let v=u+=_;r(v)}p.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(p){return h(p),l.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",a_=Yl&&typeof ReadableStream=="function",aT=Yl&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),u_=(n,...e)=>{try{return!!n(...e)}catch{return!1}},uT=a_&&u_(()=>{let n=!1;const e=new Request(ct.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Qm=64*1024,jc=a_&&u_(()=>L.isReadableStream(new Response("").body)),Pl={stream:jc&&(n=>n.body)};Yl&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Pl[e]&&(Pl[e]=L.isFunction(n[e])?r=>r[e]():(r,s)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,s)})})})(new Response);const cT=async n=>{if(n==null)return 0;if(L.isBlob(n))return n.size;if(L.isSpecCompliantForm(n))return(await new Request(ct.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(L.isArrayBufferView(n)||L.isArrayBuffer(n))return n.byteLength;if(L.isURLSearchParams(n)&&(n=n+""),L.isString(n))return(await aT(n)).byteLength},dT=async(n,e)=>{const r=L.toFiniteNumber(n.getContentLength());return r??cT(e)},fT=Yl&&(async n=>{let{url:e,method:r,data:s,signal:l,cancelToken:u,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:y,withCredentials:_="same-origin",fetchOptions:v}=l_(n);m=m?(m+"").toLowerCase():"text";let S=iT([l,u&&u.toAbortSignal()],c),E;const I=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let R;try{if(p&&uT&&r!=="get"&&r!=="head"&&(R=await dT(y,s))!==0){let F=new Request(e,{method:"POST",body:s,duplex:"half"}),j;if(L.isFormData(s)&&(j=F.headers.get("content-type"))&&y.setContentType(j),F.body){const[Y,ne]=Wm(R,Il(Hm(p)));s=Vm(F.body,Qm,Y,ne)}}L.isString(_)||(_=_?"include":"omit");const M="credentials"in Request.prototype;E=new Request(e,{...v,signal:S,method:r.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:M?_:void 0});let O=await fetch(E);const b=jc&&(m==="stream"||m==="response");if(jc&&(h||b&&I)){const F={};["status","statusText","headers"].forEach(re=>{F[re]=O[re]});const j=L.toFiniteNumber(O.headers.get("content-length")),[Y,ne]=h&&Wm(j,Il(Hm(h),!0))||[];O=new Response(Vm(O.body,Qm,Y,()=>{ne&&ne(),I&&I()}),F)}m=m||"text";let H=await Pl[L.findKey(Pl,m)||"text"](O,n);return!b&&I&&I(),await new Promise((F,j)=>{s_(F,j,{data:H,headers:kt.from(O.headers),status:O.status,statusText:O.statusText,config:n,request:E})})}catch(M){throw I&&I(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,n,E),{cause:M.cause||M}):le.from(M,M&&M.code,n,E)}}),zc={http:Rk,xhr:rT,fetch:fT};L.forEach(zc,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Gm=n=>`- ${n}`,hT=n=>L.isFunction(n)||n===null||n===!1,c_={getAdapter:n=>{n=L.isArray(n)?n:[n];const{length:e}=n;let r,s;const l={};for(let u=0;u<e;u++){r=n[u];let c;if(s=r,!hT(r)&&(s=zc[(c=String(r)).toLowerCase()],s===void 0))throw new le(`Unknown adapter '${c}'`);if(s)break;l[c||"#"+u]=s}if(!s){const u=Object.entries(l).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?u.length>1?`since :
`+u.map(Gm).join(`
`):" "+Gm(u[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:zc};function fc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new yi(null,n)}function Km(n){return fc(n),n.headers=kt.from(n.headers),n.data=dc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),c_.getAdapter(n.adapter||$s.adapter)(n).then(function(s){return fc(n),s.data=dc.call(n,n.transformResponse,s),s.headers=kt.from(s.headers),s},function(s){return i_(s)||(fc(n),s&&s.response&&(s.response.data=dc.call(n,n.transformResponse,s.response),s.response.headers=kt.from(s.response.headers))),Promise.reject(s)})}const d_="1.7.9",Xl={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Xl[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const Ym={};Xl.transitional=function(e,r,s){function l(u,c){return"[Axios v"+d_+"] Transitional option '"+u+"'"+c+(s?". "+s:"")}return(u,c,h)=>{if(e===!1)throw new le(l(c," has been removed"+(r?" in "+r:"")),le.ERR_DEPRECATED);return r&&!Ym[c]&&(Ym[c]=!0,console.warn(l(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(u,c,h):!0}};Xl.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function pT(n,e,r){if(typeof n!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let l=s.length;for(;l-- >0;){const u=s[l],c=e[u];if(c){const h=n[u],p=h===void 0||c(h,u,n);if(p!==!0)throw new le("option "+u+" must be "+p,le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new le("Unknown option "+u,le.ERR_BAD_OPTION)}}const cl={assertOptions:pT,validators:Xl},un=cl.validators;class wr{constructor(e){this.defaults=e,this.interceptors={request:new Bm,response:new Bm}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=xr(this.defaults,r);const{transitional:s,paramsSerializer:l,headers:u}=r;s!==void 0&&cl.assertOptions(s,{silentJSONParsing:un.transitional(un.boolean),forcedJSONParsing:un.transitional(un.boolean),clarifyTimeoutError:un.transitional(un.boolean)},!1),l!=null&&(L.isFunction(l)?r.paramsSerializer={serialize:l}:cl.assertOptions(l,{encode:un.function,serialize:un.function},!0)),cl.assertOptions(r,{baseUrl:un.spelling("baseURL"),withXsrfToken:un.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=u&&L.merge(u.common,u[r.method]);u&&L.forEach(["delete","get","head","post","put","patch","common"],E=>{delete u[E]}),r.headers=kt.concat(c,u);const h=[];let p=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(r)===!1||(p=p&&I.synchronous,h.unshift(I.fulfilled,I.rejected))});const m=[];this.interceptors.response.forEach(function(I){m.push(I.fulfilled,I.rejected)});let y,_=0,v;if(!p){const E=[Km.bind(this),void 0];for(E.unshift.apply(E,h),E.push.apply(E,m),v=E.length,y=Promise.resolve(r);_<v;)y=y.then(E[_++],E[_++]);return y}v=h.length;let S=r;for(_=0;_<v;){const E=h[_++],I=h[_++];try{S=E(S)}catch(R){I.call(this,R);break}}try{y=Km.call(this,S)}catch(E){return Promise.reject(E)}for(_=0,v=m.length;_<v;)y=y.then(m[_++],m[_++]);return y}getUri(e){e=xr(this.defaults,e);const r=o_(e.baseURL,e.url);return t_(r,e.params,e.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(e){wr.prototype[e]=function(r,s){return this.request(xr(s||{},{method:e,url:r,data:(s||{}).data}))}});L.forEach(["post","put","patch"],function(e){function r(s){return function(u,c,h){return this.request(xr(h||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:c}))}}wr.prototype[e]=r(),wr.prototype[e+"Form"]=r(!0)});class Od{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const s=this;this.promise.then(l=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](l);s._listeners=null}),this.promise.then=l=>{let u;const c=new Promise(h=>{s.subscribe(h),u=h}).then(l);return c.cancel=function(){s.unsubscribe(u)},c},e(function(u,c,h){s.reason||(s.reason=new yi(u,c,h),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Od(function(l){e=l}),cancel:e}}}function mT(n){return function(r){return n.apply(null,r)}}function gT(n){return L.isObject(n)&&n.isAxiosError===!0}const Uc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uc).forEach(([n,e])=>{Uc[e]=n});function f_(n){const e=new wr(n),r=Wy(wr.prototype.request,e);return L.extend(r,wr.prototype,e,{allOwnKeys:!0}),L.extend(r,e,null,{allOwnKeys:!0}),r.create=function(l){return f_(xr(n,l))},r}const qe=f_($s);qe.Axios=wr;qe.CanceledError=yi;qe.CancelToken=Od;qe.isCancel=i_;qe.VERSION=d_;qe.toFormData=Kl;qe.AxiosError=le;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=mT;qe.isAxiosError=gT;qe.mergeConfig=xr;qe.AxiosHeaders=kt;qe.formToJSON=n=>r_(L.isHTMLForm(n)?new FormData(n):n);qe.getAdapter=c_.getAdapter;qe.HttpStatusCode=Uc;qe.default=qe;function Dd(n=null){const e=n?{Authorization:`Bearer ${n}`,"Content-Type":"multipart/form-data"}:{"Content-Type":"multipart/form-data"},r=qe.create({baseURL:"https://quizdb-ad0a2-default-rtdb.firebaseio.com",headers:e,timeout:6e4,withCredentials:!1});return r.interceptors.request.use(s=>{const l=localStorage.getItem("ACCESS_TOKEN");return s.headers=s.headers||{},l&&(s.headers.Authorization=`Bearer ${l}`),s}),r.interceptors.response.use(s=>s,s=>{try{const{response:l}=s;(l==null?void 0:l.status)===401&&localStorage.removeItem("ACCESS_TOKEN")}catch(l){console.error(l)}throw s}),r}function yT(){const n=Wt(),e=dt(),r=Dd(),[s,l]=P.useState([]),[u,c]=P.useState([]);P.useEffect(()=>{try{l(Object.values(e.state.answers)),console.log(Object.values(e.state.answers))}catch{console.log("no answers using empty array")}r.get("/questions.json").then(m=>{const y=m.data;if(y){const _=Object.keys(y).map(v=>({id:v,...y[v]}));c(_),console.log(_)}else console.log("No questions found.")}).catch(m=>{console.error("Error while getting questions:",m)})},[]);function h(){n("/")}function p(){let m=0;for(let _=0;_<u.length;_++)u[_].answer==s[_]&&m++;return parseFloat((m/u.length*100).toFixed(2)).toString()}return k.jsx(k.Fragment,{children:k.jsx("div",{id:"all-quiz",children:k.jsxs("div",{id:"instructions",children:[k.jsxs("div",{children:[k.jsxs("p",{children:["You Finished with ",p(),"% score"]}),s.length>0?s.map((m,y)=>{var _;return k.jsxs("div",{className:((_=u[y])==null?void 0:_.answer)==m?"correct":"incorrect",children:[u[y]?u[y].legend:y,": ",m]},y)}):k.jsx("p",{children:"No answers to display"})]}),k.jsx("div",{className:"button-container",children:k.jsx("button",{onClick:h,id:"continue",children:"Finish"})})]})})})}function _T(){const n=Wt(),e=dt(),r=Dd(),[s,l]=P.useState([]),[u,c]=P.useState([]);P.useEffect(()=>{try{l(Object.values(e.state.answers)),console.log(Object.values(e.state.answers))}catch{console.log("no answers using empty array")}r.get(`/groups/${e.state.groupName}/quizzes/${e.state.quizId}/questions.json`).then(m=>{const y=m.data;y?(c(y),console.log(y)):console.log("No questions found.")}).catch(m=>{console.error("Error while getting questions:",m)})},[]);function h(){n("/quizPage",{state:{groupName:e.state.groupName,username:e.state.username,quizId:e.state.quizId}})}function p(){const m=St(),y=Ce(m,"groups/"+e.state.groupName+"/quizzes/"+e.state.quizId+"/answers/"+e.state.username);en(y,{user:e.state.username,answers:s}).then(()=>{n("/options",{state:{username:e.state.username}})}).catch(_=>{setError("Error creating group: "+_.message)})}return k.jsx(k.Fragment,{children:k.jsx("div",{id:"all-quiz",children:k.jsxs("div",{id:"instructions",children:[k.jsxs("div",{children:[k.jsx("p",{children:"Thank you for taking this quiz!"}),s.length>0?s.map((m,y)=>k.jsxs("div",{children:[u[y],": ",m]},y)):k.jsx("p",{children:"No answers to display"})]}),k.jsxs("div",{className:"button-container",children:[k.jsx("button",{onClick:h,id:"continue",children:"Retake"}),k.jsx("button",{onClick:p,children:"Submit"})]})]})})})}function vT(){const n=Wt(),e=dt(),[r,s]=P.useState([]),[l,u]=P.useState(1),[c,h]=P.useState([""]),[p,m]=P.useState(""),[y,_]=P.useState(""),[v,S]=P.useState(null),[E,I]=P.useState(!1);P.useEffect(()=>{try{s(Object.values(e.state.answers)),e.state.id&&S(e.state.id),e.state.id&&R(e.state.id)}catch{console.log("No answers or Firebase key provided, using default values.")}},[e.state]);function R(re){const fe=Ce(Gn,`questions/${re}`);console.log(re),Jt(fe).then(Se=>{if(Se.exists()){console.log(Se);const We=Se.val();_(We.legend),u(We.numOptions);const tt=Array.from({length:We.numOptions},(Ot,Dt)=>We[`option${Dt+1}`]);h(tt),m(We.answer),I(!0)}else console.error("Question not found in the database.")}).catch(Se=>{console.error("Error retrieving question:",Se)})}function M(re){const fe=parseInt(re.target.value,10)||1;u(fe),fe>c.length?h([...c,...Array(fe-c.length).fill("")]):h(c.slice(0,fe))}function O(re,fe){const Se=[...c];Se[re]=fe.target.value,h(Se)}function b(re){m(re.target.value)}function H(re){_(re.target.value)}function F(){return c.includes(p)}function j(){if(!F()){document.getElementById("warning").innerHTML="Please make sure your correct value is one of the available options.";return}const re={name:`Q${v||"New"}`,legend:y,numOptions:l,...c.reduce((Se,We,tt)=>(Se[`option${tt+1}`]=We,Se),{}),answer:p},fe=Ce(Gn,"questions");if(v){const Se=Ce(Gn,`questions/${v}`);Tx(Se,re).then(()=>console.log("Question updated successfully")).catch(We=>console.error("Error updating question:",We))}else kx(fe,re).then(()=>console.log("Question added successfully")).catch(Se=>console.error("Error adding question:",Se));n("/done",{state:{answers:r}})}function Y(){const re=Ce(Gn,`questions/${v}`);ll(re).then(()=>n("/done",{state:{answers:r}})).catch(fe=>{console.error("Error deleting question:",fe),alert("Failed to delete the question. Please try again.")})}function ne(){n("/done",{state:{answers:r}})}return k.jsx("div",{id:"all-quiz",children:k.jsxs("div",{id:"instructions",children:[k.jsx("h2",{children:"Question Creation"}),k.jsx("label",{htmlFor:"prompt",children:"Prompt:"}),k.jsx("textarea",{rows:"5",cols:"40",id:"prompt",value:y,onChange:H,className:"fillable"}),k.jsx("label",{htmlFor:"numOptions",children:"Number of Options:"}),k.jsx("input",{type:"number",id:"numOptions",min:"1",max:"100",step:"1",value:l,onChange:M,className:"fillable"}),k.jsx("ul",{id:"options",children:c.map((re,fe)=>k.jsx("li",{children:k.jsx("input",{type:"text",value:re,onChange:Se=>O(fe,Se),placeholder:`Option ${fe+1}`,className:"fillable"})},fe))}),k.jsx("label",{htmlFor:"CV",children:"Correct Value:"}),k.jsx("input",{type:"text",id:"CV",value:p,onChange:b,className:"fillable"}),k.jsx("div",{id:"warning"}),k.jsxs("div",{className:"button-container",children:[k.jsx("button",{onClick:j,children:"Finish"}),v&&k.jsx("button",{onClick:Y,children:"Delete"}),k.jsx("button",{onClick:ne,children:"Cancel"})]})]})})}function wT(){const n=Wt(),e=Dd(),r=dt(),[s,l]=P.useState([]),[u,c]=P.useState([]);P.useEffect(()=>{try{l(Object.values(r.state.answers)),setId(r.state.id),console.log(Object.values(r.state.answers))}catch{console.log("no answers using empty array")}e.get("/questions.json").then(y=>{const _=y.data;if(_){const v=Object.keys(_).map(S=>({id:S,..._[S]}));c(v),console.log(v)}else console.log("No questions found.")}).catch(y=>{console.error("Error while getting questions:",y)})},[]);function h(y){n("/create",{state:{answers:s,id:y-1}})}function p(){n("/done",{state:{answers:s}})}function m(y){y.target.style.cursor="pointer"}return k.jsx(k.Fragment,{children:k.jsxs("div",{className:"content-container",children:[k.jsx("h2",{className:"title",children:"Questions"}),k.jsx("ul",{children:u.map((y,_)=>k.jsx("li",{onClick:()=>h(y.id),children:k.jsx("div",{className:"card",onMouseOver:v=>m(v),children:k.jsx("div",{className:"card-content",children:k.jsx("div",{className:"content",children:k.jsx("div",{className:"name",children:y.legend},"question.legend")})})})},y.id))}),k.jsx("button",{onClick:p,children:"Back"})]})})}function ET(){const n=Wt(),{state:e}=dt(),{groupName:r}=e,[s,l]=P.useState(""),[u,c]=P.useState([]),[h,p]=P.useState(""),m=()=>{if(!s||u.length===0){p("Please provide a title and at least one question.");return}const y=St(),_=new Date().toISOString().replace(/[:.]/g,"-"),v=Ce(y,`groups/${r}/quizzes/${_}`);console.log("Saving to path:",`groups/${r}/quizzes/${_}`);const S={title:s,questions:u,date:new Date().toISOString().split("T")[0]};console.log(S),en(v,S).then(()=>{const E=Ce(y,`groups/${r}/latest`);en(E,{latestQuiz:{id:_,date:new Date().toISOString().split("T")[0]}}).then(()=>{n("/quizPage",{state:{groupName:r,quizId:_,username:e.username}})}).catch(I=>{p("Error updating group with latest quiz: "+I.message)})}).catch(E=>{p("Error creating quiz: "+E.message)})};return k.jsx("div",{className:"quiz-creation-container",children:k.jsxs("div",{className:"quiz-creation-card",children:[k.jsxs("h2",{children:["Create a Quiz for ",r]}),k.jsx("div",{className:"input-group",children:k.jsx("input",{type:"text",placeholder:"Enter Quiz Title",value:s,onChange:y=>l(y.target.value),className:"input-field"})}),k.jsx("div",{className:"input-group",children:k.jsx("textarea",{placeholder:"Enter Questions (separate by new lines)",value:u.join(`
`),onChange:y=>c(y.target.value.split(`
`)),className:"textarea-field"})}),k.jsx("button",{onClick:m,className:"create-quiz-btn",children:"Create Quiz"}),h&&k.jsx("p",{className:"error-message",children:h})]})})}function CT(){const n=dt(),e=Wt(),[r,s]=P.useState({id:0,name:"Q0",legend:"",answer:""}),[l,u]=P.useState([]),[c,h]=P.useState(1),[p,m]=P.useState([""]),y=c===1,_=c===l.length;P.useEffect(()=>{try{console.log(n.state.id),h(1);try{m(n.state.answers)}catch{console.log("No answers, using empty array")}}catch(b){console.log("Error getting state: "+b)}console.log(n.state.quizId);const O=Ce(Gn,`groups/${n.state.groupName}/quizzes/${n.state.quizId}/questions`);Jt(O).then(b=>{if(b.exists()){const H=b.val(),F=Object.keys(H);console.log(F),u(F),v(F[0])}else console.log("No questions found in the database.")}).catch(b=>{console.log("Error while getting questions: "+b)})},[n.state.id]);const v=O=>{var j,Y;const b=(j=n.state)==null?void 0:j.groupName,H=((Y=n.state)==null?void 0:Y.quizId)||"2024-12-10T19-37-39-210Z";if(!b||!O){console.log("Missing required parameters: groupName or questionId.");return}const F=Ce(Gn,`groups/${b}/quizzes/${H}`);Jt(F).then(ne=>{if(ne.exists()){const re=ne.val();console.log(re.questions[O]),s(re.questions[O])}else console.log(`No question found with the specified ID: ${O} in quiz: ${H}`)}).catch(ne=>{console.error(`Error getting question data for group: ${b}, quiz: ${H}, question: ${O}.`,ne)})};P.useEffect(()=>{console.log(l.length),l.length>0&&(m(new Array(l.length).fill("")),console.log("Answers initialized"))},[l]);const S=O=>{const b=O.target.value;m(H=>{const F=[...H];return F[c-1]=b,F})},E=()=>{const O=c<l.length?c+1:c;m(b=>{const H=[...b];return H[O-1]="",H}),v(l[O-1]),h(O)},I=()=>{const O=c>1?c-1:c;m(b=>{const H=[...b];return H[O-1]="",H}),v(l[O-1]),h(O)};function R(){M(p)&&e("/doneUser",{state:{answers:p,username:n.state.username,groupName:n.state.groupName,quizId:n.state.quizId}})}function M(O){let b=!0;for(const H of O)if(!H){document.getElementById("warning").innerHTML="Please answer all questions",b=!1;break}return b}return l.length===0||!p||typeof r!="string"?k.jsx("div",{children:"Loading..."}):k.jsx("div",{id:"all-quiz",children:k.jsxs("div",{id:"quiz",className:"quiz_center",children:[k.jsx("span",{id:"INFO",children:k.jsxs("span",{children:["Question: ",k.jsx("span",{id:"questionNumber",children:c})]})}),k.jsx("form",{name:"quiz_form",id:"quiz_form",method:"get",children:r?k.jsxs("fieldset",{children:[k.jsxs("legend",{children:[" ",r]}),k.jsx("div",{children:k.jsx("textarea",{value:p[c-1]||"",onChange:S,placeholder:"Type your answer here"})})]}):k.jsx("div",{children:"No question to display"})}),k.jsx("div",{id:"warning"}),k.jsxs("div",{className:"button-container",children:[!y&&k.jsx("button",{onClick:I,id:"prev",children:"Previous"}),!_&&k.jsx("button",{onClick:E,id:"next",children:"Next"}),_&&k.jsx("button",{onClick:R,id:"Finish",children:"Finish"})]})]})})}function ST(){const n=dt(),e=n.state.groupName,r=Wt(),[s,l]=P.useState({}),[u,c]=P.useState([]),[h,p]=P.useState([]),[m,y]=P.useState(""),[_,v]=P.useState("");P.useEffect(()=>{S(),y(n.state.quizId)},[e]);function S(){const b=St(),H=Ce(b,`groups/${e}`),F=Ce(b,`groups/${e}/quizzes`);Mm(H,j=>{if(j.exists()){const Y=j.val();l(Y),c(Object.keys(Y.members)||[])}else v("Group not found.")},j=>{v("Error fetching group data: "+j.message)}),Mm(F,j=>{j.exists()?p(Object.entries(j.val()).map(([Y,ne])=>({id:Y,...ne}))):p([])},j=>{v("Error fetching quizzes: "+j.message)})}const E=b=>{const H=St(),F=Ce(H,`groups/${e}/members/${b}`),j=Ce(H,`users/${b}/groups/${e}`);ll(F).then(()=>ll(j)).then(()=>{alert("Member removed successfully."),c(u.filter(Y=>Y!==b)),S()}).catch(Y=>{alert("Error removing member: "+Y.message)})},I=()=>{r("/quiz-creation",{state:{groupName:e,username:n.state.username}})},R=()=>{r("/quizPage",{state:{groupName:e,username:n.state.username,quizId:m}})},M=b=>{y(b);const H=St(),F=Ce(H,`groups/${e}/latest`);en(F,{latestQuiz:{id:b,date:new Date().toISOString().split("T")[0]}}).then(()=>{alert(`Quiz ${b} activated successfully!`)}).catch(j=>{alert("Error activating quiz: "+j.message)})},O=b=>{const H=St(),F=Ce(H,`groups/${e}/quizzes/${b}`);ll(F).then(()=>{alert(`Quiz ${b} removed successfully.`),p(h.filter(j=>j.id!==b))}).catch(j=>{alert("Error removing quiz: "+j.message)})};return _?k.jsx("div",{className:"error",children:_}):k.jsxs("div",{className:"group-admin-container",children:[k.jsxs("header",{children:[k.jsxs("h1",{children:["Admin Dashboard for ",e]}),k.jsx("p",{className:"group-description",children:s.description})]}),k.jsxs("section",{className:"actions",children:[k.jsx("button",{onClick:I,className:"btn primary-btn",children:"Create Quiz"}),k.jsx("button",{onClick:R,className:"btn secondary-btn",children:"Take Quiz"})]}),k.jsxs("section",{className:"members-section",children:[k.jsx("h2",{children:"Members"}),u.length>0?k.jsxs("table",{className:"table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:"Name"}),k.jsx("th",{children:"Actions"})]})}),k.jsx("tbody",{children:u.map(b=>k.jsxs("tr",{children:[k.jsx("td",{children:b}),k.jsx("td",{children:k.jsx("button",{onClick:()=>E(b),className:"btn remove-btn",children:"Remove"})})]},b))})]}):k.jsx("p",{children:"No members found."})]}),k.jsxs("section",{className:"quizzes-section",children:[k.jsx("h2",{children:"Quizzes"}),h.length>0?k.jsxs("table",{className:"table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:"Quiz Name"}),k.jsx("th",{children:"Actions"})]})}),k.jsx("tbody",{children:h.map(b=>k.jsxs("tr",{children:[k.jsx("td",{children:b.title}),k.jsx("td",{children:k.jsxs("div",{className:"button-container",children:[k.jsx("button",{onClick:()=>M(b.id),className:"btn activate-btn",children:"Activate"}),k.jsx("button",{onClick:()=>O(b.id),className:"btn remove-quiz-btn",children:"Remove"})]})})]},b.id))})]}):k.jsx("p",{children:"No quizzes available."})]})]})}function xT(){return k.jsxs(uw,{children:[k.jsx(Ut,{path:"/",element:k.jsx(Ww,{})}),k.jsx(Ut,{path:"/quiz",element:k.jsx(zx,{})}),k.jsx(Ut,{path:"/quiz-creation",element:k.jsx(ET,{})}),k.jsx(Ut,{path:"/quizPage",element:k.jsx(CT,{})}),k.jsx(Ut,{path:"/login",element:k.jsx(Ux,{})}),k.jsx(Ut,{path:"/options",element:k.jsx(Bx,{})}),k.jsx(Ut,{path:"/done",element:k.jsx(yT,{})}),k.jsx(Ut,{path:"/doneUser",element:k.jsx(_T,{})}),k.jsx(Ut,{path:"/create",element:k.jsx(vT,{})}),k.jsx(Ut,{path:"/edit",element:k.jsx(wT,{})}),k.jsx(Ut,{path:"/admin",element:k.jsx(ST,{})})]})}v0.createRoot(document.getElementById("root")).render(k.jsx(f0.StrictMode,{children:k.jsx(Dw,{children:k.jsx(xT,{})})}));
