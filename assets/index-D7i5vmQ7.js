(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function Ym(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hu={exports:{}},rs={},Vu={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function uw(){if(Tp)return fe;Tp=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function R(I,U,de){this.props=I,this.context=U,this.refs=k,this.updater=de||S}R.prototype.isReactComponent={},R.prototype.setState=function(I,U){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,U,"setState")},R.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function L(){}L.prototype=R.prototype;function F(I,U,de){this.props=I,this.context=U,this.refs=k,this.updater=de||S}var H=F.prototype=new L;H.constructor=F,C(H,R.prototype),H.isPureReactComponent=!0;var W=Array.isArray,G=Object.prototype.hasOwnProperty,K={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function $(I,U,de){var me,_e={},ve=null,Ne=null;if(U!=null)for(me in U.ref!==void 0&&(Ne=U.ref),U.key!==void 0&&(ve=""+U.key),U)G.call(U,me)&&!b.hasOwnProperty(me)&&(_e[me]=U[me]);var Ce=arguments.length-2;if(Ce===1)_e.children=de;else if(1<Ce){for(var Oe=Array(Ce),At=0;At<Ce;At++)Oe[At]=arguments[At+2];_e.children=Oe}if(I&&I.defaultProps)for(me in Ce=I.defaultProps,Ce)_e[me]===void 0&&(_e[me]=Ce[me]);return{$$typeof:n,type:I,key:ve,ref:Ne,props:_e,_owner:K.current}}function M(I,U){return{$$typeof:n,type:I.type,key:U,ref:I.ref,props:I.props,_owner:I._owner}}function j(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function re(I){var U={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(de){return U[de]})}var Fe=/\/+/g;function rt(I,U){return typeof I=="object"&&I!==null&&I.key!=null?re(""+I.key):U.toString(36)}function Ft(I,U,de,me,_e){var ve=typeof I;(ve==="undefined"||ve==="boolean")&&(I=null);var Ne=!1;if(I===null)Ne=!0;else switch(ve){case"string":case"number":Ne=!0;break;case"object":switch(I.$$typeof){case n:case e:Ne=!0}}if(Ne)return Ne=I,_e=_e(Ne),I=me===""?"."+rt(Ne,0):me,W(_e)?(de="",I!=null&&(de=I.replace(Fe,"$&/")+"/"),Ft(_e,U,de,"",function(At){return At})):_e!=null&&(j(_e)&&(_e=M(_e,de+(!_e.key||Ne&&Ne.key===_e.key?"":(""+_e.key).replace(Fe,"$&/")+"/")+I)),U.push(_e)),1;if(Ne=0,me=me===""?".":me+":",W(I))for(var Ce=0;Ce<I.length;Ce++){ve=I[Ce];var Oe=me+rt(ve,Ce);Ne+=Ft(ve,U,de,Oe,_e)}else if(Oe=v(I),typeof Oe=="function")for(I=Oe.call(I),Ce=0;!(ve=I.next()).done;)ve=ve.value,Oe=me+rt(ve,Ce++),Ne+=Ft(ve,U,de,Oe,_e);else if(ve==="object")throw U=String(I),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Ne}function jt(I,U,de){if(I==null)return I;var me=[],_e=0;return Ft(I,me,"","",function(ve){return U.call(de,ve,_e++)}),me}function Et(I){if(I._status===-1){var U=I._result;U=U(),U.then(function(de){(I._status===0||I._status===-1)&&(I._status=1,I._result=de)},function(de){(I._status===0||I._status===-1)&&(I._status=2,I._result=de)}),I._status===-1&&(I._status=0,I._result=U)}if(I._status===1)return I._result.default;throw I._result}var je={current:null},Y={transition:null},oe={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Y,ReactCurrentOwner:K};function Z(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:jt,forEach:function(I,U,de){jt(I,function(){U.apply(this,arguments)},de)},count:function(I){var U=0;return jt(I,function(){U++}),U},toArray:function(I){return jt(I,function(U){return U})||[]},only:function(I){if(!j(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},fe.Component=R,fe.Fragment=r,fe.Profiler=l,fe.PureComponent=F,fe.StrictMode=s,fe.Suspense=p,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,fe.act=Z,fe.cloneElement=function(I,U,de){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var me=C({},I.props),_e=I.key,ve=I.ref,Ne=I._owner;if(U!=null){if(U.ref!==void 0&&(ve=U.ref,Ne=K.current),U.key!==void 0&&(_e=""+U.key),I.type&&I.type.defaultProps)var Ce=I.type.defaultProps;for(Oe in U)G.call(U,Oe)&&!b.hasOwnProperty(Oe)&&(me[Oe]=U[Oe]===void 0&&Ce!==void 0?Ce[Oe]:U[Oe])}var Oe=arguments.length-2;if(Oe===1)me.children=de;else if(1<Oe){Ce=Array(Oe);for(var At=0;At<Oe;At++)Ce[At]=arguments[At+2];me.children=Ce}return{$$typeof:n,type:I.type,key:_e,ref:ve,props:me,_owner:Ne}},fe.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:a,_context:I},I.Consumer=I},fe.createElement=$,fe.createFactory=function(I){var U=$.bind(null,I);return U.type=I,U},fe.createRef=function(){return{current:null}},fe.forwardRef=function(I){return{$$typeof:h,render:I}},fe.isValidElement=j,fe.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:Et}},fe.memo=function(I,U){return{$$typeof:m,type:I,compare:U===void 0?null:U}},fe.startTransition=function(I){var U=Y.transition;Y.transition={};try{I()}finally{Y.transition=U}},fe.unstable_act=Z,fe.useCallback=function(I,U){return je.current.useCallback(I,U)},fe.useContext=function(I){return je.current.useContext(I)},fe.useDebugValue=function(){},fe.useDeferredValue=function(I){return je.current.useDeferredValue(I)},fe.useEffect=function(I,U){return je.current.useEffect(I,U)},fe.useId=function(){return je.current.useId()},fe.useImperativeHandle=function(I,U,de){return je.current.useImperativeHandle(I,U,de)},fe.useInsertionEffect=function(I,U){return je.current.useInsertionEffect(I,U)},fe.useLayoutEffect=function(I,U){return je.current.useLayoutEffect(I,U)},fe.useMemo=function(I,U){return je.current.useMemo(I,U)},fe.useReducer=function(I,U,de){return je.current.useReducer(I,U,de)},fe.useRef=function(I){return je.current.useRef(I)},fe.useState=function(I){return je.current.useState(I)},fe.useSyncExternalStore=function(I,U,de){return je.current.useSyncExternalStore(I,U,de)},fe.useTransition=function(){return je.current.useTransition()},fe.version="18.3.1",fe}var Ip;function Bc(){return Ip||(Ip=1,Vu.exports=uw()),Vu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function cw(){if(Pp)return rs;Pp=1;var n=Bc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var _,y={},v=null,S=null;m!==void 0&&(v=""+m),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(S=p.ref);for(_ in p)s.call(p,_)&&!a.hasOwnProperty(_)&&(y[_]=p[_]);if(h&&h.defaultProps)for(_ in p=h.defaultProps,p)y[_]===void 0&&(y[_]=p[_]);return{$$typeof:e,type:h,key:v,ref:S,props:y,_owner:l.current}}return rs.Fragment=r,rs.jsx=c,rs.jsxs=c,rs}var Ap;function dw(){return Ap||(Ap=1,Hu.exports=cw()),Hu.exports}var w=dw(),T=Bc();const fw=Ym(T);var el={},Qu={exports:{}},Rt={},Gu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function hw(){return Op||(Op=1,function(n){function e(Y,oe){var Z=Y.length;Y.push(oe);e:for(;0<Z;){var I=Z-1>>>1,U=Y[I];if(0<l(U,oe))Y[I]=oe,Y[Z]=U,Z=I;else break e}}function r(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var oe=Y[0],Z=Y.pop();if(Z!==oe){Y[0]=Z;e:for(var I=0,U=Y.length,de=U>>>1;I<de;){var me=2*(I+1)-1,_e=Y[me],ve=me+1,Ne=Y[ve];if(0>l(_e,Z))ve<U&&0>l(Ne,_e)?(Y[I]=Ne,Y[ve]=Z,I=ve):(Y[I]=_e,Y[me]=Z,I=me);else if(ve<U&&0>l(Ne,Z))Y[I]=Ne,Y[ve]=Z,I=ve;else break e}}return oe}function l(Y,oe){var Z=Y.sortIndex-oe.sortIndex;return Z!==0?Z:Y.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],m=[],_=1,y=null,v=3,S=!1,C=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(Y){for(var oe=r(m);oe!==null;){if(oe.callback===null)s(m);else if(oe.startTime<=Y)s(m),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=r(m)}}function W(Y){if(k=!1,H(Y),!C)if(r(p)!==null)C=!0,Et(G);else{var oe=r(m);oe!==null&&je(W,oe.startTime-Y)}}function G(Y,oe){C=!1,k&&(k=!1,L($),$=-1),S=!0;var Z=v;try{for(H(oe),y=r(p);y!==null&&(!(y.expirationTime>oe)||Y&&!re());){var I=y.callback;if(typeof I=="function"){y.callback=null,v=y.priorityLevel;var U=I(y.expirationTime<=oe);oe=n.unstable_now(),typeof U=="function"?y.callback=U:y===r(p)&&s(p),H(oe)}else s(p);y=r(p)}if(y!==null)var de=!0;else{var me=r(m);me!==null&&je(W,me.startTime-oe),de=!1}return de}finally{y=null,v=Z,S=!1}}var K=!1,b=null,$=-1,M=5,j=-1;function re(){return!(n.unstable_now()-j<M)}function Fe(){if(b!==null){var Y=n.unstable_now();j=Y;var oe=!0;try{oe=b(!0,Y)}finally{oe?rt():(K=!1,b=null)}}else K=!1}var rt;if(typeof F=="function")rt=function(){F(Fe)};else if(typeof MessageChannel<"u"){var Ft=new MessageChannel,jt=Ft.port2;Ft.port1.onmessage=Fe,rt=function(){jt.postMessage(null)}}else rt=function(){R(Fe,0)};function Et(Y){b=Y,K||(K=!0,rt())}function je(Y,oe){$=R(function(){Y(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){C||S||(C=!0,Et(G))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return r(p)},n.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var Z=v;v=oe;try{return Y()}finally{v=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Z=v;v=Y;try{return oe()}finally{v=Z}},n.unstable_scheduleCallback=function(Y,oe,Z){var I=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?I+Z:I):Z=I,Y){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Z+U,Y={id:_++,callback:oe,priorityLevel:Y,startTime:Z,expirationTime:U,sortIndex:-1},Z>I?(Y.sortIndex=Z,e(m,Y),r(p)===null&&Y===r(m)&&(k?(L($),$=-1):k=!0,je(W,Z-I))):(Y.sortIndex=U,e(p,Y),C||S||(C=!0,Et(G))),Y},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(Y){var oe=v;return function(){var Z=v;v=oe;try{return Y.apply(this,arguments)}finally{v=Z}}}}(Ku)),Ku}var Dp;function pw(){return Dp||(Dp=1,Gu.exports=hw()),Gu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function mw(){if(Lp)return Rt;Lp=1;var n=Bc(),e=pw();function r(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function a(t,i){c(t,i),c(t+"Capture",i)}function c(t,i){for(l[t]=i,t=0;t<i.length;t++)s.add(i[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},y={};function v(t){return p.call(y,t)?!0:p.call(_,t)?!1:m.test(t)?y[t]=!0:(_[t]=!0,!1)}function S(t,i,o,u){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C(t,i,o,u){if(i===null||typeof i>"u"||S(t,i,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(t,i,o,u,d,f,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=i,this.sanitizeURL=f,this.removeEmptyString=g}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){R[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];R[i]=new k(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){R[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){R[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){R[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){R[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){R[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){R[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){R[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function F(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(L,F);R[i]=new k(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(L,F);R[i]=new k(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(L,F);R[i]=new k(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){R[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),R.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){R[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function H(t,i,o,u){var d=R.hasOwnProperty(i)?R[i]:null;(d!==null?d.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,o,d,u)&&(o=null),u||d===null?v(i)&&(o===null?t.removeAttribute(i):t.setAttribute(i,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(i=d.attributeName,u=d.attributeNamespace,o===null?t.removeAttribute(i):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?t.setAttributeNS(u,i,o):t.setAttribute(i,o))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),K=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),re=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),jt=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),Y=Symbol.iterator;function oe(t){return t===null||typeof t!="object"?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,I;function U(t){if(I===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);I=i&&i[1]||""}return`
`+I+t}var de=!1;function me(t,i){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(O){var u=O}Reflect.construct(t,[],i)}else{try{i.call()}catch(O){u=O}t.call(i.prototype)}else{try{throw Error()}catch(O){u=O}t()}}catch(O){if(O&&u&&typeof O.stack=="string"){for(var d=O.stack.split(`
`),f=u.stack.split(`
`),g=d.length-1,E=f.length-1;1<=g&&0<=E&&d[g]!==f[E];)E--;for(;1<=g&&0<=E;g--,E--)if(d[g]!==f[E]){if(g!==1||E!==1)do if(g--,E--,0>E||d[g]!==f[E]){var x=`
`+d[g].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=g&&0<=E);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?U(t):""}function _e(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=me(t.type,!1),t;case 11:return t=me(t.type.render,!1),t;case 1:return t=me(t.type,!0),t;default:return""}}function ve(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case b:return"Fragment";case K:return"Portal";case M:return"Profiler";case $:return"StrictMode";case rt:return"Suspense";case Ft:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case re:return(t.displayName||"Context")+".Consumer";case j:return(t._context.displayName||"Context")+".Provider";case Fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jt:return i=t.displayName||null,i!==null?i:ve(t.type)||"Memo";case Et:i=t._payload,t=t._init;try{return ve(t(i))}catch{}}return null}function Ne(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ce(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oe(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function At(t){var i=Oe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(g){u=""+g,f.call(this,g)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(g){u=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function qs(t){t._valueTracker||(t._valueTracker=At(t))}function Dd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=Oe(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xl(t,i){var o=i.checked;return Z({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Ld(t,i){var o=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;o=Ce(i.value!=null?i.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function bd(t,i){i=i.checked,i!=null&&H(t,"checked",i,!1)}function Zl(t,i){bd(t,i);var o=Ce(i.value),u=i.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?ea(t,i.type,o):i.hasOwnProperty("defaultValue")&&ea(t,i.type,Ce(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Md(t,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,o||i===t.value||(t.value=i),t.defaultValue=i}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ea(t,i,o){(i!=="number"||Ws(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var _i=Array.isArray;function Tr(t,i,o,u){if(t=t.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=i.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ce(o),i=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function ta(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fd(t,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(r(92));if(_i(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),o=i}t._wrapperState={initialValue:Ce(o)}}function jd(t,i){var o=Ce(i.value),u=Ce(i.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),i.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function zd(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Ud(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Ud(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hs,Bd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,u,d){MSApp.execUnsafeLocalFunction(function(){return t(i,o,u,d)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Hs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function vi(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h_=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(t){h_.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),wi[i]=wi[t]})});function $d(t,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||wi.hasOwnProperty(t)&&wi[t]?(""+i).trim():i+"px"}function qd(t,i){t=t.style;for(var o in i)if(i.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=$d(o,i[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,d):t[o]=d}}var p_=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(t,i){if(i){if(p_[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function ia(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function oa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,Ir=null,Pr=null;function Wd(t){if(t=$i(t)){if(typeof la!="function")throw Error(r(280));var i=t.stateNode;i&&(i=mo(i),la(t.stateNode,t.type,i))}}function Hd(t){Ir?Pr?Pr.push(t):Pr=[t]:Ir=t}function Vd(){if(Ir){var t=Ir,i=Pr;if(Pr=Ir=null,Wd(t),i)for(t=0;t<i.length;t++)Wd(i[t])}}function Qd(t,i){return t(i)}function Gd(){}var aa=!1;function Kd(t,i,o){if(aa)return t(i,o);aa=!0;try{return Qd(t,i,o)}finally{aa=!1,(Ir!==null||Pr!==null)&&(Gd(),Vd())}}function Ei(t,i){var o=t.stateNode;if(o===null)return null;var u=mo(o);if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var ua=!1;if(h)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){ua=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{ua=!1}function m_(t,i,o,u,d,f,g,E,x){var O=Array.prototype.slice.call(arguments,3);try{i.apply(o,O)}catch(B){this.onError(B)}}var Si=!1,Vs=null,Qs=!1,ca=null,g_={onError:function(t){Si=!0,Vs=t}};function y_(t,i,o,u,d,f,g,E,x){Si=!1,Vs=null,m_.apply(g_,arguments)}function __(t,i,o,u,d,f,g,E,x){if(y_.apply(this,arguments),Si){if(Si){var O=Vs;Si=!1,Vs=null}else throw Error(r(198));Qs||(Qs=!0,ca=O)}}function rr(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function Yd(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Jd(t){if(rr(t)!==t)throw Error(r(188))}function v_(t){var i=t.alternate;if(!i){if(i=rr(t),i===null)throw Error(r(188));return i!==t?null:t}for(var o=t,u=i;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return Jd(d),t;if(f===u)return Jd(d),i;f=f.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=f;else{for(var g=!1,E=d.child;E;){if(E===o){g=!0,o=d,u=f;break}if(E===u){g=!0,u=d,o=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===o){g=!0,o=f,u=d;break}if(E===u){g=!0,u=f,o=d;break}E=E.sibling}if(!g)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:i}function Xd(t){return t=v_(t),t!==null?Zd(t):null}function Zd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=Zd(t);if(i!==null)return i;t=t.sibling}return null}var ef=e.unstable_scheduleCallback,tf=e.unstable_cancelCallback,w_=e.unstable_shouldYield,E_=e.unstable_requestPaint,$e=e.unstable_now,C_=e.unstable_getCurrentPriorityLevel,da=e.unstable_ImmediatePriority,nf=e.unstable_UserBlockingPriority,Gs=e.unstable_NormalPriority,S_=e.unstable_LowPriority,rf=e.unstable_IdlePriority,Ks=null,sn=null;function x_(t){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Ks,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:R_,N_=Math.log,k_=Math.LN2;function R_(t){return t>>>=0,t===0?32:31-(N_(t)/k_|0)|0}var Ys=64,Js=4194304;function xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xs(t,i){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,f=t.pingedLanes,g=o&268435455;if(g!==0){var E=g&~d;E!==0?u=xi(E):(f&=g,f!==0&&(u=xi(f)))}else g=o&~d,g!==0?u=xi(g):f!==0&&(u=xi(f));if(u===0)return 0;if(i!==0&&i!==u&&!(i&d)&&(d=u&-u,f=i&-i,d>=f||d===16&&(f&4194240)!==0))return i;if(u&4&&(u|=o&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=u;0<i;)o=31-Qt(i),d=1<<o,u|=t[o],i&=~d;return u}function T_(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I_(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes;0<f;){var g=31-Qt(f),E=1<<g,x=d[g];x===-1?(!(E&o)||E&u)&&(d[g]=T_(E,i)):x<=i&&(t.expiredLanes|=E),f&=~E}}function fa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sf(){var t=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),t}function ha(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function Ni(t,i,o){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Qt(i),t[i]=o}function P_(t,i){var o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Qt(o),f=1<<d;i[d]=0,u[d]=-1,t[d]=-1,o&=~f}}function pa(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-Qt(o),d=1<<u;d&i|t[u]&i&&(t[u]|=i),o&=~d}}var Se=0;function of(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lf,ma,af,uf,cf,ga=!1,Zs=[],In=null,Pn=null,An=null,ki=new Map,Ri=new Map,On=[],A_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function df(t,i){switch(t){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":ki.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(i.pointerId)}}function Ti(t,i,o,u,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},i!==null&&(i=$i(i),i!==null&&ma(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function O_(t,i,o,u,d){switch(i){case"focusin":return In=Ti(In,t,i,o,u,d),!0;case"dragenter":return Pn=Ti(Pn,t,i,o,u,d),!0;case"mouseover":return An=Ti(An,t,i,o,u,d),!0;case"pointerover":var f=d.pointerId;return ki.set(f,Ti(ki.get(f)||null,t,i,o,u,d)),!0;case"gotpointercapture":return f=d.pointerId,Ri.set(f,Ti(Ri.get(f)||null,t,i,o,u,d)),!0}return!1}function ff(t){var i=ir(t.target);if(i!==null){var o=rr(i);if(o!==null){if(i=o.tag,i===13){if(i=Yd(o),i!==null){t.blockedOn=i,cf(t.priority,function(){af(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eo(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=_a(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);sa=u,o.target.dispatchEvent(u),sa=null}else return i=$i(o),i!==null&&ma(i),t.blockedOn=o,!1;i.shift()}return!0}function hf(t,i,o){eo(t)&&o.delete(i)}function D_(){ga=!1,In!==null&&eo(In)&&(In=null),Pn!==null&&eo(Pn)&&(Pn=null),An!==null&&eo(An)&&(An=null),ki.forEach(hf),Ri.forEach(hf)}function Ii(t,i){t.blockedOn===i&&(t.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,D_)))}function Pi(t){function i(d){return Ii(d,t)}if(0<Zs.length){Ii(Zs[0],t);for(var o=1;o<Zs.length;o++){var u=Zs[o];u.blockedOn===t&&(u.blockedOn=null)}}for(In!==null&&Ii(In,t),Pn!==null&&Ii(Pn,t),An!==null&&Ii(An,t),ki.forEach(i),Ri.forEach(i),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)ff(o),o.blockedOn===null&&On.shift()}var Ar=W.ReactCurrentBatchConfig,to=!0;function L_(t,i,o,u){var d=Se,f=Ar.transition;Ar.transition=null;try{Se=1,ya(t,i,o,u)}finally{Se=d,Ar.transition=f}}function b_(t,i,o,u){var d=Se,f=Ar.transition;Ar.transition=null;try{Se=4,ya(t,i,o,u)}finally{Se=d,Ar.transition=f}}function ya(t,i,o,u){if(to){var d=_a(t,i,o,u);if(d===null)ba(t,i,u,no,o),df(t,u);else if(O_(d,t,i,o,u))u.stopPropagation();else if(df(t,u),i&4&&-1<A_.indexOf(t)){for(;d!==null;){var f=$i(d);if(f!==null&&lf(f),f=_a(t,i,o,u),f===null&&ba(t,i,u,no,o),f===d)break;d=f}d!==null&&u.stopPropagation()}else ba(t,i,u,null,o)}}var no=null;function _a(t,i,o,u){if(no=null,t=oa(u),t=ir(t),t!==null)if(i=rr(t),i===null)t=null;else if(o=i.tag,o===13){if(t=Yd(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return no=t,null}function pf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C_()){case da:return 1;case nf:return 4;case Gs:case S_:return 16;case rf:return 536870912;default:return 16}default:return 16}}var Dn=null,va=null,ro=null;function mf(){if(ro)return ro;var t,i=va,o=i.length,u,d="value"in Dn?Dn.value:Dn.textContent,f=d.length;for(t=0;t<o&&i[t]===d[t];t++);var g=o-t;for(u=1;u<=g&&i[o-u]===d[f-u];u++);return ro=d.slice(t,1<u?1-u:void 0)}function io(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function gf(){return!1}function Ot(t){function i(o,u,d,f,g){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(o=t[E],this[E]=o?o(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?so:gf,this.isPropagationStopped=gf,this}return Z(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),i}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Ot(Or),Ai=Z({},Or,{view:0,detail:0}),M_=Ot(Ai),Ea,Ca,Oi,oo=Z({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Ea=t.screenX-Oi.screenX,Ca=t.screenY-Oi.screenY):Ca=Ea=0,Oi=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),yf=Ot(oo),F_=Z({},oo,{dataTransfer:0}),j_=Ot(F_),z_=Z({},Ai,{relatedTarget:0}),Sa=Ot(z_),U_=Z({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),B_=Ot(U_),$_=Z({},Or,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q_=Ot($_),W_=Z({},Or,{data:0}),_f=Ot(W_),H_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G_(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Q_[t])?!!i[t]:!1}function xa(){return G_}var K_=Z({},Ai,{key:function(t){if(t.key){var i=H_[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=io(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(t){return t.type==="keypress"?io(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?io(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y_=Ot(K_),J_=Z({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vf=Ot(J_),X_=Z({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Z_=Ot(X_),ev=Z({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=Ot(ev),nv=Z({},oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rv=Ot(nv),iv=[9,13,27,32],Na=h&&"CompositionEvent"in window,Di=null;h&&"documentMode"in document&&(Di=document.documentMode);var sv=h&&"TextEvent"in window&&!Di,wf=h&&(!Na||Di&&8<Di&&11>=Di),Ef=" ",Cf=!1;function Sf(t,i){switch(t){case"keyup":return iv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function ov(t,i){switch(t){case"compositionend":return xf(i);case"keypress":return i.which!==32?null:(Cf=!0,Ef);case"textInput":return t=i.data,t===Ef&&Cf?null:t;default:return null}}function lv(t,i){if(Dr)return t==="compositionend"||!Na&&Sf(t,i)?(t=mf(),ro=va=Dn=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wf&&i.locale!=="ko"?null:i.data;default:return null}}var av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!av[t.type]:i==="textarea"}function kf(t,i,o,u){Hd(u),i=fo(i,"onChange"),0<i.length&&(o=new wa("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var Li=null,bi=null;function uv(t){Wf(t,0)}function lo(t){var i=jr(t);if(Dd(i))return t}function cv(t,i){if(t==="change")return i}var Rf=!1;if(h){var ka;if(h){var Ra="oninput"in document;if(!Ra){var Tf=document.createElement("div");Tf.setAttribute("oninput","return;"),Ra=typeof Tf.oninput=="function"}ka=Ra}else ka=!1;Rf=ka&&(!document.documentMode||9<document.documentMode)}function If(){Li&&(Li.detachEvent("onpropertychange",Pf),bi=Li=null)}function Pf(t){if(t.propertyName==="value"&&lo(bi)){var i=[];kf(i,bi,t,oa(t)),Kd(uv,i)}}function dv(t,i,o){t==="focusin"?(If(),Li=i,bi=o,Li.attachEvent("onpropertychange",Pf)):t==="focusout"&&If()}function fv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lo(bi)}function hv(t,i){if(t==="click")return lo(i)}function pv(t,i){if(t==="input"||t==="change")return lo(i)}function mv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Gt=typeof Object.is=="function"?Object.is:mv;function Mi(t,i){if(Gt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!p.call(i,d)||!Gt(t[d],i[d]))return!1}return!0}function Af(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Of(t,i){var o=Af(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Af(o)}}function Df(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Df(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Lf(){for(var t=window,i=Ws();i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=Ws(t.document)}return i}function Ta(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function gv(t){var i=Lf(),o=t.focusedElem,u=t.selectionRange;if(i!==o&&o&&o.ownerDocument&&Df(o.ownerDocument.documentElement,o)){if(u!==null&&Ta(o)){if(i=u.start,t=u.end,t===void 0&&(t=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(t,o.value.length);else if(t=(i=o.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!t.extend&&f>u&&(d=u,u=f,f=d),d=Of(o,f);var g=Of(o,u);d&&g&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==g.node||t.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),t.removeAllRanges(),f>u?(t.addRange(i),t.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),t.addRange(i)))}}for(i=[],t=o;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)t=i[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yv=h&&"documentMode"in document&&11>=document.documentMode,Lr=null,Ia=null,Fi=null,Pa=!1;function bf(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pa||Lr==null||Lr!==Ws(u)||(u=Lr,"selectionStart"in u&&Ta(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fi&&Mi(Fi,u)||(Fi=u,u=fo(Ia,"onSelect"),0<u.length&&(i=new wa("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=Lr)))}function ao(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var br={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},Aa={},Mf={};h&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function uo(t){if(Aa[t])return Aa[t];if(!br[t])return t;var i=br[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Mf)return Aa[t]=i[o];return t}var Ff=uo("animationend"),jf=uo("animationiteration"),zf=uo("animationstart"),Uf=uo("transitionend"),Bf=new Map,$f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(t,i){Bf.set(t,i),a(i,[t])}for(var Oa=0;Oa<$f.length;Oa++){var Da=$f[Oa],_v=Da.toLowerCase(),vv=Da[0].toUpperCase()+Da.slice(1);Ln(_v,"on"+vv)}Ln(Ff,"onAnimationEnd"),Ln(jf,"onAnimationIteration"),Ln(zf,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Uf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function qf(t,i,o){var u=t.type||"unknown-event";t.currentTarget=o,__(u,i,void 0,t),t.currentTarget=null}function Wf(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var f=void 0;if(i)for(var g=u.length-1;0<=g;g--){var E=u[g],x=E.instance,O=E.currentTarget;if(E=E.listener,x!==f&&d.isPropagationStopped())break e;qf(d,E,O),f=x}else for(g=0;g<u.length;g++){if(E=u[g],x=E.instance,O=E.currentTarget,E=E.listener,x!==f&&d.isPropagationStopped())break e;qf(d,E,O),f=x}}}if(Qs)throw t=ca,Qs=!1,ca=null,t}function Pe(t,i){var o=i[Ba];o===void 0&&(o=i[Ba]=new Set);var u=t+"__bubble";o.has(u)||(Hf(i,t,2,!1),o.add(u))}function La(t,i,o){var u=0;i&&(u|=4),Hf(o,t,u,i)}var co="_reactListening"+Math.random().toString(36).slice(2);function zi(t){if(!t[co]){t[co]=!0,s.forEach(function(o){o!=="selectionchange"&&(wv.has(o)||La(o,!1,t),La(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[co]||(i[co]=!0,La("selectionchange",!1,i))}}function Hf(t,i,o,u){switch(pf(i)){case 1:var d=L_;break;case 4:d=b_;break;default:d=ya}o=d.bind(null,i,o,t),d=void 0,!ua||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(i,o,{capture:!0,passive:d}):t.addEventListener(i,o,!0):d!==void 0?t.addEventListener(i,o,{passive:d}):t.addEventListener(i,o,!1)}function ba(t,i,o,u,d){var f=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var g=u.tag;if(g===3||g===4){var E=u.stateNode.containerInfo;if(E===d||E.nodeType===8&&E.parentNode===d)break;if(g===4)for(g=u.return;g!==null;){var x=g.tag;if((x===3||x===4)&&(x=g.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;g=g.return}for(;E!==null;){if(g=ir(E),g===null)return;if(x=g.tag,x===5||x===6){u=f=g;continue e}E=E.parentNode}}u=u.return}Kd(function(){var O=f,B=oa(o),q=[];e:{var z=Bf.get(t);if(z!==void 0){var J=wa,ee=t;switch(t){case"keypress":if(io(o)===0)break e;case"keydown":case"keyup":J=Y_;break;case"focusin":ee="focus",J=Sa;break;case"focusout":ee="blur",J=Sa;break;case"beforeblur":case"afterblur":J=Sa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=j_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Z_;break;case Ff:case jf:case zf:J=B_;break;case Uf:J=tv;break;case"scroll":J=M_;break;case"wheel":J=rv;break;case"copy":case"cut":case"paste":J=q_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=vf}var te=(i&4)!==0,qe=!te&&t==="scroll",P=te?z!==null?z+"Capture":null:z;te=[];for(var N=O,A;N!==null;){A=N;var V=A.stateNode;if(A.tag===5&&V!==null&&(A=V,P!==null&&(V=Ei(N,P),V!=null&&te.push(Ui(N,V,A)))),qe)break;N=N.return}0<te.length&&(z=new J(z,ee,null,o,B),q.push({event:z,listeners:te}))}}if(!(i&7)){e:{if(z=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",z&&o!==sa&&(ee=o.relatedTarget||o.fromElement)&&(ir(ee)||ee[pn]))break e;if((J||z)&&(z=B.window===B?B:(z=B.ownerDocument)?z.defaultView||z.parentWindow:window,J?(ee=o.relatedTarget||o.toElement,J=O,ee=ee?ir(ee):null,ee!==null&&(qe=rr(ee),ee!==qe||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(J=null,ee=O),J!==ee)){if(te=yf,V="onMouseLeave",P="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(te=vf,V="onPointerLeave",P="onPointerEnter",N="pointer"),qe=J==null?z:jr(J),A=ee==null?z:jr(ee),z=new te(V,N+"leave",J,o,B),z.target=qe,z.relatedTarget=A,V=null,ir(B)===O&&(te=new te(P,N+"enter",ee,o,B),te.target=A,te.relatedTarget=qe,V=te),qe=V,J&&ee)t:{for(te=J,P=ee,N=0,A=te;A;A=Mr(A))N++;for(A=0,V=P;V;V=Mr(V))A++;for(;0<N-A;)te=Mr(te),N--;for(;0<A-N;)P=Mr(P),A--;for(;N--;){if(te===P||P!==null&&te===P.alternate)break t;te=Mr(te),P=Mr(P)}te=null}else te=null;J!==null&&Vf(q,z,J,te,!1),ee!==null&&qe!==null&&Vf(q,qe,ee,te,!0)}}e:{if(z=O?jr(O):window,J=z.nodeName&&z.nodeName.toLowerCase(),J==="select"||J==="input"&&z.type==="file")var ne=cv;else if(Nf(z))if(Rf)ne=pv;else{ne=fv;var ie=dv}else(J=z.nodeName)&&J.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(ne=hv);if(ne&&(ne=ne(t,O))){kf(q,ne,o,B);break e}ie&&ie(t,z,O),t==="focusout"&&(ie=z._wrapperState)&&ie.controlled&&z.type==="number"&&ea(z,"number",z.value)}switch(ie=O?jr(O):window,t){case"focusin":(Nf(ie)||ie.contentEditable==="true")&&(Lr=ie,Ia=O,Fi=null);break;case"focusout":Fi=Ia=Lr=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,bf(q,o,B);break;case"selectionchange":if(yv)break;case"keydown":case"keyup":bf(q,o,B)}var se;if(Na)e:{switch(t){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Dr?Sf(t,o)&&(ae="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ae="onCompositionStart");ae&&(wf&&o.locale!=="ko"&&(Dr||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Dr&&(se=mf()):(Dn=B,va="value"in Dn?Dn.value:Dn.textContent,Dr=!0)),ie=fo(O,ae),0<ie.length&&(ae=new _f(ae,t,null,o,B),q.push({event:ae,listeners:ie}),se?ae.data=se:(se=xf(o),se!==null&&(ae.data=se)))),(se=sv?ov(t,o):lv(t,o))&&(O=fo(O,"onBeforeInput"),0<O.length&&(B=new _f("onBeforeInput","beforeinput",null,o,B),q.push({event:B,listeners:O}),B.data=se))}Wf(q,i)})}function Ui(t,i,o){return{instance:t,listener:i,currentTarget:o}}function fo(t,i){for(var o=i+"Capture",u=[];t!==null;){var d=t,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Ei(t,o),f!=null&&u.unshift(Ui(t,f,d)),f=Ei(t,i),f!=null&&u.push(Ui(t,f,d))),t=t.return}return u}function Mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vf(t,i,o,u,d){for(var f=i._reactName,g=[];o!==null&&o!==u;){var E=o,x=E.alternate,O=E.stateNode;if(x!==null&&x===u)break;E.tag===5&&O!==null&&(E=O,d?(x=Ei(o,f),x!=null&&g.unshift(Ui(o,x,E))):d||(x=Ei(o,f),x!=null&&g.push(Ui(o,x,E)))),o=o.return}g.length!==0&&t.push({event:i,listeners:g})}var Ev=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function Qf(t){return(typeof t=="string"?t:""+t).replace(Ev,`
`).replace(Cv,"")}function ho(t,i,o){if(i=Qf(i),Qf(t)!==i&&o)throw Error(r(425))}function po(){}var Ma=null,Fa=null;function ja(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(t){return Gf.resolve(null).then(t).catch(Nv)}:za;function Nv(t){setTimeout(function(){throw t})}function Ua(t,i){var o=i,u=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){t.removeChild(d),Pi(i);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Pi(i)}function bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Kf(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),on="__reactFiber$"+Fr,Bi="__reactProps$"+Fr,pn="__reactContainer$"+Fr,Ba="__reactEvents$"+Fr,kv="__reactListeners$"+Fr,Rv="__reactHandles$"+Fr;function ir(t){var i=t[on];if(i)return i;for(var o=t.parentNode;o;){if(i=o[pn]||o[on]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Kf(t);t!==null;){if(o=t[on])return o;t=Kf(t)}return i}t=o,o=t.parentNode}return null}function $i(t){return t=t[on]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function mo(t){return t[Bi]||null}var $a=[],zr=-1;function Mn(t){return{current:t}}function Ae(t){0>zr||(t.current=$a[zr],$a[zr]=null,zr--)}function ke(t,i){zr++,$a[zr]=t.current,t.current=i}var Fn={},ut=Mn(Fn),Ct=Mn(!1),sr=Fn;function Ur(t,i){var o=t.type.contextTypes;if(!o)return Fn;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=i[f];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=d),d}function St(t){return t=t.childContextTypes,t!=null}function go(){Ae(Ct),Ae(ut)}function Yf(t,i,o){if(ut.current!==Fn)throw Error(r(168));ke(ut,i),ke(Ct,o)}function Jf(t,i,o){var u=t.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in i))throw Error(r(108,Ne(t)||"Unknown",d));return Z({},o,u)}function yo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fn,sr=ut.current,ke(ut,t),ke(Ct,Ct.current),!0}function Xf(t,i,o){var u=t.stateNode;if(!u)throw Error(r(169));o?(t=Jf(t,i,sr),u.__reactInternalMemoizedMergedChildContext=t,Ae(Ct),Ae(ut),ke(ut,t)):Ae(Ct),ke(Ct,o)}var mn=null,_o=!1,qa=!1;function Zf(t){mn===null?mn=[t]:mn.push(t)}function Tv(t){_o=!0,Zf(t)}function jn(){if(!qa&&mn!==null){qa=!0;var t=0,i=Se;try{var o=mn;for(Se=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}mn=null,_o=!1}catch(d){throw mn!==null&&(mn=mn.slice(t+1)),ef(da,jn),d}finally{Se=i,qa=!1}}return null}var Br=[],$r=0,vo=null,wo=0,zt=[],Ut=0,or=null,gn=1,yn="";function lr(t,i){Br[$r++]=wo,Br[$r++]=vo,vo=t,wo=i}function eh(t,i,o){zt[Ut++]=gn,zt[Ut++]=yn,zt[Ut++]=or,or=t;var u=gn;t=yn;var d=32-Qt(u)-1;u&=~(1<<d),o+=1;var f=32-Qt(i)+d;if(30<f){var g=d-d%5;f=(u&(1<<g)-1).toString(32),u>>=g,d-=g,gn=1<<32-Qt(i)+d|o<<d|u,yn=f+t}else gn=1<<f|o<<d|u,yn=t}function Wa(t){t.return!==null&&(lr(t,1),eh(t,1,0))}function Ha(t){for(;t===vo;)vo=Br[--$r],Br[$r]=null,wo=Br[--$r],Br[$r]=null;for(;t===or;)or=zt[--Ut],zt[Ut]=null,yn=zt[--Ut],zt[Ut]=null,gn=zt[--Ut],zt[Ut]=null}var Dt=null,Lt=null,De=!1,Kt=null;function th(t,i){var o=Wt(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=t,i=t.deletions,i===null?(t.deletions=[o],t.flags|=16):i.push(o)}function nh(t,i){switch(t.tag){case 5:var o=t.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Dt=t,Lt=bn(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Dt=t,Lt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=or!==null?{id:gn,overflow:yn}:null,t.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Wt(18,null,null,0),o.stateNode=i,o.return=t,t.child=o,Dt=t,Lt=null,!0):!1;default:return!1}}function Va(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qa(t){if(De){var i=Lt;if(i){var o=i;if(!nh(t,i)){if(Va(t))throw Error(r(418));i=bn(o.nextSibling);var u=Dt;i&&nh(t,i)?th(u,o):(t.flags=t.flags&-4097|2,De=!1,Dt=t)}}else{if(Va(t))throw Error(r(418));t.flags=t.flags&-4097|2,De=!1,Dt=t}}}function rh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function Eo(t){if(t!==Dt)return!1;if(!De)return rh(t),De=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!ja(t.type,t.memoizedProps)),i&&(i=Lt)){if(Va(t))throw ih(),Error(r(418));for(;i;)th(t,i),i=bn(i.nextSibling)}if(rh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(i===0){Lt=bn(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}t=t.nextSibling}Lt=null}}else Lt=Dt?bn(t.stateNode.nextSibling):null;return!0}function ih(){for(var t=Lt;t;)t=bn(t.nextSibling)}function qr(){Lt=Dt=null,De=!1}function Ga(t){Kt===null?Kt=[t]:Kt.push(t)}var Iv=W.ReactCurrentBatchConfig;function qi(t,i,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var u=o.stateNode}if(!u)throw Error(r(147,t));var d=u,f=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(g){var E=d.refs;g===null?delete E[f]:E[f]=g},i._stringRef=f,i)}if(typeof t!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,t))}return t}function Co(t,i){throw t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function sh(t){var i=t._init;return i(t._payload)}function oh(t){function i(P,N){if(t){var A=P.deletions;A===null?(P.deletions=[N],P.flags|=16):A.push(N)}}function o(P,N){if(!t)return null;for(;N!==null;)i(P,N),N=N.sibling;return null}function u(P,N){for(P=new Map;N!==null;)N.key!==null?P.set(N.key,N):P.set(N.index,N),N=N.sibling;return P}function d(P,N){return P=Vn(P,N),P.index=0,P.sibling=null,P}function f(P,N,A){return P.index=A,t?(A=P.alternate,A!==null?(A=A.index,A<N?(P.flags|=2,N):A):(P.flags|=2,N)):(P.flags|=1048576,N)}function g(P){return t&&P.alternate===null&&(P.flags|=2),P}function E(P,N,A,V){return N===null||N.tag!==6?(N=zu(A,P.mode,V),N.return=P,N):(N=d(N,A),N.return=P,N)}function x(P,N,A,V){var ne=A.type;return ne===b?B(P,N,A.props.children,V,A.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Et&&sh(ne)===N.type)?(V=d(N,A.props),V.ref=qi(P,N,A),V.return=P,V):(V=Vo(A.type,A.key,A.props,null,P.mode,V),V.ref=qi(P,N,A),V.return=P,V)}function O(P,N,A,V){return N===null||N.tag!==4||N.stateNode.containerInfo!==A.containerInfo||N.stateNode.implementation!==A.implementation?(N=Uu(A,P.mode,V),N.return=P,N):(N=d(N,A.children||[]),N.return=P,N)}function B(P,N,A,V,ne){return N===null||N.tag!==7?(N=mr(A,P.mode,V,ne),N.return=P,N):(N=d(N,A),N.return=P,N)}function q(P,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return N=zu(""+N,P.mode,A),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return A=Vo(N.type,N.key,N.props,null,P.mode,A),A.ref=qi(P,null,N),A.return=P,A;case K:return N=Uu(N,P.mode,A),N.return=P,N;case Et:var V=N._init;return q(P,V(N._payload),A)}if(_i(N)||oe(N))return N=mr(N,P.mode,A,null),N.return=P,N;Co(P,N)}return null}function z(P,N,A,V){var ne=N!==null?N.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ne!==null?null:E(P,N,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case G:return A.key===ne?x(P,N,A,V):null;case K:return A.key===ne?O(P,N,A,V):null;case Et:return ne=A._init,z(P,N,ne(A._payload),V)}if(_i(A)||oe(A))return ne!==null?null:B(P,N,A,V,null);Co(P,A)}return null}function J(P,N,A,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number")return P=P.get(A)||null,E(N,P,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case G:return P=P.get(V.key===null?A:V.key)||null,x(N,P,V,ne);case K:return P=P.get(V.key===null?A:V.key)||null,O(N,P,V,ne);case Et:var ie=V._init;return J(P,N,A,ie(V._payload),ne)}if(_i(V)||oe(V))return P=P.get(A)||null,B(N,P,V,ne,null);Co(N,V)}return null}function ee(P,N,A,V){for(var ne=null,ie=null,se=N,ae=N=0,et=null;se!==null&&ae<A.length;ae++){se.index>ae?(et=se,se=null):et=se.sibling;var we=z(P,se,A[ae],V);if(we===null){se===null&&(se=et);break}t&&se&&we.alternate===null&&i(P,se),N=f(we,N,ae),ie===null?ne=we:ie.sibling=we,ie=we,se=et}if(ae===A.length)return o(P,se),De&&lr(P,ae),ne;if(se===null){for(;ae<A.length;ae++)se=q(P,A[ae],V),se!==null&&(N=f(se,N,ae),ie===null?ne=se:ie.sibling=se,ie=se);return De&&lr(P,ae),ne}for(se=u(P,se);ae<A.length;ae++)et=J(se,P,ae,A[ae],V),et!==null&&(t&&et.alternate!==null&&se.delete(et.key===null?ae:et.key),N=f(et,N,ae),ie===null?ne=et:ie.sibling=et,ie=et);return t&&se.forEach(function(Qn){return i(P,Qn)}),De&&lr(P,ae),ne}function te(P,N,A,V){var ne=oe(A);if(typeof ne!="function")throw Error(r(150));if(A=ne.call(A),A==null)throw Error(r(151));for(var ie=ne=null,se=N,ae=N=0,et=null,we=A.next();se!==null&&!we.done;ae++,we=A.next()){se.index>ae?(et=se,se=null):et=se.sibling;var Qn=z(P,se,we.value,V);if(Qn===null){se===null&&(se=et);break}t&&se&&Qn.alternate===null&&i(P,se),N=f(Qn,N,ae),ie===null?ne=Qn:ie.sibling=Qn,ie=Qn,se=et}if(we.done)return o(P,se),De&&lr(P,ae),ne;if(se===null){for(;!we.done;ae++,we=A.next())we=q(P,we.value,V),we!==null&&(N=f(we,N,ae),ie===null?ne=we:ie.sibling=we,ie=we);return De&&lr(P,ae),ne}for(se=u(P,se);!we.done;ae++,we=A.next())we=J(se,P,ae,we.value,V),we!==null&&(t&&we.alternate!==null&&se.delete(we.key===null?ae:we.key),N=f(we,N,ae),ie===null?ne=we:ie.sibling=we,ie=we);return t&&se.forEach(function(aw){return i(P,aw)}),De&&lr(P,ae),ne}function qe(P,N,A,V){if(typeof A=="object"&&A!==null&&A.type===b&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case G:e:{for(var ne=A.key,ie=N;ie!==null;){if(ie.key===ne){if(ne=A.type,ne===b){if(ie.tag===7){o(P,ie.sibling),N=d(ie,A.props.children),N.return=P,P=N;break e}}else if(ie.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Et&&sh(ne)===ie.type){o(P,ie.sibling),N=d(ie,A.props),N.ref=qi(P,ie,A),N.return=P,P=N;break e}o(P,ie);break}else i(P,ie);ie=ie.sibling}A.type===b?(N=mr(A.props.children,P.mode,V,A.key),N.return=P,P=N):(V=Vo(A.type,A.key,A.props,null,P.mode,V),V.ref=qi(P,N,A),V.return=P,P=V)}return g(P);case K:e:{for(ie=A.key;N!==null;){if(N.key===ie)if(N.tag===4&&N.stateNode.containerInfo===A.containerInfo&&N.stateNode.implementation===A.implementation){o(P,N.sibling),N=d(N,A.children||[]),N.return=P,P=N;break e}else{o(P,N);break}else i(P,N);N=N.sibling}N=Uu(A,P.mode,V),N.return=P,P=N}return g(P);case Et:return ie=A._init,qe(P,N,ie(A._payload),V)}if(_i(A))return ee(P,N,A,V);if(oe(A))return te(P,N,A,V);Co(P,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,N!==null&&N.tag===6?(o(P,N.sibling),N=d(N,A),N.return=P,P=N):(o(P,N),N=zu(A,P.mode,V),N.return=P,P=N),g(P)):o(P,N)}return qe}var Wr=oh(!0),lh=oh(!1),So=Mn(null),xo=null,Hr=null,Ka=null;function Ya(){Ka=Hr=xo=null}function Ja(t){var i=So.current;Ae(So),t._currentValue=i}function Xa(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function Vr(t,i){xo=t,Ka=Hr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(xt=!0),t.firstContext=null)}function Bt(t){var i=t._currentValue;if(Ka!==t)if(t={context:t,memoizedValue:i,next:null},Hr===null){if(xo===null)throw Error(r(308));Hr=t,xo.dependencies={lanes:0,firstContext:t}}else Hr=Hr.next=t;return i}var ar=null;function Za(t){ar===null?ar=[t]:ar.push(t)}function ah(t,i,o,u){var d=i.interleaved;return d===null?(o.next=o,Za(i)):(o.next=d.next,d.next=o),i.interleaved=o,_n(t,u)}function _n(t,i){t.lanes|=i;var o=t.alternate;for(o!==null&&(o.lanes|=i),o=t,t=t.return;t!==null;)t.childLanes|=i,o=t.alternate,o!==null&&(o.childLanes|=i),o=t,t=t.return;return o.tag===3?o.stateNode:null}var zn=!1;function eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vn(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Un(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,ye&2){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,_n(t,o)}return d=u.interleaved,d===null?(i.next=i,Za(u)):(i.next=d.next,d.next=i),u.interleaved=i,_n(t,o)}function No(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,pa(t,o)}}function ch(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var g={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=g:f=f.next=g,o=o.next}while(o!==null);f===null?d=f=i:f=f.next=i}else d=f=i;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}function ko(t,i,o,u){var d=t.updateQueue;zn=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var x=E,O=x.next;x.next=null,g===null?f=O:g.next=O,g=x;var B=t.alternate;B!==null&&(B=B.updateQueue,E=B.lastBaseUpdate,E!==g&&(E===null?B.firstBaseUpdate=O:E.next=O,B.lastBaseUpdate=x))}if(f!==null){var q=d.baseState;g=0,B=O=x=null,E=f;do{var z=E.lane,J=E.eventTime;if((u&z)===z){B!==null&&(B=B.next={eventTime:J,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ee=t,te=E;switch(z=i,J=o,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){q=ee.call(J,q,z);break e}q=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,z=typeof ee=="function"?ee.call(J,q,z):ee,z==null)break e;q=Z({},q,z);break e;case 2:zn=!0}}E.callback!==null&&E.lane!==0&&(t.flags|=64,z=d.effects,z===null?d.effects=[E]:z.push(E))}else J={eventTime:J,lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},B===null?(O=B=J,x=q):B=B.next=J,g|=z;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;z=E,E=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);if(B===null&&(x=q),d.baseState=x,d.firstBaseUpdate=O,d.lastBaseUpdate=B,i=d.shared.interleaved,i!==null){d=i;do g|=d.lane,d=d.next;while(d!==i)}else f===null&&(d.shared.lanes=0);dr|=g,t.lanes=g,t.memoizedState=q}}function dh(t,i,o){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var u=t[i],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(r(191,d));d.call(u)}}}var Wi={},ln=Mn(Wi),Hi=Mn(Wi),Vi=Mn(Wi);function ur(t){if(t===Wi)throw Error(r(174));return t}function tu(t,i){switch(ke(Vi,i),ke(Hi,t),ke(ln,Wi),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:na(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=na(i,t)}Ae(ln),ke(ln,i)}function Qr(){Ae(ln),Ae(Hi),Ae(Vi)}function fh(t){ur(Vi.current);var i=ur(ln.current),o=na(i,t.type);i!==o&&(ke(Hi,t),ke(ln,o))}function nu(t){Hi.current===t&&(Ae(ln),Ae(Hi))}var Le=Mn(0);function Ro(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ru=[];function iu(){for(var t=0;t<ru.length;t++)ru[t]._workInProgressVersionPrimary=null;ru.length=0}var To=W.ReactCurrentDispatcher,su=W.ReactCurrentBatchConfig,cr=0,be=null,Qe=null,Xe=null,Io=!1,Qi=!1,Gi=0,Pv=0;function ct(){throw Error(r(321))}function ou(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Gt(t[o],i[o]))return!1;return!0}function lu(t,i,o,u,d,f){if(cr=f,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,To.current=t===null||t.memoizedState===null?Lv:bv,t=o(u,d),Qi){f=0;do{if(Qi=!1,Gi=0,25<=f)throw Error(r(301));f+=1,Xe=Qe=null,i.updateQueue=null,To.current=Mv,t=o(u,d)}while(Qi)}if(To.current=Oo,i=Qe!==null&&Qe.next!==null,cr=0,Xe=Qe=be=null,Io=!1,i)throw Error(r(300));return t}function au(){var t=Gi!==0;return Gi=0,t}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?be.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function $t(){if(Qe===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=Xe===null?be.memoizedState:Xe.next;if(i!==null)Xe=i,Qe=t;else{if(t===null)throw Error(r(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Xe===null?be.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function Ki(t,i){return typeof i=="function"?i(t):i}function uu(t){var i=$t(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=Qe,d=u.baseQueue,f=o.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}u.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,u=u.baseState;var E=g=null,x=null,O=f;do{var B=O.lane;if((cr&B)===B)x!==null&&(x=x.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),u=O.hasEagerState?O.eagerState:t(u,O.action);else{var q={lane:B,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};x===null?(E=x=q,g=u):x=x.next=q,be.lanes|=B,dr|=B}O=O.next}while(O!==null&&O!==f);x===null?g=u:x.next=E,Gt(u,i.memoizedState)||(xt=!0),i.memoizedState=u,i.baseState=g,i.baseQueue=x,o.lastRenderedState=u}if(t=o.interleaved,t!==null){d=t;do f=d.lane,be.lanes|=f,dr|=f,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function cu(t){var i=$t(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,f=i.memoizedState;if(d!==null){o.pending=null;var g=d=d.next;do f=t(f,g.action),g=g.next;while(g!==d);Gt(f,i.memoizedState)||(xt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),o.lastRenderedState=f}return[f,u]}function hh(){}function ph(t,i){var o=be,u=$t(),d=i(),f=!Gt(u.memoizedState,d);if(f&&(u.memoizedState=d,xt=!0),u=u.queue,du(yh.bind(null,o,u,t),[t]),u.getSnapshot!==i||f||Xe!==null&&Xe.memoizedState.tag&1){if(o.flags|=2048,Yi(9,gh.bind(null,o,u,d,i),void 0,null),Ze===null)throw Error(r(349));cr&30||mh(o,i,d)}return d}function mh(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=be.updateQueue,i===null?(i={lastEffect:null,stores:null},be.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function gh(t,i,o,u){i.value=o,i.getSnapshot=u,_h(i)&&vh(t)}function yh(t,i,o){return o(function(){_h(i)&&vh(t)})}function _h(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Gt(t,o)}catch{return!0}}function vh(t){var i=_n(t,1);i!==null&&Zt(i,t,1,-1)}function wh(t){var i=an();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i.queue=t,t=t.dispatch=Dv.bind(null,be,t),[i.memoizedState,t]}function Yi(t,i,o,u){return t={tag:t,create:i,destroy:o,deps:u,next:null},i=be.updateQueue,i===null?(i={lastEffect:null,stores:null},be.updateQueue=i,i.lastEffect=t.next=t):(o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t)),t}function Eh(){return $t().memoizedState}function Po(t,i,o,u){var d=an();be.flags|=t,d.memoizedState=Yi(1|i,o,void 0,u===void 0?null:u)}function Ao(t,i,o,u){var d=$t();u=u===void 0?null:u;var f=void 0;if(Qe!==null){var g=Qe.memoizedState;if(f=g.destroy,u!==null&&ou(u,g.deps)){d.memoizedState=Yi(i,o,f,u);return}}be.flags|=t,d.memoizedState=Yi(1|i,o,f,u)}function Ch(t,i){return Po(8390656,8,t,i)}function du(t,i){return Ao(2048,8,t,i)}function Sh(t,i){return Ao(4,2,t,i)}function xh(t,i){return Ao(4,4,t,i)}function Nh(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function kh(t,i,o){return o=o!=null?o.concat([t]):null,Ao(4,4,Nh.bind(null,i,t),o)}function fu(){}function Rh(t,i){var o=$t();i=i===void 0?null:i;var u=o.memoizedState;return u!==null&&i!==null&&ou(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function Th(t,i){var o=$t();i=i===void 0?null:i;var u=o.memoizedState;return u!==null&&i!==null&&ou(i,u[1])?u[0]:(t=t(),o.memoizedState=[t,i],t)}function Ih(t,i,o){return cr&21?(Gt(o,i)||(o=sf(),be.lanes|=o,dr|=o,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=o)}function Av(t,i){var o=Se;Se=o!==0&&4>o?o:4,t(!0);var u=su.transition;su.transition={};try{t(!1),i()}finally{Se=o,su.transition=u}}function Ph(){return $t().memoizedState}function Ov(t,i,o){var u=Wn(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(t))Oh(i,o);else if(o=ah(t,i,o,u),o!==null){var d=gt();Zt(o,t,u,d),Dh(o,i,u)}}function Dv(t,i,o){var u=Wn(t),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(t))Oh(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,E=f(g,o);if(d.hasEagerState=!0,d.eagerState=E,Gt(E,g)){var x=i.interleaved;x===null?(d.next=d,Za(i)):(d.next=x.next,x.next=d),i.interleaved=d;return}}catch{}finally{}o=ah(t,i,d,u),o!==null&&(d=gt(),Zt(o,t,u,d),Dh(o,i,u))}}function Ah(t){var i=t.alternate;return t===be||i!==null&&i===be}function Oh(t,i){Qi=Io=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Dh(t,i,o){if(o&4194240){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,pa(t,o)}}var Oo={readContext:Bt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},Lv={readContext:Bt,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Bt,useEffect:Ch,useImperativeHandle:function(t,i,o){return o=o!=null?o.concat([t]):null,Po(4194308,4,Nh.bind(null,i,t),o)},useLayoutEffect:function(t,i){return Po(4194308,4,t,i)},useInsertionEffect:function(t,i){return Po(4,2,t,i)},useMemo:function(t,i){var o=an();return i=i===void 0?null:i,t=t(),o.memoizedState=[t,i],t},useReducer:function(t,i,o){var u=an();return i=o!==void 0?o(i):i,u.memoizedState=u.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},u.queue=t,t=t.dispatch=Ov.bind(null,be,t),[u.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:wh,useDebugValue:fu,useDeferredValue:function(t){return an().memoizedState=t},useTransition:function(){var t=wh(!1),i=t[0];return t=Av.bind(null,t[1]),an().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,o){var u=be,d=an();if(De){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),Ze===null)throw Error(r(349));cr&30||mh(u,i,o)}d.memoizedState=o;var f={value:o,getSnapshot:i};return d.queue=f,Ch(yh.bind(null,u,f,t),[t]),u.flags|=2048,Yi(9,gh.bind(null,u,f,o,i),void 0,null),o},useId:function(){var t=an(),i=Ze.identifierPrefix;if(De){var o=yn,u=gn;o=(u&~(1<<32-Qt(u)-1)).toString(32)+o,i=":"+i+"R"+o,o=Gi++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=Pv++,i=":"+i+"r"+o.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},bv={readContext:Bt,useCallback:Rh,useContext:Bt,useEffect:du,useImperativeHandle:kh,useInsertionEffect:Sh,useLayoutEffect:xh,useMemo:Th,useReducer:uu,useRef:Eh,useState:function(){return uu(Ki)},useDebugValue:fu,useDeferredValue:function(t){var i=$t();return Ih(i,Qe.memoizedState,t)},useTransition:function(){var t=uu(Ki)[0],i=$t().memoizedState;return[t,i]},useMutableSource:hh,useSyncExternalStore:ph,useId:Ph,unstable_isNewReconciler:!1},Mv={readContext:Bt,useCallback:Rh,useContext:Bt,useEffect:du,useImperativeHandle:kh,useInsertionEffect:Sh,useLayoutEffect:xh,useMemo:Th,useReducer:cu,useRef:Eh,useState:function(){return cu(Ki)},useDebugValue:fu,useDeferredValue:function(t){var i=$t();return Qe===null?i.memoizedState=t:Ih(i,Qe.memoizedState,t)},useTransition:function(){var t=cu(Ki)[0],i=$t().memoizedState;return[t,i]},useMutableSource:hh,useSyncExternalStore:ph,useId:Ph,unstable_isNewReconciler:!1};function Yt(t,i){if(t&&t.defaultProps){i=Z({},i),t=t.defaultProps;for(var o in t)i[o]===void 0&&(i[o]=t[o]);return i}return i}function hu(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:Z({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Do={isMounted:function(t){return(t=t._reactInternals)?rr(t)===t:!1},enqueueSetState:function(t,i,o){t=t._reactInternals;var u=gt(),d=Wn(t),f=vn(u,d);f.payload=i,o!=null&&(f.callback=o),i=Un(t,f,d),i!==null&&(Zt(i,t,d,u),No(i,t,d))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=gt(),d=Wn(t),f=vn(u,d);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Un(t,f,d),i!==null&&(Zt(i,t,d,u),No(i,t,d))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=gt(),u=Wn(t),d=vn(o,u);d.tag=2,i!=null&&(d.callback=i),i=Un(t,d,u),i!==null&&(Zt(i,t,u,o),No(i,t,u))}};function Lh(t,i,o,u,d,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,f,g):i.prototype&&i.prototype.isPureReactComponent?!Mi(o,u)||!Mi(d,f):!0}function bh(t,i,o){var u=!1,d=Fn,f=i.contextType;return typeof f=="object"&&f!==null?f=Bt(f):(d=St(i)?sr:ut.current,u=i.contextTypes,f=(u=u!=null)?Ur(t,d):Fn),i=new i(o,f),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Do,t.stateNode=i,i._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=f),i}function Mh(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&Do.enqueueReplaceState(i,i.state,null)}function pu(t,i,o,u){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},eu(t);var f=i.contextType;typeof f=="object"&&f!==null?d.context=Bt(f):(f=St(i)?sr:ut.current,d.context=Ur(t,f)),d.state=t.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(hu(t,i,f,o),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Do.enqueueReplaceState(d,d.state,null),ko(t,o,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Gr(t,i){try{var o="",u=i;do o+=_e(u),u=u.return;while(u);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:i,stack:d,digest:null}}function mu(t,i,o){return{value:t,source:null,stack:o??null,digest:i??null}}function gu(t,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Fv=typeof WeakMap=="function"?WeakMap:Map;function Fh(t,i,o){o=vn(-1,o),o.tag=3,o.payload={element:null};var u=i.value;return o.callback=function(){Uo||(Uo=!0,Au=u),gu(t,i)},o}function jh(t,i,o){o=vn(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=i.value;o.payload=function(){return u(d)},o.callback=function(){gu(t,i)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){gu(t,i),typeof u!="function"&&($n===null?$n=new Set([this]):$n.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),o}function zh(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Fv;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(o)||(d.add(o),t=Jv.bind(null,t,i,o),i.then(t,t))}function Uh(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Bh(t,i,o,u,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===i?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=vn(-1,1),i.tag=2,Un(o,i,1))),o.lanes|=1),t)}var jv=W.ReactCurrentOwner,xt=!1;function mt(t,i,o,u){i.child=t===null?lh(i,null,o,u):Wr(i,t.child,o,u)}function $h(t,i,o,u,d){o=o.render;var f=i.ref;return Vr(i,d),u=lu(t,i,o,u,f,d),o=au(),t!==null&&!xt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,wn(t,i,d)):(De&&o&&Wa(i),i.flags|=1,mt(t,i,u,d),i.child)}function qh(t,i,o,u,d){if(t===null){var f=o.type;return typeof f=="function"&&!ju(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=f,Wh(t,i,f,u,d)):(t=Vo(o.type,null,u,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!(t.lanes&d)){var g=f.memoizedProps;if(o=o.compare,o=o!==null?o:Mi,o(g,u)&&t.ref===i.ref)return wn(t,i,d)}return i.flags|=1,t=Vn(f,u),t.ref=i.ref,t.return=i,i.child=t}function Wh(t,i,o,u,d){if(t!==null){var f=t.memoizedProps;if(Mi(f,u)&&t.ref===i.ref)if(xt=!1,i.pendingProps=u=f,(t.lanes&d)!==0)t.flags&131072&&(xt=!0);else return i.lanes=t.lanes,wn(t,i,d)}return yu(t,i,o,u,d)}function Hh(t,i,o){var u=i.pendingProps,d=u.children,f=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Yr,bt),bt|=o;else{if(!(o&1073741824))return t=f!==null?f.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,ke(Yr,bt),bt|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:o,ke(Yr,bt),bt|=u}else f!==null?(u=f.baseLanes|o,i.memoizedState=null):u=o,ke(Yr,bt),bt|=u;return mt(t,i,d,o),i.child}function Vh(t,i){var o=i.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function yu(t,i,o,u,d){var f=St(o)?sr:ut.current;return f=Ur(i,f),Vr(i,d),o=lu(t,i,o,u,f,d),u=au(),t!==null&&!xt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,wn(t,i,d)):(De&&u&&Wa(i),i.flags|=1,mt(t,i,o,d),i.child)}function Qh(t,i,o,u,d){if(St(o)){var f=!0;yo(i)}else f=!1;if(Vr(i,d),i.stateNode===null)bo(t,i),bh(i,o,u),pu(i,o,u,d),u=!0;else if(t===null){var g=i.stateNode,E=i.memoizedProps;g.props=E;var x=g.context,O=o.contextType;typeof O=="object"&&O!==null?O=Bt(O):(O=St(o)?sr:ut.current,O=Ur(i,O));var B=o.getDerivedStateFromProps,q=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function";q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==u||x!==O)&&Mh(i,g,u,O),zn=!1;var z=i.memoizedState;g.state=z,ko(i,u,g,d),x=i.memoizedState,E!==u||z!==x||Ct.current||zn?(typeof B=="function"&&(hu(i,o,B,u),x=i.memoizedState),(E=zn||Lh(i,o,E,u,z,x,O))?(q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=x),g.props=u,g.state=x,g.context=O,u=E):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,uh(t,i),E=i.memoizedProps,O=i.type===i.elementType?E:Yt(i.type,E),g.props=O,q=i.pendingProps,z=g.context,x=o.contextType,typeof x=="object"&&x!==null?x=Bt(x):(x=St(o)?sr:ut.current,x=Ur(i,x));var J=o.getDerivedStateFromProps;(B=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==q||z!==x)&&Mh(i,g,u,x),zn=!1,z=i.memoizedState,g.state=z,ko(i,u,g,d);var ee=i.memoizedState;E!==q||z!==ee||Ct.current||zn?(typeof J=="function"&&(hu(i,o,J,u),ee=i.memoizedState),(O=zn||Lh(i,o,O,u,z,ee,x)||!1)?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,x),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,x)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ee),g.props=u,g.state=ee,g.context=x,u=O):(typeof g.componentDidUpdate!="function"||E===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),u=!1)}return _u(t,i,o,u,f,d)}function _u(t,i,o,u,d,f){Vh(t,i);var g=(i.flags&128)!==0;if(!u&&!g)return d&&Xf(i,o,!1),wn(t,i,f);u=i.stateNode,jv.current=i;var E=g&&typeof o.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,t!==null&&g?(i.child=Wr(i,t.child,null,f),i.child=Wr(i,null,E,f)):mt(t,i,E,f),i.memoizedState=u.state,d&&Xf(i,o,!0),i.child}function Gh(t){var i=t.stateNode;i.pendingContext?Yf(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Yf(t,i.context,!1),tu(t,i.containerInfo)}function Kh(t,i,o,u,d){return qr(),Ga(d),i.flags|=256,mt(t,i,o,u),i.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function wu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yh(t,i,o){var u=i.pendingProps,d=Le.current,f=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=t!==null&&t.memoizedState===null?!1:(d&2)!==0),E?(f=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),ke(Le,d&1),t===null)return Qa(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(g=u.children,t=u.fallback,f?(u=i.mode,f=i.child,g={mode:"hidden",children:g},!(u&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Qo(g,u,0,null),t=mr(t,u,o,null),f.return=i,t.return=i,f.sibling=t,i.child=f,i.child.memoizedState=wu(o),i.memoizedState=vu,t):Eu(i,g));if(d=t.memoizedState,d!==null&&(E=d.dehydrated,E!==null))return zv(t,i,g,u,E,d,o);if(f){f=u.fallback,g=i.mode,d=t.child,E=d.sibling;var x={mode:"hidden",children:u.children};return!(g&1)&&i.child!==d?(u=i.child,u.childLanes=0,u.pendingProps=x,i.deletions=null):(u=Vn(d,x),u.subtreeFlags=d.subtreeFlags&14680064),E!==null?f=Vn(E,f):(f=mr(f,g,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,g=t.child.memoizedState,g=g===null?wu(o):{baseLanes:g.baseLanes|o,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=t.childLanes&~o,i.memoizedState=vu,u}return f=t.child,t=f.sibling,u=Vn(f,{mode:"visible",children:u.children}),!(i.mode&1)&&(u.lanes=o),u.return=i,u.sibling=null,t!==null&&(o=i.deletions,o===null?(i.deletions=[t],i.flags|=16):o.push(t)),i.child=u,i.memoizedState=null,u}function Eu(t,i){return i=Qo({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Lo(t,i,o,u){return u!==null&&Ga(u),Wr(i,t.child,null,o),t=Eu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function zv(t,i,o,u,d,f,g){if(o)return i.flags&256?(i.flags&=-257,u=mu(Error(r(422))),Lo(t,i,g,u)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(f=u.fallback,d=i.mode,u=Qo({mode:"visible",children:u.children},d,0,null),f=mr(f,d,g,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,i.mode&1&&Wr(i,t.child,null,g),i.child.memoizedState=wu(g),i.memoizedState=vu,f);if(!(i.mode&1))return Lo(t,i,g,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var E=u.dgst;return u=E,f=Error(r(419)),u=mu(f,u,void 0),Lo(t,i,g,u)}if(E=(g&t.childLanes)!==0,xt||E){if(u=Ze,u!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(u.suspendedLanes|g)?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,_n(t,d),Zt(u,t,d,-1))}return Fu(),u=mu(Error(r(421))),Lo(t,i,g,u)}return d.data==="$?"?(i.flags|=128,i.child=t.child,i=Xv.bind(null,t),d._reactRetry=i,null):(t=f.treeContext,Lt=bn(d.nextSibling),Dt=i,De=!0,Kt=null,t!==null&&(zt[Ut++]=gn,zt[Ut++]=yn,zt[Ut++]=or,gn=t.id,yn=t.overflow,or=i),i=Eu(i,u.children),i.flags|=4096,i)}function Jh(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),Xa(t.return,i,o)}function Cu(t,i,o,u,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=d)}function Xh(t,i,o){var u=i.pendingProps,d=u.revealOrder,f=u.tail;if(mt(t,i,u.children,o),u=Le.current,u&2)u=u&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jh(t,o,i);else if(t.tag===19)Jh(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(ke(Le,u),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(o=i.child,d=null;o!==null;)t=o.alternate,t!==null&&Ro(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Cu(i,!1,d,o,f);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Ro(t)===null){i.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Cu(i,!0,o,null,f);break;case"together":Cu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bo(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function wn(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),dr|=i.lanes,!(o&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,o=Vn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Vn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Uv(t,i,o){switch(i.tag){case 3:Gh(i),qr();break;case 5:fh(i);break;case 1:St(i.type)&&yo(i);break;case 4:tu(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,d=i.memoizedProps.value;ke(So,u._currentValue),u._currentValue=d;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(ke(Le,Le.current&1),i.flags|=128,null):o&i.child.childLanes?Yh(t,i,o):(ke(Le,Le.current&1),t=wn(t,i,o),t!==null?t.sibling:null);ke(Le,Le.current&1);break;case 19:if(u=(o&i.childLanes)!==0,t.flags&128){if(u)return Xh(t,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ke(Le,Le.current),u)break;return null;case 22:case 23:return i.lanes=0,Hh(t,i,o)}return wn(t,i,o)}var Zh,Su,ep,tp;Zh=function(t,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Su=function(){},ep=function(t,i,o,u){var d=t.memoizedProps;if(d!==u){t=i.stateNode,ur(ln.current);var f=null;switch(o){case"input":d=Xl(t,d),u=Xl(t,u),f=[];break;case"select":d=Z({},d,{value:void 0}),u=Z({},u,{value:void 0}),f=[];break;case"textarea":d=ta(t,d),u=ta(t,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=po)}ra(o,u);var g;o=null;for(O in d)if(!u.hasOwnProperty(O)&&d.hasOwnProperty(O)&&d[O]!=null)if(O==="style"){var E=d[O];for(g in E)E.hasOwnProperty(g)&&(o||(o={}),o[g]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(l.hasOwnProperty(O)?f||(f=[]):(f=f||[]).push(O,null));for(O in u){var x=u[O];if(E=d!=null?d[O]:void 0,u.hasOwnProperty(O)&&x!==E&&(x!=null||E!=null))if(O==="style")if(E){for(g in E)!E.hasOwnProperty(g)||x&&x.hasOwnProperty(g)||(o||(o={}),o[g]="");for(g in x)x.hasOwnProperty(g)&&E[g]!==x[g]&&(o||(o={}),o[g]=x[g])}else o||(f||(f=[]),f.push(O,o)),o=x;else O==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,E=E?E.__html:void 0,x!=null&&E!==x&&(f=f||[]).push(O,x)):O==="children"?typeof x!="string"&&typeof x!="number"||(f=f||[]).push(O,""+x):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(l.hasOwnProperty(O)?(x!=null&&O==="onScroll"&&Pe("scroll",t),f||E===x||(f=[])):(f=f||[]).push(O,x))}o&&(f=f||[]).push("style",o);var O=f;(i.updateQueue=O)&&(i.flags|=4)}},tp=function(t,i,o,u){o!==u&&(i.flags|=4)};function Ji(t,i){if(!De)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function Bv(t,i,o){var u=i.pendingProps;switch(Ha(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return St(i.type)&&go(),dt(i),null;case 3:return u=i.stateNode,Qr(),Ae(Ct),Ae(ut),iu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Eo(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Kt!==null&&(Lu(Kt),Kt=null))),Su(t,i),dt(i),null;case 5:nu(i);var d=ur(Vi.current);if(o=i.type,t!==null&&i.stateNode!=null)ep(t,i,o,u,d),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(r(166));return dt(i),null}if(t=ur(ln.current),Eo(i)){u=i.stateNode,o=i.type;var f=i.memoizedProps;switch(u[on]=i,u[Bi]=f,t=(i.mode&1)!==0,o){case"dialog":Pe("cancel",u),Pe("close",u);break;case"iframe":case"object":case"embed":Pe("load",u);break;case"video":case"audio":for(d=0;d<ji.length;d++)Pe(ji[d],u);break;case"source":Pe("error",u);break;case"img":case"image":case"link":Pe("error",u),Pe("load",u);break;case"details":Pe("toggle",u);break;case"input":Ld(u,f),Pe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Pe("invalid",u);break;case"textarea":Fd(u,f),Pe("invalid",u)}ra(o,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var E=f[g];g==="children"?typeof E=="string"?u.textContent!==E&&(f.suppressHydrationWarning!==!0&&ho(u.textContent,E,t),d=["children",E]):typeof E=="number"&&u.textContent!==""+E&&(f.suppressHydrationWarning!==!0&&ho(u.textContent,E,t),d=["children",""+E]):l.hasOwnProperty(g)&&E!=null&&g==="onScroll"&&Pe("scroll",u)}switch(o){case"input":qs(u),Md(u,f,!0);break;case"textarea":qs(u),zd(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=po)}u=d,i.updateQueue=u,u!==null&&(i.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ud(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=g.createElement(o,{is:u.is}):(t=g.createElement(o),o==="select"&&(g=t,u.multiple?g.multiple=!0:u.size&&(g.size=u.size))):t=g.createElementNS(t,o),t[on]=i,t[Bi]=u,Zh(t,i,!1,!1),i.stateNode=t;e:{switch(g=ia(o,u),o){case"dialog":Pe("cancel",t),Pe("close",t),d=u;break;case"iframe":case"object":case"embed":Pe("load",t),d=u;break;case"video":case"audio":for(d=0;d<ji.length;d++)Pe(ji[d],t);d=u;break;case"source":Pe("error",t),d=u;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),d=u;break;case"details":Pe("toggle",t),d=u;break;case"input":Ld(t,u),d=Xl(t,u),Pe("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=Z({},u,{value:void 0}),Pe("invalid",t);break;case"textarea":Fd(t,u),d=ta(t,u),Pe("invalid",t);break;default:d=u}ra(o,d),E=d;for(f in E)if(E.hasOwnProperty(f)){var x=E[f];f==="style"?qd(t,x):f==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Bd(t,x)):f==="children"?typeof x=="string"?(o!=="textarea"||x!=="")&&vi(t,x):typeof x=="number"&&vi(t,""+x):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?x!=null&&f==="onScroll"&&Pe("scroll",t):x!=null&&H(t,f,x,g))}switch(o){case"input":qs(t),Md(t,u,!1);break;case"textarea":qs(t),zd(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Ce(u.value));break;case"select":t.multiple=!!u.multiple,f=u.value,f!=null?Tr(t,!!u.multiple,f,!1):u.defaultValue!=null&&Tr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=po)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return dt(i),null;case 6:if(t&&i.stateNode!=null)tp(t,i,t.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(o=ur(Vi.current),ur(ln.current),Eo(i)){if(u=i.stateNode,o=i.memoizedProps,u[on]=i,(f=u.nodeValue!==o)&&(t=Dt,t!==null))switch(t.tag){case 3:ho(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ho(u.nodeValue,o,(t.mode&1)!==0)}f&&(i.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[on]=i,i.stateNode=u}return dt(i),null;case 13:if(Ae(Le),u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Lt!==null&&i.mode&1&&!(i.flags&128))ih(),qr(),i.flags|=98560,f=!1;else if(f=Eo(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[on]=i}else qr(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;dt(i),f=!1}else Kt!==null&&(Lu(Kt),Kt=null),f=!0;if(!f)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(i.child.flags|=8192,i.mode&1&&(t===null||Le.current&1?Ge===0&&(Ge=3):Fu())),i.updateQueue!==null&&(i.flags|=4),dt(i),null);case 4:return Qr(),Su(t,i),t===null&&zi(i.stateNode.containerInfo),dt(i),null;case 10:return Ja(i.type._context),dt(i),null;case 17:return St(i.type)&&go(),dt(i),null;case 19:if(Ae(Le),f=i.memoizedState,f===null)return dt(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)Ji(f,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(g=Ro(t),g!==null){for(i.flags|=128,Ji(f,!1),u=g.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=o,o=i.child;o!==null;)f=o,t=u,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,t=g.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ke(Le,Le.current&1|2),i.child}t=t.sibling}f.tail!==null&&$e()>Jr&&(i.flags|=128,u=!0,Ji(f,!1),i.lanes=4194304)}else{if(!u)if(t=Ro(g),t!==null){if(i.flags|=128,u=!0,o=t.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Ji(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!De)return dt(i),null}else 2*$e()-f.renderingStartTime>Jr&&o!==1073741824&&(i.flags|=128,u=!0,Ji(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(o=f.last,o!==null?o.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=$e(),i.sibling=null,o=Le.current,ke(Le,u?o&1|2:o&1),i):(dt(i),null);case 22:case 23:return Mu(),u=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(i.flags|=8192),u&&i.mode&1?bt&1073741824&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function $v(t,i){switch(Ha(i),i.tag){case 1:return St(i.type)&&go(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qr(),Ae(Ct),Ae(ut),iu(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return nu(i),null;case 13:if(Ae(Le),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));qr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ae(Le),null;case 4:return Qr(),null;case 10:return Ja(i.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var Mo=!1,ft=!1,qv=typeof WeakSet=="function"?WeakSet:Set,X=null;function Kr(t,i){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){ze(t,i,u)}else o.current=null}function xu(t,i,o){try{o()}catch(u){ze(t,i,u)}}var np=!1;function Wv(t,i){if(Ma=to,t=Lf(),Ta(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var g=0,E=-1,x=-1,O=0,B=0,q=t,z=null;t:for(;;){for(var J;q!==o||d!==0&&q.nodeType!==3||(E=g+d),q!==f||u!==0&&q.nodeType!==3||(x=g+u),q.nodeType===3&&(g+=q.nodeValue.length),(J=q.firstChild)!==null;)z=q,q=J;for(;;){if(q===t)break t;if(z===o&&++O===d&&(E=g),z===f&&++B===u&&(x=g),(J=q.nextSibling)!==null)break;q=z,z=q.parentNode}q=J}o=E===-1||x===-1?null:{start:E,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fa={focusedElem:t,selectionRange:o},to=!1,X=i;X!==null;)if(i=X,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,X=t;else for(;X!==null;){i=X;try{var ee=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,qe=ee.memoizedState,P=i.stateNode,N=P.getSnapshotBeforeUpdate(i.elementType===i.type?te:Yt(i.type,te),qe);P.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var A=i.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(V){ze(i,i.return,V)}if(t=i.sibling,t!==null){t.return=i.return,X=t;break}X=i.return}return ee=np,np=!1,ee}function Xi(t,i,o){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var f=d.destroy;d.destroy=void 0,f!==void 0&&xu(i,o,f)}d=d.next}while(d!==u)}}function Fo(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==i)}}function Nu(t){var i=t.ref;if(i!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof i=="function"?i(t):i.current=t}}function rp(t){var i=t.alternate;i!==null&&(t.alternate=null,rp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[on],delete i[Bi],delete i[Ba],delete i[kv],delete i[Rv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ip(t){return t.tag===5||t.tag===3||t.tag===4}function sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ip(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ku(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(t,i):o.insertBefore(t,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(t,o)):(i=o,i.appendChild(t)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=po));else if(u!==4&&(t=t.child,t!==null))for(ku(t,i,o),t=t.sibling;t!==null;)ku(t,i,o),t=t.sibling}function Ru(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Ru(t,i,o),t=t.sibling;t!==null;)Ru(t,i,o),t=t.sibling}var it=null,Jt=!1;function Bn(t,i,o){for(o=o.child;o!==null;)op(t,i,o),o=o.sibling}function op(t,i,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Ks,o)}catch{}switch(o.tag){case 5:ft||Kr(o,i);case 6:var u=it,d=Jt;it=null,Bn(t,i,o),it=u,Jt=d,it!==null&&(Jt?(t=it,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):it.removeChild(o.stateNode));break;case 18:it!==null&&(Jt?(t=it,o=o.stateNode,t.nodeType===8?Ua(t.parentNode,o):t.nodeType===1&&Ua(t,o),Pi(t)):Ua(it,o.stateNode));break;case 4:u=it,d=Jt,it=o.stateNode.containerInfo,Jt=!0,Bn(t,i,o),it=u,Jt=d;break;case 0:case 11:case 14:case 15:if(!ft&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&xu(o,i,g),d=d.next}while(d!==u)}Bn(t,i,o);break;case 1:if(!ft&&(Kr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(E){ze(o,i,E)}Bn(t,i,o);break;case 21:Bn(t,i,o);break;case 22:o.mode&1?(ft=(u=ft)||o.memoizedState!==null,Bn(t,i,o),ft=u):Bn(t,i,o);break;default:Bn(t,i,o)}}function lp(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new qv),i.forEach(function(u){var d=Zv.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}}function Xt(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var f=t,g=i,E=g;e:for(;E!==null;){switch(E.tag){case 5:it=E.stateNode,Jt=!1;break e;case 3:it=E.stateNode.containerInfo,Jt=!0;break e;case 4:it=E.stateNode.containerInfo,Jt=!0;break e}E=E.return}if(it===null)throw Error(r(160));op(f,g,d),it=null,Jt=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch(O){ze(d,i,O)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ap(i,t),i=i.sibling}function ap(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(i,t),un(t),u&4){try{Xi(3,t,t.return),Fo(3,t)}catch(te){ze(t,t.return,te)}try{Xi(5,t,t.return)}catch(te){ze(t,t.return,te)}}break;case 1:Xt(i,t),un(t),u&512&&o!==null&&Kr(o,o.return);break;case 5:if(Xt(i,t),un(t),u&512&&o!==null&&Kr(o,o.return),t.flags&32){var d=t.stateNode;try{vi(d,"")}catch(te){ze(t,t.return,te)}}if(u&4&&(d=t.stateNode,d!=null)){var f=t.memoizedProps,g=o!==null?o.memoizedProps:f,E=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{E==="input"&&f.type==="radio"&&f.name!=null&&bd(d,f),ia(E,g);var O=ia(E,f);for(g=0;g<x.length;g+=2){var B=x[g],q=x[g+1];B==="style"?qd(d,q):B==="dangerouslySetInnerHTML"?Bd(d,q):B==="children"?vi(d,q):H(d,B,q,O)}switch(E){case"input":Zl(d,f);break;case"textarea":jd(d,f);break;case"select":var z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var J=f.value;J!=null?Tr(d,!!f.multiple,J,!1):z!==!!f.multiple&&(f.defaultValue!=null?Tr(d,!!f.multiple,f.defaultValue,!0):Tr(d,!!f.multiple,f.multiple?[]:"",!1))}d[Bi]=f}catch(te){ze(t,t.return,te)}}break;case 6:if(Xt(i,t),un(t),u&4){if(t.stateNode===null)throw Error(r(162));d=t.stateNode,f=t.memoizedProps;try{d.nodeValue=f}catch(te){ze(t,t.return,te)}}break;case 3:if(Xt(i,t),un(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Pi(i.containerInfo)}catch(te){ze(t,t.return,te)}break;case 4:Xt(i,t),un(t);break;case 13:Xt(i,t),un(t),d=t.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Pu=$e())),u&4&&lp(t);break;case 22:if(B=o!==null&&o.memoizedState!==null,t.mode&1?(ft=(O=ft)||B,Xt(i,t),ft=O):Xt(i,t),un(t),u&8192){if(O=t.memoizedState!==null,(t.stateNode.isHidden=O)&&!B&&t.mode&1)for(X=t,B=t.child;B!==null;){for(q=X=B;X!==null;){switch(z=X,J=z.child,z.tag){case 0:case 11:case 14:case 15:Xi(4,z,z.return);break;case 1:Kr(z,z.return);var ee=z.stateNode;if(typeof ee.componentWillUnmount=="function"){u=z,o=z.return;try{i=u,ee.props=i.memoizedProps,ee.state=i.memoizedState,ee.componentWillUnmount()}catch(te){ze(u,o,te)}}break;case 5:Kr(z,z.return);break;case 22:if(z.memoizedState!==null){dp(q);continue}}J!==null?(J.return=z,X=J):dp(q)}B=B.sibling}e:for(B=null,q=t;;){if(q.tag===5){if(B===null){B=q;try{d=q.stateNode,O?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(E=q.stateNode,x=q.memoizedProps.style,g=x!=null&&x.hasOwnProperty("display")?x.display:null,E.style.display=$d("display",g))}catch(te){ze(t,t.return,te)}}}else if(q.tag===6){if(B===null)try{q.stateNode.nodeValue=O?"":q.memoizedProps}catch(te){ze(t,t.return,te)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===t)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===t)break e;for(;q.sibling===null;){if(q.return===null||q.return===t)break e;B===q&&(B=null),q=q.return}B===q&&(B=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Xt(i,t),un(t),u&4&&lp(t);break;case 21:break;default:Xt(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{e:{for(var o=t.return;o!==null;){if(ip(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(vi(d,""),u.flags&=-33);var f=sp(t);Ru(t,f,d);break;case 3:case 4:var g=u.stateNode.containerInfo,E=sp(t);ku(t,E,g);break;default:throw Error(r(161))}}catch(x){ze(t,t.return,x)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Hv(t,i,o){X=t,up(t)}function up(t,i,o){for(var u=(t.mode&1)!==0;X!==null;){var d=X,f=d.child;if(d.tag===22&&u){var g=d.memoizedState!==null||Mo;if(!g){var E=d.alternate,x=E!==null&&E.memoizedState!==null||ft;E=Mo;var O=ft;if(Mo=g,(ft=x)&&!O)for(X=d;X!==null;)g=X,x=g.child,g.tag===22&&g.memoizedState!==null?fp(d):x!==null?(x.return=g,X=x):fp(d);for(;f!==null;)X=f,up(f),f=f.sibling;X=d,Mo=E,ft=O}cp(t)}else d.subtreeFlags&8772&&f!==null?(f.return=d,X=f):cp(t)}}function cp(t){for(;X!==null;){var i=X;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ft||Fo(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!ft)if(o===null)u.componentDidMount();else{var d=i.elementType===i.type?o.memoizedProps:Yt(i.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&dh(i,f,u);break;case 3:var g=i.updateQueue;if(g!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}dh(i,g,o)}break;case 5:var E=i.stateNode;if(o===null&&i.flags&4){o=E;var x=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&o.focus();break;case"img":x.src&&(o.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var O=i.alternate;if(O!==null){var B=O.memoizedState;if(B!==null){var q=B.dehydrated;q!==null&&Pi(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ft||i.flags&512&&Nu(i)}catch(z){ze(i,i.return,z)}}if(i===t){X=null;break}if(o=i.sibling,o!==null){o.return=i.return,X=o;break}X=i.return}}function dp(t){for(;X!==null;){var i=X;if(i===t){X=null;break}var o=i.sibling;if(o!==null){o.return=i.return,X=o;break}X=i.return}}function fp(t){for(;X!==null;){var i=X;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Fo(4,i)}catch(x){ze(i,o,x)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var d=i.return;try{u.componentDidMount()}catch(x){ze(i,d,x)}}var f=i.return;try{Nu(i)}catch(x){ze(i,f,x)}break;case 5:var g=i.return;try{Nu(i)}catch(x){ze(i,g,x)}}}catch(x){ze(i,i.return,x)}if(i===t){X=null;break}var E=i.sibling;if(E!==null){E.return=i.return,X=E;break}X=i.return}}var Vv=Math.ceil,jo=W.ReactCurrentDispatcher,Tu=W.ReactCurrentOwner,qt=W.ReactCurrentBatchConfig,ye=0,Ze=null,We=null,st=0,bt=0,Yr=Mn(0),Ge=0,Zi=null,dr=0,zo=0,Iu=0,es=null,Nt=null,Pu=0,Jr=1/0,En=null,Uo=!1,Au=null,$n=null,Bo=!1,qn=null,$o=0,ts=0,Ou=null,qo=-1,Wo=0;function gt(){return ye&6?$e():qo!==-1?qo:qo=$e()}function Wn(t){return t.mode&1?ye&2&&st!==0?st&-st:Iv.transition!==null?(Wo===0&&(Wo=sf()),Wo):(t=Se,t!==0||(t=window.event,t=t===void 0?16:pf(t.type)),t):1}function Zt(t,i,o,u){if(50<ts)throw ts=0,Ou=null,Error(r(185));Ni(t,o,u),(!(ye&2)||t!==Ze)&&(t===Ze&&(!(ye&2)&&(zo|=o),Ge===4&&Hn(t,st)),kt(t,u),o===1&&ye===0&&!(i.mode&1)&&(Jr=$e()+500,_o&&jn()))}function kt(t,i){var o=t.callbackNode;I_(t,i);var u=Xs(t,t===Ze?st:0);if(u===0)o!==null&&tf(o),t.callbackNode=null,t.callbackPriority=0;else if(i=u&-u,t.callbackPriority!==i){if(o!=null&&tf(o),i===1)t.tag===0?Tv(pp.bind(null,t)):Zf(pp.bind(null,t)),xv(function(){!(ye&6)&&jn()}),o=null;else{switch(of(u)){case 1:o=da;break;case 4:o=nf;break;case 16:o=Gs;break;case 536870912:o=rf;break;default:o=Gs}o=Cp(o,hp.bind(null,t))}t.callbackPriority=i,t.callbackNode=o}}function hp(t,i){if(qo=-1,Wo=0,ye&6)throw Error(r(327));var o=t.callbackNode;if(Xr()&&t.callbackNode!==o)return null;var u=Xs(t,t===Ze?st:0);if(u===0)return null;if(u&30||u&t.expiredLanes||i)i=Ho(t,u);else{i=u;var d=ye;ye|=2;var f=gp();(Ze!==t||st!==i)&&(En=null,Jr=$e()+500,hr(t,i));do try{Kv();break}catch(E){mp(t,E)}while(!0);Ya(),jo.current=f,ye=d,We!==null?i=0:(Ze=null,st=0,i=Ge)}if(i!==0){if(i===2&&(d=fa(t),d!==0&&(u=d,i=Du(t,d))),i===1)throw o=Zi,hr(t,0),Hn(t,u),kt(t,$e()),o;if(i===6)Hn(t,u);else{if(d=t.current.alternate,!(u&30)&&!Qv(d)&&(i=Ho(t,u),i===2&&(f=fa(t),f!==0&&(u=f,i=Du(t,f))),i===1))throw o=Zi,hr(t,0),Hn(t,u),kt(t,$e()),o;switch(t.finishedWork=d,t.finishedLanes=u,i){case 0:case 1:throw Error(r(345));case 2:pr(t,Nt,En);break;case 3:if(Hn(t,u),(u&130023424)===u&&(i=Pu+500-$e(),10<i)){if(Xs(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){gt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=za(pr.bind(null,t,Nt,En),i);break}pr(t,Nt,En);break;case 4:if(Hn(t,u),(u&4194240)===u)break;for(i=t.eventTimes,d=-1;0<u;){var g=31-Qt(u);f=1<<g,g=i[g],g>d&&(d=g),u&=~f}if(u=d,u=$e()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Vv(u/1960))-u,10<u){t.timeoutHandle=za(pr.bind(null,t,Nt,En),u);break}pr(t,Nt,En);break;case 5:pr(t,Nt,En);break;default:throw Error(r(329))}}}return kt(t,$e()),t.callbackNode===o?hp.bind(null,t):null}function Du(t,i){var o=es;return t.current.memoizedState.isDehydrated&&(hr(t,i).flags|=256),t=Ho(t,i),t!==2&&(i=Nt,Nt=o,i!==null&&Lu(i)),t}function Lu(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function Qv(t){for(var i=t;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],f=d.getSnapshot;d=d.value;try{if(!Gt(f(),d))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hn(t,i){for(i&=~Iu,i&=~zo,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var o=31-Qt(i),u=1<<o;t[o]=-1,i&=~u}}function pp(t){if(ye&6)throw Error(r(327));Xr();var i=Xs(t,0);if(!(i&1))return kt(t,$e()),null;var o=Ho(t,i);if(t.tag!==0&&o===2){var u=fa(t);u!==0&&(i=u,o=Du(t,u))}if(o===1)throw o=Zi,hr(t,0),Hn(t,i),kt(t,$e()),o;if(o===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,pr(t,Nt,En),kt(t,$e()),null}function bu(t,i){var o=ye;ye|=1;try{return t(i)}finally{ye=o,ye===0&&(Jr=$e()+500,_o&&jn())}}function fr(t){qn!==null&&qn.tag===0&&!(ye&6)&&Xr();var i=ye;ye|=1;var o=qt.transition,u=Se;try{if(qt.transition=null,Se=1,t)return t()}finally{Se=u,qt.transition=o,ye=i,!(ye&6)&&jn()}}function Mu(){bt=Yr.current,Ae(Yr)}function hr(t,i){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Sv(o)),We!==null)for(o=We.return;o!==null;){var u=o;switch(Ha(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&go();break;case 3:Qr(),Ae(Ct),Ae(ut),iu();break;case 5:nu(u);break;case 4:Qr();break;case 13:Ae(Le);break;case 19:Ae(Le);break;case 10:Ja(u.type._context);break;case 22:case 23:Mu()}o=o.return}if(Ze=t,We=t=Vn(t.current,null),st=bt=i,Ge=0,Zi=null,Iu=zo=dr=0,Nt=es=null,ar!==null){for(i=0;i<ar.length;i++)if(o=ar[i],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,f=o.pending;if(f!==null){var g=f.next;f.next=d,u.next=g}o.pending=u}ar=null}return t}function mp(t,i){do{var o=We;try{if(Ya(),To.current=Oo,Io){for(var u=be.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Io=!1}if(cr=0,Xe=Qe=be=null,Qi=!1,Gi=0,Tu.current=null,o===null||o.return===null){Ge=1,Zi=i,We=null;break}e:{var f=t,g=o.return,E=o,x=i;if(i=st,E.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var O=x,B=E,q=B.tag;if(!(B.mode&1)&&(q===0||q===11||q===15)){var z=B.alternate;z?(B.updateQueue=z.updateQueue,B.memoizedState=z.memoizedState,B.lanes=z.lanes):(B.updateQueue=null,B.memoizedState=null)}var J=Uh(g);if(J!==null){J.flags&=-257,Bh(J,g,E,f,i),J.mode&1&&zh(f,O,i),i=J,x=O;var ee=i.updateQueue;if(ee===null){var te=new Set;te.add(x),i.updateQueue=te}else ee.add(x);break e}else{if(!(i&1)){zh(f,O,i),Fu();break e}x=Error(r(426))}}else if(De&&E.mode&1){var qe=Uh(g);if(qe!==null){!(qe.flags&65536)&&(qe.flags|=256),Bh(qe,g,E,f,i),Ga(Gr(x,E));break e}}f=x=Gr(x,E),Ge!==4&&(Ge=2),es===null?es=[f]:es.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var P=Fh(f,x,i);ch(f,P);break e;case 1:E=x;var N=f.type,A=f.stateNode;if(!(f.flags&128)&&(typeof N.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&($n===null||!$n.has(A)))){f.flags|=65536,i&=-i,f.lanes|=i;var V=jh(f,E,i);ch(f,V);break e}}f=f.return}while(f!==null)}_p(o)}catch(ne){i=ne,We===o&&o!==null&&(We=o=o.return);continue}break}while(!0)}function gp(){var t=jo.current;return jo.current=Oo,t===null?Oo:t}function Fu(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ze===null||!(dr&268435455)&&!(zo&268435455)||Hn(Ze,st)}function Ho(t,i){var o=ye;ye|=2;var u=gp();(Ze!==t||st!==i)&&(En=null,hr(t,i));do try{Gv();break}catch(d){mp(t,d)}while(!0);if(Ya(),ye=o,jo.current=u,We!==null)throw Error(r(261));return Ze=null,st=0,Ge}function Gv(){for(;We!==null;)yp(We)}function Kv(){for(;We!==null&&!w_();)yp(We)}function yp(t){var i=Ep(t.alternate,t,bt);t.memoizedProps=t.pendingProps,i===null?_p(t):We=i,Tu.current=null}function _p(t){var i=t;do{var o=i.alternate;if(t=i.return,i.flags&32768){if(o=$v(o,i),o!==null){o.flags&=32767,We=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,We=null;return}}else if(o=Bv(o,i,bt),o!==null){We=o;return}if(i=i.sibling,i!==null){We=i;return}We=i=t}while(i!==null);Ge===0&&(Ge=5)}function pr(t,i,o){var u=Se,d=qt.transition;try{qt.transition=null,Se=1,Yv(t,i,o,u)}finally{qt.transition=d,Se=u}return null}function Yv(t,i,o,u){do Xr();while(qn!==null);if(ye&6)throw Error(r(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(P_(t,f),t===Ze&&(We=Ze=null,st=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Bo||(Bo=!0,Cp(Gs,function(){return Xr(),null})),f=(o.flags&15990)!==0,o.subtreeFlags&15990||f){f=qt.transition,qt.transition=null;var g=Se;Se=1;var E=ye;ye|=4,Tu.current=null,Wv(t,o),ap(o,t),gv(Fa),to=!!Ma,Fa=Ma=null,t.current=o,Hv(o),E_(),ye=E,Se=g,qt.transition=f}else t.current=o;if(Bo&&(Bo=!1,qn=t,$o=d),f=t.pendingLanes,f===0&&($n=null),x_(o.stateNode),kt(t,$e()),i!==null)for(u=t.onRecoverableError,o=0;o<i.length;o++)d=i[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Uo)throw Uo=!1,t=Au,Au=null,t;return $o&1&&t.tag!==0&&Xr(),f=t.pendingLanes,f&1?t===Ou?ts++:(ts=0,Ou=t):ts=0,jn(),null}function Xr(){if(qn!==null){var t=of($o),i=qt.transition,o=Se;try{if(qt.transition=null,Se=16>t?16:t,qn===null)var u=!1;else{if(t=qn,qn=null,$o=0,ye&6)throw Error(r(331));var d=ye;for(ye|=4,X=t.current;X!==null;){var f=X,g=f.child;if(X.flags&16){var E=f.deletions;if(E!==null){for(var x=0;x<E.length;x++){var O=E[x];for(X=O;X!==null;){var B=X;switch(B.tag){case 0:case 11:case 15:Xi(8,B,f)}var q=B.child;if(q!==null)q.return=B,X=q;else for(;X!==null;){B=X;var z=B.sibling,J=B.return;if(rp(B),B===O){X=null;break}if(z!==null){z.return=J,X=z;break}X=J}}}var ee=f.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var qe=te.sibling;te.sibling=null,te=qe}while(te!==null)}}X=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,X=g;else e:for(;X!==null;){if(f=X,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Xi(9,f,f.return)}var P=f.sibling;if(P!==null){P.return=f.return,X=P;break e}X=f.return}}var N=t.current;for(X=N;X!==null;){g=X;var A=g.child;if(g.subtreeFlags&2064&&A!==null)A.return=g,X=A;else e:for(g=N;X!==null;){if(E=X,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:Fo(9,E)}}catch(ne){ze(E,E.return,ne)}if(E===g){X=null;break e}var V=E.sibling;if(V!==null){V.return=E.return,X=V;break e}X=E.return}}if(ye=d,jn(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Ks,t)}catch{}u=!0}return u}finally{Se=o,qt.transition=i}}return!1}function vp(t,i,o){i=Gr(o,i),i=Fh(t,i,1),t=Un(t,i,1),i=gt(),t!==null&&(Ni(t,1,i),kt(t,i))}function ze(t,i,o){if(t.tag===3)vp(t,t,o);else for(;i!==null;){if(i.tag===3){vp(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($n===null||!$n.has(u))){t=Gr(o,t),t=jh(i,t,1),i=Un(i,t,1),t=gt(),i!==null&&(Ni(i,1,t),kt(i,t));break}}i=i.return}}function Jv(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),i=gt(),t.pingedLanes|=t.suspendedLanes&o,Ze===t&&(st&o)===o&&(Ge===4||Ge===3&&(st&130023424)===st&&500>$e()-Pu?hr(t,0):Iu|=o),kt(t,i)}function wp(t,i){i===0&&(t.mode&1?(i=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):i=1);var o=gt();t=_n(t,i),t!==null&&(Ni(t,i,o),kt(t,o))}function Xv(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),wp(t,o)}function Zv(t,i){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(i),wp(t,o)}var Ep;Ep=function(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps||Ct.current)xt=!0;else{if(!(t.lanes&o)&&!(i.flags&128))return xt=!1,Uv(t,i,o);xt=!!(t.flags&131072)}else xt=!1,De&&i.flags&1048576&&eh(i,wo,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;bo(t,i),t=i.pendingProps;var d=Ur(i,ut.current);Vr(i,o),d=lu(null,i,u,t,d,o);var f=au();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,St(u)?(f=!0,yo(i)):f=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,eu(i),d.updater=Do,i.stateNode=d,d._reactInternals=i,pu(i,u,t,o),i=_u(null,i,u,!0,f,o)):(i.tag=0,De&&f&&Wa(i),mt(null,i,d,o),i=i.child),i;case 16:u=i.elementType;e:{switch(bo(t,i),t=i.pendingProps,d=u._init,u=d(u._payload),i.type=u,d=i.tag=tw(u),t=Yt(u,t),d){case 0:i=yu(null,i,u,t,o);break e;case 1:i=Qh(null,i,u,t,o);break e;case 11:i=$h(null,i,u,t,o);break e;case 14:i=qh(null,i,u,Yt(u.type,t),o);break e}throw Error(r(306,u,""))}return i;case 0:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Yt(u,d),yu(t,i,u,d,o);case 1:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Yt(u,d),Qh(t,i,u,d,o);case 3:e:{if(Gh(i),t===null)throw Error(r(387));u=i.pendingProps,f=i.memoizedState,d=f.element,uh(t,i),ko(i,u,null,o);var g=i.memoizedState;if(u=g.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){d=Gr(Error(r(423)),i),i=Kh(t,i,u,o,d);break e}else if(u!==d){d=Gr(Error(r(424)),i),i=Kh(t,i,u,o,d);break e}else for(Lt=bn(i.stateNode.containerInfo.firstChild),Dt=i,De=!0,Kt=null,o=lh(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(qr(),u===d){i=wn(t,i,o);break e}mt(t,i,u,o)}i=i.child}return i;case 5:return fh(i),t===null&&Qa(i),u=i.type,d=i.pendingProps,f=t!==null?t.memoizedProps:null,g=d.children,ja(u,d)?g=null:f!==null&&ja(u,f)&&(i.flags|=32),Vh(t,i),mt(t,i,g,o),i.child;case 6:return t===null&&Qa(i),null;case 13:return Yh(t,i,o);case 4:return tu(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Wr(i,null,u,o):mt(t,i,u,o),i.child;case 11:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Yt(u,d),$h(t,i,u,d,o);case 7:return mt(t,i,i.pendingProps,o),i.child;case 8:return mt(t,i,i.pendingProps.children,o),i.child;case 12:return mt(t,i,i.pendingProps.children,o),i.child;case 10:e:{if(u=i.type._context,d=i.pendingProps,f=i.memoizedProps,g=d.value,ke(So,u._currentValue),u._currentValue=g,f!==null)if(Gt(f.value,g)){if(f.children===d.children&&!Ct.current){i=wn(t,i,o);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var E=f.dependencies;if(E!==null){g=f.child;for(var x=E.firstContext;x!==null;){if(x.context===u){if(f.tag===1){x=vn(-1,o&-o),x.tag=2;var O=f.updateQueue;if(O!==null){O=O.shared;var B=O.pending;B===null?x.next=x:(x.next=B.next,B.next=x),O.pending=x}}f.lanes|=o,x=f.alternate,x!==null&&(x.lanes|=o),Xa(f.return,o,i),E.lanes|=o;break}x=x.next}}else if(f.tag===10)g=f.type===i.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(r(341));g.lanes|=o,E=g.alternate,E!==null&&(E.lanes|=o),Xa(g,o,i),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===i){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}mt(t,i,d.children,o),i=i.child}return i;case 9:return d=i.type,u=i.pendingProps.children,Vr(i,o),d=Bt(d),u=u(d),i.flags|=1,mt(t,i,u,o),i.child;case 14:return u=i.type,d=Yt(u,i.pendingProps),d=Yt(u.type,d),qh(t,i,u,d,o);case 15:return Wh(t,i,i.type,i.pendingProps,o);case 17:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Yt(u,d),bo(t,i),i.tag=1,St(u)?(t=!0,yo(i)):t=!1,Vr(i,o),bh(i,u,d),pu(i,u,d,o),_u(null,i,u,!0,t,o);case 19:return Xh(t,i,o);case 22:return Hh(t,i,o)}throw Error(r(156,i.tag))};function Cp(t,i){return ef(t,i)}function ew(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,i,o,u){return new ew(t,i,o,u)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tw(t){if(typeof t=="function")return ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fe)return 11;if(t===jt)return 14}return 2}function Vn(t,i){var o=t.alternate;return o===null?(o=Wt(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Vo(t,i,o,u,d,f){var g=2;if(u=t,typeof t=="function")ju(t)&&(g=1);else if(typeof t=="string")g=5;else e:switch(t){case b:return mr(o.children,d,f,i);case $:g=8,d|=8;break;case M:return t=Wt(12,o,i,d|2),t.elementType=M,t.lanes=f,t;case rt:return t=Wt(13,o,i,d),t.elementType=rt,t.lanes=f,t;case Ft:return t=Wt(19,o,i,d),t.elementType=Ft,t.lanes=f,t;case je:return Qo(o,d,f,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j:g=10;break e;case re:g=9;break e;case Fe:g=11;break e;case jt:g=14;break e;case Et:g=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return i=Wt(g,o,i,d),i.elementType=t,i.type=u,i.lanes=f,i}function mr(t,i,o,u){return t=Wt(7,t,u,i),t.lanes=o,t}function Qo(t,i,o,u){return t=Wt(22,t,u,i),t.elementType=je,t.lanes=o,t.stateNode={isHidden:!1},t}function zu(t,i,o){return t=Wt(6,t,null,i),t.lanes=o,t}function Uu(t,i,o){return i=Wt(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function nw(t,i,o,u,d){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Bu(t,i,o,u,d,f,g,E,x){return t=new nw(t,i,o,E,x),i===1?(i=1,f===!0&&(i|=8)):i=0,f=Wt(3,null,null,i),t.current=f,f.stateNode=t,f.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(f),t}function rw(t,i,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:u==null?null:""+u,children:t,containerInfo:i,implementation:o}}function Sp(t){if(!t)return Fn;t=t._reactInternals;e:{if(rr(t)!==t||t.tag!==1)throw Error(r(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(St(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(t.tag===1){var o=t.type;if(St(o))return Jf(t,o,i)}return i}function xp(t,i,o,u,d,f,g,E,x){return t=Bu(o,u,!0,t,d,f,g,E,x),t.context=Sp(null),o=t.current,u=gt(),d=Wn(o),f=vn(u,d),f.callback=i??null,Un(o,f,d),t.current.lanes=d,Ni(t,d,u),kt(t,u),t}function Go(t,i,o,u){var d=i.current,f=gt(),g=Wn(d);return o=Sp(o),i.context===null?i.context=o:i.pendingContext=o,i=vn(f,g),i.payload={element:t},u=u===void 0?null:u,u!==null&&(i.callback=u),t=Un(d,i,g),t!==null&&(Zt(t,d,g,f),No(t,d,g)),g}function Ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Np(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function $u(t,i){Np(t,i),(t=t.alternate)&&Np(t,i)}function iw(){return null}var kp=typeof reportError=="function"?reportError:function(t){console.error(t)};function qu(t){this._internalRoot=t}Yo.prototype.render=qu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));Go(t,i,null,null)},Yo.prototype.unmount=qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;fr(function(){Go(null,t,null,null)}),i[pn]=null}};function Yo(t){this._internalRoot=t}Yo.prototype.unstable_scheduleHydration=function(t){if(t){var i=uf();t={blockedOn:null,target:t,priority:i};for(var o=0;o<On.length&&i!==0&&i<On[o].priority;o++);On.splice(o,0,t),o===0&&ff(t)}};function Wu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rp(){}function sw(t,i,o,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var O=Ko(g);f.call(O)}}var g=xp(i,u,t,0,null,!1,!1,"",Rp);return t._reactRootContainer=g,t[pn]=g.current,zi(t.nodeType===8?t.parentNode:t),fr(),g}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var E=u;u=function(){var O=Ko(x);E.call(O)}}var x=Bu(t,0,!1,null,null,!1,!1,"",Rp);return t._reactRootContainer=x,t[pn]=x.current,zi(t.nodeType===8?t.parentNode:t),fr(function(){Go(i,x,o,u)}),x}function Xo(t,i,o,u,d){var f=o._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var E=d;d=function(){var x=Ko(g);E.call(x)}}Go(i,g,t,d)}else g=sw(o,i,t,d,u);return Ko(g)}lf=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var o=xi(i.pendingLanes);o!==0&&(pa(i,o|1),kt(i,$e()),!(ye&6)&&(Jr=$e()+500,jn()))}break;case 13:fr(function(){var u=_n(t,1);if(u!==null){var d=gt();Zt(u,t,1,d)}}),$u(t,1)}},ma=function(t){if(t.tag===13){var i=_n(t,134217728);if(i!==null){var o=gt();Zt(i,t,134217728,o)}$u(t,134217728)}},af=function(t){if(t.tag===13){var i=Wn(t),o=_n(t,i);if(o!==null){var u=gt();Zt(o,t,i,u)}$u(t,i)}},uf=function(){return Se},cf=function(t,i){var o=Se;try{return Se=t,i()}finally{Se=o}},la=function(t,i,o){switch(i){case"input":if(Zl(t,o),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var d=mo(u);if(!d)throw Error(r(90));Dd(u),Zl(u,d)}}}break;case"textarea":jd(t,o);break;case"select":i=o.value,i!=null&&Tr(t,!!o.multiple,i,!1)}},Qd=bu,Gd=fr;var ow={usingClientEntryPoint:!1,Events:[$i,jr,mo,Hd,Vd,bu]},ns={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lw={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xd(t),t===null?null:t.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||iw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{Ks=Zo.inject(lw),sn=Zo}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow,Rt.createPortal=function(t,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wu(i))throw Error(r(200));return rw(t,i,null,o)},Rt.createRoot=function(t,i){if(!Wu(t))throw Error(r(299));var o=!1,u="",d=kp;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Bu(t,1,!1,null,null,o,!1,u,d),t[pn]=i.current,zi(t.nodeType===8?t.parentNode:t),new qu(i)},Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Xd(i),t=t===null?null:t.stateNode,t},Rt.flushSync=function(t){return fr(t)},Rt.hydrate=function(t,i,o){if(!Jo(i))throw Error(r(200));return Xo(null,t,i,!0,o)},Rt.hydrateRoot=function(t,i,o){if(!Wu(t))throw Error(r(405));var u=o!=null&&o.hydratedSources||null,d=!1,f="",g=kp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),i=xp(i,null,t,1,o??null,d,!1,f,g),t[pn]=i.current,zi(t),u)for(t=0;t<u.length;t++)o=u[t],d=o._getVersion,d=d(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,d]:i.mutableSourceEagerHydrationData.push(o,d);return new Yo(i)},Rt.render=function(t,i,o){if(!Jo(i))throw Error(r(200));return Xo(null,t,i,!1,o)},Rt.unmountComponentAtNode=function(t){if(!Jo(t))throw Error(r(40));return t._reactRootContainer?(fr(function(){Xo(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1},Rt.unstable_batchedUpdates=bu,Rt.unstable_renderSubtreeIntoContainer=function(t,i,o,u){if(!Jo(o))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Xo(t,i,o,!1,u)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var bp;function gw(){if(bp)return Qu.exports;bp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qu.exports=mw(),Qu.exports}var Mp;function yw(){if(Mp)return el;Mp=1;var n=gw();return el.createRoot=n.createRoot,el.hydrateRoot=n.hydrateRoot,el}var _w=yw();const vw=Ym(_w);var is={},Fp;function ww(){if(Fp)return is;Fp=1,Object.defineProperty(is,"__esModule",{value:!0}),is.parse=c,is.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,S){const C=new a,k=v.length;if(k<2)return C;const R=(S==null?void 0:S.decode)||_;let L=0;do{const F=v.indexOf("=",L);if(F===-1)break;const H=v.indexOf(";",L),W=H===-1?k:H;if(F>W){L=v.lastIndexOf(";",F-1)+1;continue}const G=h(v,L,F),K=p(v,F,G),b=v.slice(G,K);if(C[b]===void 0){let $=h(v,F+1,W),M=p(v,W,$);const j=R(v.slice($,M));C[b]=j}L=W+1}while(L<k);return C}function h(v,S,C){do{const k=v.charCodeAt(S);if(k!==32&&k!==9)return S}while(++S<C);return C}function p(v,S,C){for(;S>C;){const k=v.charCodeAt(--S);if(k!==32&&k!==9)return S+1}return C}function m(v,S,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const R=k(S);if(!e.test(R))throw new TypeError(`argument val is invalid: ${S}`);let L=v+"="+R;if(!C)return L;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);L+="; Max-Age="+C.maxAge}if(C.domain){if(!r.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);L+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);L+="; Path="+C.path}if(C.expires){if(!y(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);L+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(L+="; HttpOnly"),C.secure&&(L+="; Secure"),C.partitioned&&(L+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return L}function _(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return l.call(v)==="[object Date]"}return is}ww();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jp="popstate";function Ew(n={}){function e(s,l){let{pathname:a,search:c,hash:h}=s.location;return hc("",{pathname:a,search:c,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:gs(l)}return Sw(e,r,null,n)}function Me(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cw(){return Math.random().toString(36).substring(2,10)}function zp(n,e){return{usr:n.state,key:n.key,idx:e}}function hc(n,e,r=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ci(e):e,state:r,key:e&&e.key||s||Cw()}}function gs({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function ci(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function Sw(n,e,r,s={}){let{window:l=document.defaultView,v5Compat:a=!1}=s,c=l.history,h="POP",p=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function y(){h="POP";let R=_(),L=R==null?null:R-m;m=R,p&&p({action:h,location:k.location,delta:L})}function v(R,L){h="PUSH";let F=hc(k.location,R,L);m=_()+1;let H=zp(F,m),W=k.createHref(F);try{c.pushState(H,"",W)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;l.location.assign(W)}a&&p&&p({action:h,location:k.location,delta:1})}function S(R,L){h="REPLACE";let F=hc(k.location,R,L);m=_();let H=zp(F,m),W=k.createHref(F);c.replaceState(H,"",W),a&&p&&p({action:h,location:k.location,delta:0})}function C(R){let L=l.location.origin!=="null"?l.location.origin:l.location.href,F=typeof R=="string"?R:gs(R);return F=F.replace(/ $/,"%20"),Me(L,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,L)}let k={get action(){return h},get location(){return n(l,c)},listen(R){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(jp,y),p=R,()=>{l.removeEventListener(jp,y),p=null}},createHref(R){return e(l,R)},createURL:C,encodeLocation(R){let L=C(R);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:S,go(R){return c.go(R)}};return k}function Jm(n,e,r="/"){return xw(n,e,r,!1)}function xw(n,e,r,s){let l=typeof e=="string"?ci(e):e,a=Zn(l.pathname||"/",r);if(a==null)return null;let c=Xm(n);Nw(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=Mw(a);h=Lw(c[p],m,s)}return h}function Xm(n,e=[],r=[],s=""){let l=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let m=Sn([s,p.relativePath]),_=r.concat(p);a.children&&a.children.length>0&&(Me(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Xm(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:Ow(m,a.index),routesMeta:_})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))l(a,c);else for(let p of Zm(a.path))l(a,c,p)}),e}function Zm(n){let e=n.split("/");if(e.length===0)return[];let[r,...s]=e,l=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let c=Zm(s.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),l&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function Nw(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:Dw(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var kw=/^:[\w-]+$/,Rw=3,Tw=2,Iw=1,Pw=10,Aw=-2,Up=n=>n==="*";function Ow(n,e){let r=n.split("/"),s=r.length;return r.some(Up)&&(s+=Aw),e&&(s+=Tw),r.filter(l=>!Up(l)).reduce((l,a)=>l+(kw.test(a)?Rw:a===""?Iw:Pw),s)}function Dw(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function Lw(n,e,r=!1){let{routesMeta:s}=n,l={},a="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,_=a==="/"?e:e.slice(a.length)||"/",y=dl({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),v=p.route;if(!y&&m&&r&&!s[s.length-1].route.index&&(y=dl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:Sn([a,y.pathname]),pathnameBase:Uw(Sn([a,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(a=Sn([a,y.pathnameBase]))}return c}function dl(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,s]=bw(n.path,n.caseSensitive,n.end),l=e.match(r);if(!l)return null;let a=l[0],c=a.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((m,{paramName:_,isOptional:y},v)=>{if(_==="*"){let C=h[v]||"";c=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const S=h[v];return y&&!S?m[_]=void 0:m[_]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:n}}function bw(n,e=!1,r=!0){dn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function Mw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=n.charAt(r);return s&&s!=="/"?null:n.slice(r)||"/"}function Fw(n,e="/"){let{pathname:r,search:s="",hash:l=""}=typeof n=="string"?ci(n):n;return{pathname:r?r.startsWith("/")?r:jw(r,e):e,search:Bw(s),hash:$w(l)}}function jw(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Yu(n,e,r,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zw(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function eg(n){let e=zw(n);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function tg(n,e,r,s=!1){let l;typeof n=="string"?l=ci(n):(l={...n},Me(!l.pathname||!l.pathname.includes("?"),Yu("?","pathname","search",l)),Me(!l.pathname||!l.pathname.includes("#"),Yu("#","pathname","hash",l)),Me(!l.search||!l.search.includes("#"),Yu("#","search","hash",l)));let a=n===""||l.pathname==="",c=a?"/":l.pathname,h;if(c==null)h=r;else{let y=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;l.pathname=v.join("/")}h=y>=0?e[y]:"/"}let p=Fw(l,h),m=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Sn=n=>n.join("/").replace(/\/\/+/g,"/"),Uw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Bw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$w=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ng=["POST","PUT","PATCH","DELETE"];new Set(ng);var Ww=["GET",...ng];new Set(Ww);var di=T.createContext(null);di.displayName="DataRouter";var Al=T.createContext(null);Al.displayName="DataRouterState";var rg=T.createContext({isTransitioning:!1});rg.displayName="ViewTransition";var Hw=T.createContext(new Map);Hw.displayName="Fetchers";var Vw=T.createContext(null);Vw.displayName="Await";var fn=T.createContext(null);fn.displayName="Navigation";var Ps=T.createContext(null);Ps.displayName="Location";var Rn=T.createContext({outlet:null,matches:[],isDataRoute:!1});Rn.displayName="Route";var $c=T.createContext(null);$c.displayName="RouteError";function Qw(n,{relative:e}={}){Me(As(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=T.useContext(fn),{hash:l,pathname:a,search:c}=Os(n,{relative:e}),h=a;return r!=="/"&&(h=a==="/"?r:Sn([r,a])),s.createHref({pathname:h,search:c,hash:l})}function As(){return T.useContext(Ps)!=null}function Je(){return Me(As(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Ps).location}var ig="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sg(n){T.useContext(fn).static||T.useLayoutEffect(n)}function wt(){let{isDataRoute:n}=T.useContext(Rn);return n?o0():Gw()}function Gw(){Me(As(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(di),{basename:e,navigator:r}=T.useContext(fn),{matches:s}=T.useContext(Rn),{pathname:l}=Je(),a=JSON.stringify(eg(s)),c=T.useRef(!1);return sg(()=>{c.current=!0}),T.useCallback((p,m={})=>{if(dn(c.current,ig),!c.current)return;if(typeof p=="number"){r.go(p);return}let _=tg(p,JSON.parse(a),l,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Sn([e,_.pathname])),(m.replace?r.replace:r.push)(_,m.state,m)},[e,r,a,l,n])}T.createContext(null);function Os(n,{relative:e}={}){let{matches:r}=T.useContext(Rn),{pathname:s}=Je(),l=JSON.stringify(eg(r));return T.useMemo(()=>tg(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function Kw(n,e){return og(n,e)}function og(n,e,r,s){var L;Me(As(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=T.useContext(fn),{matches:a}=T.useContext(Rn),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let F=_&&_.path||"";lg(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let y=Je(),v;if(e){let F=typeof e=="string"?ci(e):e;Me(m==="/"||((L=F.pathname)==null?void 0:L.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${F.pathname}" was given in the \`location\` prop.`),v=F}else v=y;let S=v.pathname||"/",C=S;if(m!=="/"){let F=m.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=Jm(n,{pathname:C});dn(_||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),dn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=e0(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:Sn([m,l.encodeLocation?l.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?m:Sn([m,l.encodeLocation?l.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,r,s);return e&&R?T.createElement(Ps.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function Yw(){let n=s0(),e=qw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:l},r):null,c)}var Jw=T.createElement(Yw,null),Xw=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(Rn.Provider,{value:this.props.routeContext},T.createElement($c.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zw({routeContext:n,match:e,children:r}){let s=T.useContext(di);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Rn.Provider,{value:n},r)}function e0(n,e=[],r=null,s=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let l=n,a=r==null?void 0:r.errors;if(a!=null){let p=l.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Me(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let c=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:_,errors:y}=r,v=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,_)=>{let y,v=!1,S=null,C=null;r&&(y=a&&m.route.id?a[m.route.id]:void 0,S=m.route.errorElement||Jw,c&&(h<0&&_===0?(lg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):h===_&&(v=!0,C=m.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,_+1)),R=()=>{let L;return y?L=S:v?L=C:m.route.Component?L=T.createElement(m.route.Component,null):m.route.element?L=m.route.element:L=p,T.createElement(Zw,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:r!=null},children:L})};return r&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?T.createElement(Xw,{location:r.location,revalidation:r.revalidation,component:S,error:y,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):R()},null)}function qc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t0(n){let e=T.useContext(di);return Me(e,qc(n)),e}function n0(n){let e=T.useContext(Al);return Me(e,qc(n)),e}function r0(n){let e=T.useContext(Rn);return Me(e,qc(n)),e}function Wc(n){let e=r0(n),r=e.matches[e.matches.length-1];return Me(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function i0(){return Wc("useRouteId")}function s0(){var s;let n=T.useContext($c),e=n0("useRouteError"),r=Wc("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[r]}function o0(){let{router:n}=t0("useNavigate"),e=Wc("useNavigate"),r=T.useRef(!1);return sg(()=>{r.current=!0}),T.useCallback(async(l,a={})=>{dn(r.current,ig),r.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...a}))},[n,e])}var Bp={};function lg(n,e,r){!e&&!Bp[n]&&(Bp[n]=!0,dn(!1,r))}T.memo(l0);function l0({routes:n,future:e,state:r}){return og(n,void 0,r,e)}function yt(n){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a0({basename:n="/",children:e=null,location:r,navigationType:s="POP",navigator:l,static:a=!1}){Me(!As(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=T.useMemo(()=>({basename:c,navigator:l,static:a,future:{}}),[c,l,a]);typeof r=="string"&&(r=ci(r));let{pathname:p="/",search:m="",hash:_="",state:y=null,key:v="default"}=r,S=T.useMemo(()=>{let C=Zn(p,c);return C==null?null:{location:{pathname:C,search:m,hash:_,state:y,key:v},navigationType:s}},[c,p,m,_,y,v,s]);return dn(S!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:T.createElement(fn.Provider,{value:h},T.createElement(Ps.Provider,{children:e,value:S}))}function u0({children:n,location:e}){return Kw(pc(n),e)}function pc(n,e=[]){let r=[];return T.Children.forEach(n,(s,l)=>{if(!T.isValidElement(s))return;let a=[...e,l];if(s.type===T.Fragment){r.push.apply(r,pc(s.props.children,a));return}Me(s.type===yt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=pc(s.props.children,a)),r.push(c)}),r}var il="get",sl="application/x-www-form-urlencoded";function Ol(n){return n!=null&&typeof n.tagName=="string"}function c0(n){return Ol(n)&&n.tagName.toLowerCase()==="button"}function d0(n){return Ol(n)&&n.tagName.toLowerCase()==="form"}function f0(n){return Ol(n)&&n.tagName.toLowerCase()==="input"}function h0(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function p0(n,e){return n.button===0&&(!e||e==="_self")&&!h0(n)}var tl=null;function m0(){if(tl===null)try{new FormData(document.createElement("form"),0),tl=!1}catch{tl=!0}return tl}var g0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ju(n){return n!=null&&!g0.has(n)?(dn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):n}function y0(n,e){let r,s,l,a,c;if(d0(n)){let h=n.getAttribute("action");s=h?Zn(h,e):null,r=n.getAttribute("method")||il,l=Ju(n.getAttribute("enctype"))||sl,a=new FormData(n)}else if(c0(n)||f0(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(s=p?Zn(p,e):null,r=n.getAttribute("formmethod")||h.getAttribute("method")||il,l=Ju(n.getAttribute("formenctype"))||Ju(h.getAttribute("enctype"))||sl,a=new FormData(h,n),!m0()){let{name:m,type:_,value:y}=n;if(_==="image"){let v=m?`${m}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else m&&a.append(m,y)}}else{if(Ol(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=il,s=null,l=sl,c=n}return a&&l==="text/plain"&&(c=a,a=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:a,body:c}}function Hc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function _0(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v0(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function w0(n,e,r){let s=await Promise.all(n.map(async l=>{let a=e.routes[l.route.id];if(a){let c=await _0(a,r);return c.links?c.links():[]}return[]}));return x0(s.flat(1).filter(v0).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function $p(n,e,r,s,l,a){let c=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,h=(p,m)=>{var _;return r[m].pathname!==p.pathname||((_=r[m].route.path)==null?void 0:_.endsWith("*"))&&r[m].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):a==="data"?e.filter((p,m)=>{var y;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function E0(n,e){return C0(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function C0(n){return[...new Set(n)]}function S0(n){let e={},r=Object.keys(n).sort();for(let s of r)e[s]=n[s];return e}function x0(n,e){let r=new Set;return new Set(e),n.reduce((s,l)=>{let a=JSON.stringify(S0(l));return r.has(a)||(r.add(a),s.push({key:a,link:l})),s},[])}function N0(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function k0(){let n=T.useContext(di);return Hc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function R0(){let n=T.useContext(Al);return Hc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vc=T.createContext(void 0);Vc.displayName="FrameworkContext";function ag(){let n=T.useContext(Vc);return Hc(n,"You must render this element inside a <HydratedRouter> element"),n}function T0(n,e){let r=T.useContext(Vc),[s,l]=T.useState(!1),[a,c]=T.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:y}=e,v=T.useRef(null);T.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=L=>{L.forEach(F=>{c(F.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[n]),T.useEffect(()=>{if(s){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[s]);let S=()=>{l(!0)},C=()=>{l(!1),c(!1)};return r?n!=="intent"?[a,v,{}]:[a,v,{onFocus:ss(h,S),onBlur:ss(p,C),onMouseEnter:ss(m,S),onMouseLeave:ss(_,C),onTouchStart:ss(y,S)}]:[!1,v,{}]}function ss(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function I0({page:n,...e}){let{router:r}=k0(),s=T.useMemo(()=>Jm(r.routes,n,r.basename),[r.routes,n,r.basename]);return s?T.createElement(A0,{page:n,matches:s,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function P0(n){let{manifest:e,routeModules:r}=ag(),[s,l]=T.useState([]);return T.useEffect(()=>{let a=!1;return w0(n,e,r).then(c=>{a||l(c)}),()=>{a=!0}},[n,e,r]),s}function A0({page:n,matches:e,...r}){let s=Je(),{manifest:l,routeModules:a}=ag(),{loaderData:c,matches:h}=R0(),p=T.useMemo(()=>$p(n,e,h,l,s,"data"),[n,e,h,l,s]),m=T.useMemo(()=>$p(n,e,h,l,s,"assets"),[n,e,h,l,s]),_=T.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let S=new Set,C=!1;if(e.forEach(R=>{var F;let L=l.routes[R.route.id];!L||!L.hasLoader||(!p.some(H=>H.route.id===R.route.id)&&R.route.id in c&&((F=a[R.route.id])!=null&&F.shouldRevalidate)||L.hasClientLoader?C=!0:S.add(R.route.id))}),S.size===0)return[];let k=N0(n);return C&&S.size>0&&k.searchParams.set("_routes",e.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[k.pathname+k.search]},[c,s,l,p,e,n,a]),y=T.useMemo(()=>E0(m,l),[m,l]),v=P0(m);return T.createElement(T.Fragment,null,_.map(S=>T.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),y.map(S=>T.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),v.map(({key:S,link:C})=>T.createElement("link",{key:S,...C})))}function O0(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ug&&(window.__reactRouterVersion="7.0.2")}catch{}function D0({basename:n,children:e,window:r}){let s=T.useRef();s.current==null&&(s.current=Ew({window:r,v5Compat:!0}));let l=s.current,[a,c]=T.useState({action:l.action,location:l.location}),h=T.useCallback(p=>{T.startTransition(()=>c(p))},[c]);return T.useLayoutEffect(()=>l.listen(h),[l,h]),T.createElement(a0,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:l})}var cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dg=T.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:l,reloadDocument:a,replace:c,state:h,target:p,to:m,preventScrollReset:_,viewTransition:y,...v},S){let{basename:C}=T.useContext(fn),k=typeof m=="string"&&cg.test(m),R,L=!1;if(typeof m=="string"&&k&&(R=m,ug))try{let M=new URL(window.location.href),j=m.startsWith("//")?new URL(M.protocol+m):new URL(m),re=Zn(j.pathname,C);j.origin===M.origin&&re!=null?m=re+j.search+j.hash:L=!0}catch{dn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=Qw(m,{relative:l}),[H,W,G]=T0(s,v),K=F0(m,{replace:c,state:h,target:p,preventScrollReset:_,relative:l,viewTransition:y});function b(M){e&&e(M),M.defaultPrevented||K(M)}let $=T.createElement("a",{...v,...G,href:R||F,onClick:L||a?e:b,ref:O0(S,W),target:p,"data-discover":!k&&r==="render"?"true":void 0});return H&&!k?T.createElement(T.Fragment,null,$,T.createElement(I0,{page:F})):$});dg.displayName="Link";var L0=T.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:l=!1,style:a,to:c,viewTransition:h,children:p,...m},_){let y=Os(c,{relative:m.relative}),v=Je(),S=T.useContext(Al),{navigator:C,basename:k}=T.useContext(fn),R=S!=null&&$0(y)&&h===!0,L=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,F=v.pathname,H=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(F=F.toLowerCase(),H=H?H.toLowerCase():null,L=L.toLowerCase()),H&&k&&(H=Zn(H,k)||H);const W=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let G=F===L||!l&&F.startsWith(L)&&F.charAt(W)==="/",K=H!=null&&(H===L||!l&&H.startsWith(L)&&H.charAt(L.length)==="/"),b={isActive:G,isPending:K,isTransitioning:R},$=G?e:void 0,M;typeof s=="function"?M=s(b):M=[s,G?"active":null,K?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(b):a;return T.createElement(dg,{...m,"aria-current":$,className:M,ref:_,style:j,to:c,viewTransition:h},typeof p=="function"?p(b):p)});L0.displayName="NavLink";var b0=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:l,state:a,method:c=il,action:h,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:y,...v},S)=>{let C=U0(),k=B0(h,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&cg.test(h),F=H=>{if(p&&p(H),H.defaultPrevented)return;H.preventDefault();let W=H.nativeEvent.submitter,G=(W==null?void 0:W.getAttribute("formmethod"))||c;C(W||H.currentTarget,{fetcherKey:e,method:G,navigate:r,replace:l,state:a,relative:m,preventScrollReset:_,viewTransition:y})};return T.createElement("form",{ref:S,method:R,action:k,onSubmit:s?p:F,...v,"data-discover":!L&&n==="render"?"true":void 0})});b0.displayName="Form";function M0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fg(n){let e=T.useContext(di);return Me(e,M0(n)),e}function F0(n,{target:e,replace:r,state:s,preventScrollReset:l,relative:a,viewTransition:c}={}){let h=wt(),p=Je(),m=Os(n,{relative:a});return T.useCallback(_=>{if(p0(_,e)){_.preventDefault();let y=r!==void 0?r:gs(p)===gs(m);h(n,{replace:y,state:s,preventScrollReset:l,relative:a,viewTransition:c})}},[p,h,m,r,s,e,n,l,a,c])}var j0=0,z0=()=>`__${String(++j0)}__`;function U0(){let{router:n}=fg("useSubmit"),{basename:e}=T.useContext(fn),r=i0();return T.useCallback(async(s,l={})=>{let{action:a,method:c,encType:h,formData:p,body:m}=y0(s,e);if(l.navigate===!1){let _=l.fetcherKey||z0();await n.fetch(_,r,l.action||a,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||c,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||a,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||c,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,r])}function B0(n,{relative:e}={}){let{basename:r}=T.useContext(fn),s=T.useContext(Rn);Me(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),a={...Os(n||".",{relative:e})},c=Je();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&l.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Sn([r,a.pathname])),gs(a)}function $0(n,e={}){let r=T.useContext(rg);Me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fg("useViewTransitionState"),l=Os(n,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Zn(r.currentLocation.pathname,s)||r.currentLocation.pathname,c=Zn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return dl(l.pathname,c)!=null||dl(l.pathname,a)!=null}new TextEncoder;function q0(){const n=wt(),e=()=>{n("/login")},r=()=>{n("/quiz",{state:{id:1}})};return w.jsx("div",{className:"welcome-container",children:w.jsxs("div",{className:"welcome-card",children:[w.jsx("h1",{children:"Welcome to the Quiz!"}),w.jsx("p",{className:"welcome-description",children:"Ready to test your general knowledge? Press the button below to begin the quiz."}),w.jsxs("div",{className:"button-container",children:[w.jsx("button",{onClick:r,className:"continue-btn",children:"Guest"}),w.jsx("button",{onClick:e,className:"loginI-btn",children:"Login to Continue"})]})]})})}var qp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(n,e){if(!n)throw fi(e)},fi=function(n){return new Error("Firebase Database ("+hg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},W0=function(n){const e=[];let r=0,s=0;for(;r<n.length;){const l=n[r++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const a=n[r++];e[s++]=String.fromCharCode((l&31)<<6|a&63)}else if(l>239&&l<365){const a=n[r++],c=n[r++],h=n[r++],p=((l&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const a=n[r++],c=n[r++];e[s++]=String.fromCharCode((l&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Qc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const a=n[l],c=l+1<n.length,h=c?n[l+1]:0,p=l+2<n.length,m=p?n[l+2]:0,_=a>>2,y=(a&3)<<4|h>>4;let v=(h&15)<<2|m>>6,S=m&63;p||(S=64,c||(v=64)),s.push(r[_],r[y],r[v],r[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pg(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):W0(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const a=r[n.charAt(l++)],h=l<n.length?r[n.charAt(l)]:0;++l;const m=l<n.length?r[n.charAt(l)]:64;++l;const y=l<n.length?r[n.charAt(l)]:64;if(++l,a==null||h==null||m==null||y==null)throw new H0;const v=a<<2|h>>4;if(s.push(v),m!==64){const S=h<<4&240|m>>2;if(s.push(S),y!==64){const C=m<<6&192|y;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class H0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mg=function(n){const e=pg(n);return Qc.encodeByteArray(e,!0)},fl=function(n){return mg(n).replace(/\./g,"")},mc=function(n){try{return Qc.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n){return gg(void 0,n)}function gg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Q0(r)||(n[r]=gg(n[r],e[r]));return n}function Q0(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=()=>G0().__FIREBASE_DEFAULTS__,Y0=()=>{if(typeof process>"u"||typeof qp>"u")return;const n=qp.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},J0=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mc(n[1]);return e&&JSON.parse(e)},yg=()=>{try{return K0()||Y0()||J0()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},X0=n=>{var e,r;return(r=(e=yg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},Z0=n=>{const e=X0(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},_g=()=>{var n;return(n=yg())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fl(JSON.stringify(r)),fl(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tE())}function nE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wg(){return hg.NODE_ADMIN===!0}function rE(){try{return typeof indexedDB=="object"}catch{return!1}}function iE(){return new Promise((n,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var a;e(((a=l.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="FirebaseError";class Ls extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=sE,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eg.prototype.create)}}class Eg{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},l=`${this.service}/${e}`,a=this.errors[e],c=a?oE(a,s):"Error",h=`${this.serviceName}: ${c} (${l}).`;return new Ls(l,h,s)}}function oE(n,e){return n.replace(lE,(r,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const lE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(n){return JSON.parse(n)}function Ye(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=function(n){let e={},r={},s={},l="";try{const a=n.split(".");e=ys(mc(a[0])||""),r=ys(mc(a[1])||""),l=a[2],s=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:s,signature:l}},aE=function(n){const e=Cg(n),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},uE=function(n){const e=Cg(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ii(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Wp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hl(n,e,r){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(r,n[l],l,n));return s}function gc(n,e){if(n===e)return!0;const r=Object.keys(n),s=Object.keys(e);for(const l of r){if(!s.includes(l))return!1;const a=n[l],c=e[l];if(Hp(a)&&Hp(c)){if(!gc(a,c))return!1}else if(a!==c)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function Hp(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(n){const e=[];for(const[r,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let y=0;y<16;y++)s[y]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let y=16;y<80;y++){const v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],a=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,_;for(let y=0;y<80;y++){y<40?y<20?(m=h^a&(c^h),_=1518500249):(m=a^c^h,_=1859775393):y<60?(m=a&c|h&(a|c),_=2400959708):(m=a^c^h,_=3395469782);const v=(l<<5|l>>>27)+m+p+_+s[y]&4294967295;p=h,h=c,c=(a<<30|a>>>2)&4294967295,a=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const s=r-this.blockSize;let l=0;const a=this.buf_;let c=this.inbuf_;for(;l<r;){if(c===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<r;)if(a[c]=e.charCodeAt(l),++c,++l,c===this.blockSize){this.compress_(a),c=0;break}}else for(;l<r;)if(a[c]=e[l],++c,++l,c===this.blockSize){this.compress_(a),c=0;break}}this.inbuf_=c,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let a=24;a>=0;a-=8)e[s]=this.chain_[l]>>a&255,++s;return e}}function Dl(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const a=l-55296;s++,Q(s<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(s)-56320;l=65536+(a<<10)+c}l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):l<65536?(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},Ll=function(n){let e=0;for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(n){return n&&n._delegate?n._delegate:n}class _s{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Ds;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(l)return null;throw a}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mE(e))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:l});s.resolve(a)}catch{}}}}clearInstance(e=gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gr){return this.instances.has(e)}getOptions(e=gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);s===h&&c.resolve(l)}return l}onInit(e,r){var s;const l=this.normalizeInstanceIdentifier(r),a=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(l,a);const c=this.instances.get(l);return c&&e(c,l),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pE(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=gr){return this.component?this.component.multipleInstances?e:gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pE(n){return n===gr?void 0:n}function mE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new hE(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Te||(Te={}));const yE={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},_E=Te.INFO,vE={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},wE=(n,e,...r)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=vE[e];if(l)console[l](`[${s}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=_E,this._logHandler=wE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const EE=(n,e)=>e.some(r=>n instanceof r);let Vp,Qp;function CE(){return Vp||(Vp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SE(){return Qp||(Qp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xg=new WeakMap,yc=new WeakMap,Ng=new WeakMap,Xu=new WeakMap,Gc=new WeakMap;function xE(n){const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{r(Kn(n.result)),l()},c=()=>{s(n.error),l()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(r=>{r instanceof IDBCursor&&xg.set(r,n)}).catch(()=>{}),Gc.set(e,n),e}function NE(n){if(yc.has(n))return;const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{r(),l()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});yc.set(n,e)}let _c={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return yc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ng.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Kn(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kE(n){_c=n(_c)}function RE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=n.call(Zu(this),e,...r);return Ng.set(s,e.sort?e.sort():[e]),Kn(s)}:SE().includes(n)?function(...e){return n.apply(Zu(this),e),Kn(xg.get(this))}:function(...e){return Kn(n.apply(Zu(this),e))}}function TE(n){return typeof n=="function"?RE(n):(n instanceof IDBTransaction&&NE(n),EE(n,CE())?new Proxy(n,_c):n)}function Kn(n){if(n instanceof IDBRequest)return xE(n);if(Xu.has(n))return Xu.get(n);const e=TE(n);return e!==n&&(Xu.set(n,e),Gc.set(e,n)),e}const Zu=n=>Gc.get(n);function IE(n,e,{blocked:r,upgrade:s,blocking:l,terminated:a}={}){const c=indexedDB.open(n,e),h=Kn(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Kn(c.result),p.oldVersion,p.newVersion,Kn(c.transaction),p)}),r&&c.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const PE=["get","getKey","getAll","getAllKeys","count"],AE=["put","add","delete","clear"],ec=new Map;function Gp(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ec.get(e))return ec.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,l=AE.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||PE.includes(r)))return;const a=async function(c,...h){const p=this.transaction(c,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[r](...h),l&&p.done]))[0]};return ec.set(e,a),a}kE(n=>({...n,get:(e,r,s)=>Gp(e,r)||n.get(e,r,s),has:(e,r)=>!!Gp(e,r)||n.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(DE(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function DE(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vc="@firebase/app",Kp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn=new Sg("@firebase/app"),LE="@firebase/app-compat",bE="@firebase/analytics-compat",ME="@firebase/analytics",FE="@firebase/app-check-compat",jE="@firebase/app-check",zE="@firebase/auth",UE="@firebase/auth-compat",BE="@firebase/database",$E="@firebase/data-connect",qE="@firebase/database-compat",WE="@firebase/functions",HE="@firebase/functions-compat",VE="@firebase/installations",QE="@firebase/installations-compat",GE="@firebase/messaging",KE="@firebase/messaging-compat",YE="@firebase/performance",JE="@firebase/performance-compat",XE="@firebase/remote-config",ZE="@firebase/remote-config-compat",eC="@firebase/storage",tC="@firebase/storage-compat",nC="@firebase/firestore",rC="@firebase/vertexai",iC="@firebase/firestore-compat",sC="firebase",oC="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="[DEFAULT]",lC={[vc]:"fire-core",[LE]:"fire-core-compat",[ME]:"fire-analytics",[bE]:"fire-analytics-compat",[jE]:"fire-app-check",[FE]:"fire-app-check-compat",[zE]:"fire-auth",[UE]:"fire-auth-compat",[BE]:"fire-rtdb",[$E]:"fire-data-connect",[qE]:"fire-rtdb-compat",[WE]:"fire-fn",[HE]:"fire-fn-compat",[VE]:"fire-iid",[QE]:"fire-iid-compat",[GE]:"fire-fcm",[KE]:"fire-fcm-compat",[YE]:"fire-perf",[JE]:"fire-perf-compat",[XE]:"fire-rc",[ZE]:"fire-rc-compat",[eC]:"fire-gcs",[tC]:"fire-gcs-compat",[nC]:"fire-fst",[iC]:"fire-fst-compat",[rC]:"fire-vertex","fire-js":"fire-js",[sC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Map,aC=new Map,Ec=new Map;function Yp(n,e){try{n.container.addComponent(e)}catch(r){Nn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function ml(n){const e=n.name;if(Ec.has(e))return Nn.debug(`There were multiple attempts to register component ${e}.`),!1;Ec.set(e,n);for(const r of pl.values())Yp(r,n);for(const r of aC.values())Yp(r,n);return!0}function uC(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new Eg("app","Firebase",cC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=oC;function kg(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wc,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Yn.create("bad-app-name",{appName:String(l)});if(r||(r=_g()),!r)throw Yn.create("no-options");const a=pl.get(l);if(a){if(gc(r,a.options)&&gc(s,a.config))return a;throw Yn.create("duplicate-app",{appName:l})}const c=new gE(l);for(const p of Ec.values())c.addComponent(p);const h=new dC(r,s,c);return pl.set(l,h),h}function hC(n=wc){const e=pl.get(n);if(!e&&n===wc&&_g())return kg();if(!e)throw Yn.create("no-app",{appName:n});return e}function ti(n,e,r){var s;let l=(s=lC[n])!==null&&s!==void 0?s:n;r&&(l+=`-${r}`);const a=l.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${l}" with version "${e}":`];a&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nn.warn(h.join(" "));return}ml(new _s(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",mC=1,vs="firebase-heartbeat-store";let tc=null;function Rg(){return tc||(tc=IE(pC,mC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vs)}catch(r){console.warn(r)}}}}).catch(n=>{throw Yn.create("idb-open",{originalErrorMessage:n.message})})),tc}async function gC(n){try{const r=(await Rg()).transaction(vs),s=await r.objectStore(vs).get(Tg(n));return await r.done,s}catch(e){if(e instanceof Ls)Nn.warn(e.message);else{const r=Yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nn.warn(r.message)}}}async function Jp(n,e){try{const s=(await Rg()).transaction(vs,"readwrite");await s.objectStore(vs).put(e,Tg(n)),await s.done}catch(r){if(r instanceof Ls)Nn.warn(r.message);else{const s=Yn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Nn.warn(s.message)}}}function Tg(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1024,_C=30*24*60*60*1e3;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new EC(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Xp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=_C}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Nn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Xp(),{heartbeatsToSend:s,unsentEntries:l}=wC(this._heartbeatsCache.heartbeats),a=fl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Nn.warn(r),""}}}function Xp(){return new Date().toISOString().substring(0,10)}function wC(n,e=yC){const r=[];let s=n.slice();for(const l of n){const a=r.find(c=>c.agent===l.agent);if(a){if(a.dates.push(l.date),Zp(r)>e){a.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Zp(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class EC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rE()?iE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await gC(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Zp(n){return fl(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(n){ml(new _s("platform-logger",e=>new OE(e),"PRIVATE")),ml(new _s("heartbeat",e=>new vC(e),"PRIVATE")),ti(vc,Kp,n),ti(vc,Kp,"esm2017"),ti("fire-js","")}CC("");var SC="firebase",xC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(SC,xC,"app");var em={};const tm="@firebase/database",nm="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig="";function NC(n){Ig=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ye(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:ys(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new kC(e)}}catch{}return new RC},_r=Pg("localStorage"),TC=Pg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new Sg("@firebase/database"),IC=function(){let n=1;return function(){return n++}}(),Ag=function(n){const e=fE(n),r=new dE;r.update(e);const s=r.digest();return Qc.encodeByteArray(s)},bs=function(...n){let e="";for(let r=0;r<n.length;r++){const s=n[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=bs.apply(null,s):typeof s=="object"?e+=Ye(s):e+=s,e+=" "}return e};let ds=null,rm=!0;const PC=function(n,e){Q(!e,"Can't turn on custom loggers persistently."),ni.logLevel=Te.VERBOSE,ds=ni.log.bind(ni)},ot=function(...n){if(rm===!0&&(rm=!1,ds===null&&TC.get("logging_enabled")===!0&&PC()),ds){const e=bs.apply(null,n);ds(e)}},Ms=function(n){return function(...e){ot(n,...e)}},Cc=function(...n){const e="FIREBASE INTERNAL ERROR: "+bs(...n);ni.error(e)},kn=function(...n){const e=`FIREBASE FATAL ERROR: ${bs(...n)}`;throw ni.error(e),new Error(e)},vt=function(...n){const e="FIREBASE WARNING: "+bs(...n);ni.warn(e)},AC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kc=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},OC=function(n){if(document.readyState==="complete")n();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},si="[MIN_NAME]",Er="[MAX_NAME]",kr=function(n,e){if(n===e)return 0;if(n===si||e===Er)return-1;if(e===si||n===Er)return 1;{const r=im(n),s=im(e);return r!==null?s!==null?r-s===0?n.length-e.length:r-s:-1:s!==null?1:n<e?-1:1}},DC=function(n,e){return n===e?0:n<e?-1:1},os=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ye(e))},Yc=function(n){if(typeof n!="object"||n===null)return Ye(n);const e=[];for(const s in n)e.push(s);e.sort();let r="{";for(let s=0;s<e.length;s++)s!==0&&(r+=","),r+=Ye(e[s]),r+=":",r+=Yc(n[e[s]]);return r+="}",r},Og=function(n,e){const r=n.length;if(r<=e)return[n];const s=[];for(let l=0;l<r;l+=e)l+e>r?s.push(n.substring(l,r)):s.push(n.substring(l,l+e));return s};function at(n,e){for(const r in n)n.hasOwnProperty(r)&&e(r,n[r])}const Dg=function(n){Q(!Kc(n),"Invalid JSON number");const e=11,r=52,s=(1<<e-1)-1;let l,a,c,h,p;n===0?(a=0,c=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),a=h+s,c=Math.round(n*Math.pow(2,r-h)-Math.pow(2,r))):(a=0,c=Math.round(n/Math.pow(2,1-s-r))));const m=[];for(p=r;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)m.push(a%2?1:0),a=Math.floor(a/2);m.push(l?1:0),m.reverse();const _=m.join("");let y="";for(p=0;p<64;p+=8){let v=parseInt(_.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},LC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function MC(n,e){let r="Unknown Error";n==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?r="Client doesn't have permission to access the desired data.":n==="unavailable"&&(r="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+r);return s.code=n.toUpperCase(),s}const FC=new RegExp("^-?(0*)\\d{1,10}$"),jC=-2147483648,zC=2147483647,im=function(n){if(FC.test(n)){const e=Number(n);if(e>=jC&&e<=zC)return e}return null},hi=function(n){try{n()}catch(e){setTimeout(()=>{const r=e.stack||"";throw vt("Exception was thrown by user callback.",r),e},Math.floor(0))}},UC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fs=function(n,e){const r=setTimeout(n,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,r,s){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(e)}}class ol{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ol.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="5",Lg="v",bg="s",Mg="r",Fg="f",jg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zg="ls",Ug="p",Sc="ac",Bg="websocket",$g="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,r,s,l,a=!1,c="",h=!1,p=!1){this.secure=r,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=a,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_r.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_r.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function qC(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Wg(n,e,r){Q(typeof e=="string","typeof type must == string"),Q(typeof r=="object","typeof params must == object");let s;if(e===Bg)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===$g)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qC(n)&&(r.ns=n.namespace);const l=[];return at(r,(a,c)=>{l.push(a+"="+c)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.counters_={}}incrementCounter(e,r=1){hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return V0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc={},rc={};function Xc(n){const e=n.toString();return nc[e]||(nc[e]=new WC),nc[e]}function HC(n,e){const r=n.toString();return rc[r]||(rc[r]=e()),rc[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&hi(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="start",QC="close",GC="pLPCommand",KC="pRTLPCB",Hg="id",Vg="pw",Qg="ser",YC="cb",JC="seg",XC="ts",ZC="d",eS="dframe",Gg=1870,Kg=30,tS=Gg-Kg,nS=25e3,rS=3e4;class ei{constructor(e,r,s,l,a,c,h){this.connId=e,this.repoInfo=r,this.applicationId=s,this.appCheckToken=l,this.authToken=a,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ms(e),this.stats_=Xc(r),this.urlFn=p=>(this.appCheckToken&&(p[Sc]=this.appCheckToken),Wg(r,$g,p))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new VC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rS)),OC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zc((...a)=>{const[c,h,p,m,_]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===sm)this.id=h,this.password=p;else if(c===QC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...a)=>{const[c,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[sm]="t",s[Qg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[YC]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Lg]=Jc,this.transportSessionId&&(s[bg]=this.transportSessionId),this.lastSessionId&&(s[zg]=this.lastSessionId),this.applicationId&&(s[Ug]=this.applicationId),this.appCheckToken&&(s[Sc]=this.appCheckToken),typeof location<"u"&&location.hostname&&jg.test(location.hostname)&&(s[Mg]=Fg);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ei.forceAllow_=!0}static forceDisallow(){ei.forceDisallow_=!0}static isAvailable(){return ei.forceAllow_?!0:!ei.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!LC()&&!bC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Ye(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=mg(r),l=Og(s,tS);for(let a=0;a<l.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[a]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const s={};s[eS]="t",s[Hg]=e,s[Vg]=r,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Ye(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Zc{constructor(e,r,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=IC(),window[GC+this.uniqueCallbackIdentifier]=e,window[KC+this.uniqueCallbackIdentifier]=r,this.myIFrame=Zc.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){ot("frame writing exception"),h.stack&&ot(h.stack),ot(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Hg]=this.myID,e[Vg]=this.myPW,e[Qg]=this.currentSerial;let r=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Kg+s.length<=Gg;){const c=this.pendingSegs.shift();s=s+"&"+JC+l+"="+c.seg+"&"+XC+l+"="+c.ts+"&"+ZC+l+"="+c.d,l++}return r=r+s,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,s){this.pendingSegs.push({seg:e,ts:r,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const s=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(s,Math.floor(nS)),a=()=>{clearTimeout(l),s()};this.addTag(e,a)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=16384,sS=45e3;let gl=null;typeof MozWebSocket<"u"?gl=MozWebSocket:typeof WebSocket<"u"&&(gl=WebSocket);class en{constructor(e,r,s,l,a,c,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ms(this.connId),this.stats_=Xc(r),this.connURL=en.connectionURL_(r,c,h,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,l,a){const c={};return c[Lg]=Jc,typeof location<"u"&&location.hostname&&jg.test(location.hostname)&&(c[Mg]=Fg),r&&(c[bg]=r),s&&(c[zg]=s),l&&(c[Sc]=l),a&&(c[Ug]=a),Wg(e,Bg,c)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_r.set("previous_websocket_failure",!0);try{let s;wg(),this.mySock=new gl(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){en.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(r);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&gl!==null&&!en.forceDisallow_}static previouslyFailed(){return _r.isInMemoryStorage||_r.get("previous_websocket_failure")===!0}markConnectionHealthy(){_r.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=ys(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=Ye(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=Og(r,iS);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sS))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}en.responsesRequiredToBeHealthy=2;en.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static get ALL_TRANSPORTS(){return[ei,en]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=en&&en.isAvailable();let s=r&&!en.previouslyFailed();if(e.webSocketOnly&&(r||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[en];else{const l=this.transports_=[];for(const a of ws.ALL_TRANSPORTS)a&&a.isAvailable()&&l.push(a);ws.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ws.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=6e4,lS=5e3,aS=10*1024,uS=100*1024,ic="t",om="d",cS="s",lm="r",dS="e",am="o",um="a",cm="n",dm="p",fS="h";class hS{constructor(e,r,s,l,a,c,h,p,m,_){this.id=e,this.repoInfo_=r,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=a,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ms("c:"+this.id+":"),this.transportManager_=new ws(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=fs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>aS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ic in e){const r=e[ic];r===um?this.upgradeIfSecondaryHealthy_():r===lm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===am&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=os("t",e),s=os("d",e);if(r==="c")this.onSecondaryControl_(s);else if(r==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:um,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=os("t",e),s=os("d",e);r==="c"?this.onControl_(s):r==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=os(ic,e);if(om in e){const s=e[om];if(r===fS){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===cm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===cS?this.onConnectionShutdown_(s):r===lm?this.onReset_(s):r===dS?Cc("Server Error: "+s):r===am?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cc("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Jc!==s&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),fs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_r.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{put(e,r,s,l){}merge(e,r,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,s){}onDisconnectMerge(e,r,s){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,r)}}on(e,r,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:s});const l=this.getInitialEvent(e);l&&r.apply(s,l)}off(e,r,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let a=0;a<l.length;a++)if(l[a].callback===r&&(!s||s===l[a].context)){l.splice(a,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Jg{static getInstance(){return new yl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!vg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=32,hm=768;class xe{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function Ee(){return new xe("")}function he(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function er(n){return n.pieces_.length-n.pieceNum_}function Ie(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new xe(n.pieces_,e)}function ed(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pS(n){let e="";for(let r=n.pieceNum_;r<n.pieces_.length;r++)n.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[r])));return e||"/"}function Es(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Xg(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let r=n.pieceNum_;r<n.pieces_.length-1;r++)e.push(n.pieces_[r]);return new xe(e,0)}function Ue(n,e){const r=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)r.push(n.pieces_[s]);if(e instanceof xe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)r.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&r.push(s[l])}return new xe(r,0)}function ge(n){return n.pieceNum_>=n.pieces_.length}function _t(n,e){const r=he(n),s=he(e);if(r===null)return e;if(r===s)return _t(Ie(n),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function mS(n,e){const r=Es(n,0),s=Es(e,0);for(let l=0;l<r.length&&l<s.length;l++){const a=kr(r[l],s[l]);if(a!==0)return a}return r.length===s.length?0:r.length<s.length?-1:1}function td(n,e){if(er(n)!==er(e))return!1;for(let r=n.pieceNum_,s=e.pieceNum_;r<=n.pieces_.length;r++,s++)if(n.pieces_[r]!==e.pieces_[s])return!1;return!0}function Ht(n,e){let r=n.pieceNum_,s=e.pieceNum_;if(er(n)>er(e))return!1;for(;r<n.pieces_.length;){if(n.pieces_[r]!==e.pieces_[s])return!1;++r,++s}return!0}class gS{constructor(e,r){this.errorPrefix_=r,this.parts_=Es(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Ll(this.parts_[s]);Zg(this)}}function yS(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Ll(e),Zg(n)}function _S(n){const e=n.parts_.pop();n.byteLength_-=Ll(e),n.parts_.length>0&&(n.byteLength_-=1)}function Zg(n){if(n.byteLength_>hm)throw new Error(n.errorPrefix_+"has a key path longer than "+hm+" bytes ("+n.byteLength_+").");if(n.parts_.length>fm)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fm+") or object contains a cycle "+yr(n))}function yr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Jg{static getInstance(){return new nd}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=1e3,vS=60*5*1e3,pm=30*1e3,wS=1.3,ES=3e4,CS="server_kill",mm=3;class xn extends Yg{constructor(e,r,s,l,a,c,h,p){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=a,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=xn.nextPersistentConnectionId_++,this.log_=Ms("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ls,this.maxReconnectDelay_=vS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!wg())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const l=++this.requestNumber_,a={r:l,a:e,b:r};this.log_(Ye(a)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const r=new Ds,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),r.promise}listen(e,r,s,l){this.initConnection_();const a=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:e,tag:s};this.listens.get(c).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+s+" for "+l);const a={p:s},c="q";e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(c,a,h=>{const p=h.d,m=h.s;xn.warnOnListenWarnings_(p,r),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&hn(e,"w")){const s=ii(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=pm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=aE(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(r,s,l=>{const a=l.s,c=l.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,r)}sendUnlisten_(e,r,s,l){this.log_("Unlisten on "+e+" for "+r);const a={p:e},c="n";l&&(a.q=s,a.t=l),this.sendRequest(c,a)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,l){const a={p:r,d:s};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,c=>{l&&setTimeout(()=>{l(c.s,c.d)},Math.floor(0))})}put(e,r,s,l){this.putInternal("p",e,r,s,l)}merge(e,r,s,l){this.putInternal("m",e,r,s,l)}putInternal(e,r,s,l,a){this.initConnection_();const c={p:r,d:s};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:e,request:c,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(a.s,a.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{if(s.s!=="ok"){const a=s.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ye(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):Cc("Unrecognized action received from server: "+Ye(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ES&&(this.reconnectDelay_=ls),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+xn.nextConnectionId_++,a=this.lastSessionId;let c=!1,h=null;const p=function(){h?h.close():(c=!0,s())},m=function(y){Q(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);c?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,h=new hS(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,s,S=>{vt(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(CS)},a))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&vt(y),p())}}}interrupt(e){ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Wp(this.interruptReasons_)&&(this.reconnectDelay_=ls,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;r?s=r.map(a=>Yc(a)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const s=new xe(e).toString();let l;if(this.listens.has(s)){const a=this.listens.get(s);l=a.get(r),a.delete(r),a.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,r){ot("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=mm&&(this.reconnectDelay_=pm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){ot("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=mm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+Ig.replace(/\./g,"-")]=1,vg()?e["framework.cordova"]=1:nE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yl.getInstance().currentlyOnline();return Wp(this.interruptReasons_)&&e}}xn.nextPersistentConnectionId_=0;xn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new pe(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const s=new pe(si,e),l=new pe(si,r);return this.compare(s,l)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;class ey extends bl{static get __EMPTY_NODE(){return nl}static set __EMPTY_NODE(e){nl=e}compare(e,r){return kr(e.name,r.name)}isDefinedOn(e){throw fi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return pe.MIN}maxPost(){return new pe(Er,nl)}makePost(e,r){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,nl)}toString(){return".key"}}const ri=new ey;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,r,s,l,a=null){this.isReverse_=l,this.resultGenerator_=a,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=r?s(e.key,r):1,l&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nt{constructor(e,r,s,l,a){this.key=e,this.value=r,this.color=s??nt.RED,this.left=l??Tt.EMPTY_NODE,this.right=a??Tt.EMPTY_NODE}copy(e,r,s,l,a){return new nt(e??this.key,r??this.value,s??this.color,l??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const a=s(e,l.key);return a<0?l=l.copy(null,null,null,l.left.insert(e,r,s),null):a===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,l;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),r(e,s.key)===0){if(s.right.isEmpty())return Tt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class SS{copy(e,r,s,l,a){return this}insert(e,r,s){return new nt(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Tt{constructor(e,r=Tt.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new Tt(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(e){return new Tt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(e){let r,s=this.root_;for(;!s.isEmpty();){if(r=this.comparator_(e,s.key),r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}getPredecessorKey(e){let r,s=this.root_,l=null;for(;!s.isEmpty();)if(r=this.comparator_(e,s.key),r===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else r<0?s=s.left:r>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new rl(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new rl(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new rl(this.root_,null,this.comparator_,!0,e)}}Tt.EMPTY_NODE=new SS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n,e){return kr(n.name,e.name)}function rd(n,e){return kr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;function NS(n){xc=n}const ty=function(n){return typeof n=="number"?"number:"+Dg(n):"string:"+n},ny=function(n){if(n.isLeafNode()){const e=n.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hn(e,".sv"),"Priority must be a string or number.")}else Q(n===xc||n.isEmpty(),"priority of unexpected type.");Q(n===xc||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm;class tt{static set __childrenNodeConstructor(e){gm=e}static get __childrenNodeConstructor(){return gm}constructor(e,r=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ny(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ge(e)?this:he(e)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=he(e);return s===null?r:r.isEmpty()&&s!==".priority"?this:(Q(s!==".priority"||er(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ty(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=Dg(this.value_):e+=this.value_,this.lazyHash_=Ag(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof tt.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,l=tt.VALUE_TYPE_ORDER.indexOf(r),a=tt.VALUE_TYPE_ORDER.indexOf(s);return Q(l>=0,"Unknown leaf type: "+r),Q(a>=0,"Unknown leaf type: "+s),l===a?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry,iy;function kS(n){ry=n}function RS(n){iy=n}class TS extends bl{compare(e,r){const s=e.node.getPriority(),l=r.node.getPriority(),a=s.compareTo(l);return a===0?kr(e.name,r.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(Er,new tt("[PRIORITY-POST]",iy))}makePost(e,r){const s=ry(e);return new pe(r,new tt("[PRIORITY-POST]",s))}toString(){return".priority"}}const Be=new TS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=Math.log(2);class PS{constructor(e){const r=a=>parseInt(Math.log(a)/IS,10),s=a=>parseInt(Array(a+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _l=function(n,e,r,s){n.sort(e);const l=function(p,m){const _=m-p;let y,v;if(_===0)return null;if(_===1)return y=n[p],v=r?r(y):y,new nt(v,y.node,nt.BLACK,null,null);{const S=parseInt(_/2,10)+p,C=l(p,S),k=l(S+1,m);return y=n[S],v=r?r(y):y,new nt(v,y.node,nt.BLACK,C,k)}},a=function(p){let m=null,_=null,y=n.length;const v=function(C,k){const R=y-C,L=y;y-=C;const F=l(R+1,L),H=n[R],W=r?r(H):H;S(new nt(W,H.node,k,null,F))},S=function(C){m?(m.left=C,m=C):(_=C,m=C)};for(let C=0;C<p.count;++C){const k=p.nextBitIsOne(),R=Math.pow(2,p.count-(C+1));k?v(R,nt.BLACK):(v(R,nt.BLACK),v(R,nt.RED))}return _},c=new PS(n.length),h=a(c);return new Tt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;const Zr={};class Cn{static get Default(){return Q(Zr&&Be,"ChildrenNode.ts has not been loaded"),sc=sc||new Cn({".priority":Zr},{".priority":Be}),sc}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=ii(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof Tt?r:null}hasIndex(e){return hn(this.indexSet_,e.toString())}addIndex(e,r){Q(e!==ri,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const a=r.getIterator(pe.Wrap);let c=a.getNext();for(;c;)l=l||e.isDefinedOn(c.node),s.push(c),c=a.getNext();let h;l?h=_l(s,e.getCompare()):h=Zr;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=h,new Cn(_,m)}addToIndexes(e,r){const s=hl(this.indexes_,(l,a)=>{const c=ii(this.indexSet_,a);if(Q(c,"Missing index implementation for "+a),l===Zr)if(c.isDefinedOn(e.node)){const h=[],p=r.getIterator(pe.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),_l(h,c.getCompare())}else return Zr;else{const h=r.get(e.name);let p=l;return h&&(p=p.remove(new pe(e.name,h))),p.insert(e,e.node)}});return new Cn(s,this.indexSet_)}removeFromIndexes(e,r){const s=hl(this.indexes_,l=>{if(l===Zr)return l;{const a=r.get(e.name);return a?l.remove(new pe(e.name,a)):l}});return new Cn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as;class le{static get EMPTY_NODE(){return as||(as=new le(new Tt(rd),null,Cn.Default))}constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&ny(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||as}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?as:r}}getChild(e){const r=he(e);return r===null?this:this.getImmediateChild(r).getChild(Ie(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(Q(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const s=new pe(e,r);let l,a;r.isEmpty()?(l=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,r),a=this.indexMap_.addToIndexes(s,this.children_));const c=l.isEmpty()?as:this.priorityNode_;return new le(l,c,a)}}updateChild(e,r){const s=he(e);if(s===null)return r;{Q(he(e)!==".priority"||er(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ie(e),r);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,l=0,a=!0;if(this.forEachChild(Be,(c,h)=>{r[c]=h.val(e),s++,a&&le.INTEGER_REGEXP_.test(c)?l=Math.max(l,Number(c)):a=!1}),!e&&a&&l<2*s){const c=[];for(const h in r)c[h]=r[h];return c}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ty(this.getPriority().val())+":"),this.forEachChild(Be,(r,s)=>{const l=s.hash();l!==""&&(e+=":"+r+":"+l)}),this.lazyHash_=e===""?"":Ag(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const l=this.resolveIndex_(s);if(l){const a=l.getPredecessorKey(new pe(e,r));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new pe(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new pe(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,pe.Wrap);let a=l.peek();for(;a!=null&&r.compare(a,e)<0;)l.getNext(),a=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let a=l.peek();for(;a!=null&&r.compare(a,e)>0;)l.getNext(),a=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fs?-1:0}withIndex(e){if(e===ri||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===ri||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const s=this.getIterator(Be),l=r.getIterator(Be);let a=s.getNext(),c=l.getNext();for(;a&&c;){if(a.name!==c.name||!a.node.equals(c.node))return!1;a=s.getNext(),c=l.getNext()}return a===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===ri?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AS extends le{constructor(){super(new Tt(rd),le.EMPTY_NODE,Cn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const Fs=new AS;Object.defineProperties(pe,{MIN:{value:new pe(si,le.EMPTY_NODE)},MAX:{value:new pe(Er,Fs)}});ey.__EMPTY_NODE=le.EMPTY_NODE;tt.__childrenNodeConstructor=le;NS(Fs);RS(Fs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=!0;function Ke(n,e=null){if(n===null)return le.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const r=n;return new tt(r,Ke(e))}if(!(n instanceof Array)&&OS){const r=[];let s=!1;if(at(n,(c,h)=>{if(c.substring(0,1)!=="."){const p=Ke(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),r.push(new pe(c,p)))}}),r.length===0)return le.EMPTY_NODE;const a=_l(r,xS,c=>c.name,rd);if(s){const c=_l(r,Be.getCompare());return new le(a,Ke(e),new Cn({".priority":c},{".priority":Be}))}else return new le(a,Ke(e),Cn.Default)}else{let r=le.EMPTY_NODE;return at(n,(s,l)=>{if(hn(n,s)&&s.substring(0,1)!=="."){const a=Ke(l);(a.isLeafNode()||!a.isEmpty())&&(r=r.updateImmediateChild(s,a))}}),r.updatePriority(Ke(e))}}kS(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS extends bl{constructor(e){super(),this.indexPath_=e,Q(!ge(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const s=this.extractChild(e.node),l=this.extractChild(r.node),a=s.compareTo(l);return a===0?kr(e.name,r.name):a}makePost(e,r){const s=Ke(e),l=le.EMPTY_NODE.updateChild(this.indexPath_,s);return new pe(r,l)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,Fs);return new pe(Er,e)}toString(){return Es(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS extends bl{compare(e,r){const s=e.node.compareTo(r.node);return s===0?kr(e.name,r.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,r){const s=Ke(e);return new pe(r,s)}toString(){return".value"}}const bS=new LS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(n){return{type:"value",snapshotNode:n}}function oi(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Cs(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ss(n,e,r){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:r}}function MS(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.index_=e}updateChild(e,r,s,l,a,c){Q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(r);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(r)?c.trackChildChange(Cs(r,h)):Q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(oi(r,s)):c.trackChildChange(Ss(r,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(r,s).withIndex(this.index_)}updateFullNode(e,r,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Be,(l,a)=>{r.hasChild(l)||s.trackChildChange(Cs(l,a))}),r.isLeafNode()||r.forEachChild(Be,(l,a)=>{if(e.hasChild(l)){const c=e.getImmediateChild(l);c.equals(a)||s.trackChildChange(Ss(l,a,c))}else s.trackChildChange(oi(l,a))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.indexedFilter_=new id(e.getIndex()),this.index_=e.getIndex(),this.startPost_=xs.getStartPost_(e),this.endPost_=xs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&s}updateChild(e,r,s,l,a,c){return this.matches(new pe(r,s))||(s=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,s,l,a,c)}updateFullNode(e,r,s){r.isLeafNode()&&(r=le.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(le.EMPTY_NODE);const a=this;return r.forEachChild(Be,(c,h)=>{a.matches(new pe(c,h))||(l=l.updateImmediateChild(c,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=r=>{const s=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new xs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,s,l,a,c){return this.rangedFilter_.matches(new pe(r,s))||(s=le.EMPTY_NODE),e.getImmediateChild(r).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,s,l,a,c):this.fullLimitUpdateChild_(e,r,s,a,c)}updateFullNode(e,r,s){let l;if(r.isLeafNode()||r.isEmpty())l=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=le.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;a.hasNext()&&c<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(le.EMPTY_NODE);let a;this.reverse_?a=l.getReverseIterator(this.index_):a=l.getIterator(this.index_);let c=0;for(;a.hasNext();){const h=a.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:l=l.updateImmediateChild(h.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,s,l,a){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,S)=>y(S,v)}else c=this.index_.getCompare();const h=e;Q(h.numChildren()===this.limit_,"");const p=new pe(r,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(h.hasChild(r)){const y=h.getImmediateChild(r);let v=l.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===r||h.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const S=v==null?1:c(v,p);if(_&&!s.isEmpty()&&S>=0)return a!=null&&a.trackChildChange(Ss(r,s,y)),h.updateImmediateChild(r,s);{a!=null&&a.trackChildChange(Cs(r,y));const k=h.updateImmediateChild(r,le.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(a!=null&&a.trackChildChange(oi(v.name,v.node)),k.updateImmediateChild(v.name,v.node)):k}}else return s.isEmpty()?e:_&&c(m,p)>=0?(a!=null&&(a.trackChildChange(Cs(m.name,m.node)),a.trackChildChange(oi(r,s))),h.updateImmediateChild(r,s).updateImmediateChild(m.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:si}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Er}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Be}copy(){const e=new sd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jS(n){return n.loadsAllData()?new id(n.getIndex()):n.hasLimit()?new FS(n):new xs(n)}function ym(n){const e={};if(n.isDefault())return e;let r;if(n.index_===Be?r="$priority":n.index_===bS?r="$value":n.index_===ri?r="$key":(Q(n.index_ instanceof DS,"Unrecognized index type!"),r=n.index_.toString()),e.orderBy=Ye(r),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Ye(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Ye(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Ye(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Ye(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function _m(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let r=n.viewFrom_;r===""&&(n.isViewFromLeft()?r="l":r="r"),e.vf=r}return n.index_!==Be&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Yg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Ms("p:rest:"),this.listens_={}}listen(e,r,s,l){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const c=vl.getListenId_(e,s),h={};this.listens_[c]=h;const p=ym(e._queryParams);this.restRequest_(a+".json",p,(m,_)=>{let y=_;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(a,y,!1,s),ii(this.listens_,c)===h){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",l(v,null)}})}unlisten(e,r){const s=vl.getListenId_(e,r);delete this.listens_[s]}get(e){const r=ym(e._queryParams),s=e._path.toString(),l=new Ds;return this.restRequest_(s+".json",r,(a,c)=>{let h=c;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,r={},s){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,a])=>{l&&l.accessToken&&(r.auth=l.accessToken),a&&a.token&&(r.ac=a.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cE(r);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=ys(h.responseText)}catch{vt("Failed to parse JSON response for "+c+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&vt("Got unsuccessful REST response for "+c+" Status: "+h.status),s(h.status);s=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(){return{value:null,children:new Map}}function oy(n,e,r){if(ge(e))n.value=r,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,r);else{const s=he(e);n.children.has(s)||n.children.set(s,wl());const l=n.children.get(s);e=Ie(e),oy(l,e,r)}}function Nc(n,e,r){n.value!==null?r(e,n.value):US(n,(s,l)=>{const a=new xe(e.toString()+"/"+s);Nc(l,a,r)})}function US(n,e){n.children.forEach((r,s)=>{e(s,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&at(this.last_,(s,l)=>{r[s]=r[s]-l}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=10*1e3,$S=30*1e3,qS=5*60*1e3;class WS{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new BS(e);const s=vm+($S-vm)*Math.random();fs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),r={};let s=!1;at(e,(l,a)=>{a>0&&hn(this.statsToReport_,l)&&(r[l]=a,s=!0)}),s&&this.server_.reportStats(r),fs(this.reportStats_.bind(this),Math.floor(Math.random()*2*qS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function od(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ld(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ad(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,r,s){this.path=e,this.affectedTree=r,this.revert=s,this.type=tn.ACK_USER_WRITE,this.source=od()}operationForChild(e){if(ge(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new xe(e));return new El(Ee(),r,this.revert)}}else return Q(he(this.path)===e,"operationForChild called for unrelated child."),new El(Ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,r){this.source=e,this.path=r,this.type=tn.LISTEN_COMPLETE}operationForChild(e){return ge(this.path)?new Ns(this.source,Ee()):new Ns(this.source,Ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,r,s){this.source=e,this.path=r,this.snap=s,this.type=tn.OVERWRITE}operationForChild(e){return ge(this.path)?new Cr(this.source,Ee(),this.snap.getImmediateChild(e)):new Cr(this.source,Ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,r,s){this.source=e,this.path=r,this.children=s,this.type=tn.MERGE}operationForChild(e){if(ge(this.path)){const r=this.children.subtree(new xe(e));return r.isEmpty()?null:r.value?new Cr(this.source,Ee(),r.value):new li(this.source,Ee(),r)}else return Q(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new li(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,r,s){this.node_=e,this.fullyInitialized_=r,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;const r=he(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function VS(n,e,r,s){const l=[],a=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(MS(c.childName,c.snapshotNode))}),us(n,l,"child_removed",e,s,r),us(n,l,"child_added",e,s,r),us(n,l,"child_moved",a,s,r),us(n,l,"child_changed",e,s,r),us(n,l,"value",e,s,r),l}function us(n,e,r,s,l,a){const c=s.filter(h=>h.type===r);c.sort((h,p)=>GS(n,h,p)),c.forEach(h=>{const p=QS(n,h,a);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,n.query_))})})}function QS(n,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function GS(n,e,r){if(e.childName==null||r.childName==null)throw fi("Should only compare child_ events.");const s=new pe(e.childName,e.snapshotNode),l=new pe(r.childName,r.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n,e){return{eventCache:n,serverCache:e}}function hs(n,e,r,s){return Ml(new tr(e,r,s),n.serverCache)}function ly(n,e,r,s){return Ml(n.eventCache,new tr(e,r,s))}function Cl(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;const KS=()=>(oc||(oc=new Tt(DC)),oc);class Re{static fromObject(e){let r=new Re(null);return at(e,(s,l)=>{r=r.set(new xe(s),l)}),r}constructor(e,r=KS()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:Ee(),value:this.value};if(ge(e))return null;{const s=he(e),l=this.children.get(s);if(l!==null){const a=l.findRootMostMatchingPathAndValue(Ie(e),r);return a!=null?{path:Ue(new xe(s),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ge(e))return this;{const r=he(e),s=this.children.get(r);return s!==null?s.subtree(Ie(e)):new Re(null)}}set(e,r){if(ge(e))return new Re(r,this.children);{const s=he(e),a=(this.children.get(s)||new Re(null)).set(Ie(e),r),c=this.children.insert(s,a);return new Re(this.value,c)}}remove(e){if(ge(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const r=he(e),s=this.children.get(r);if(s){const l=s.remove(Ie(e));let a;return l.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,l),this.value===null&&a.isEmpty()?new Re(null):new Re(this.value,a)}else return this}}get(e){if(ge(e))return this.value;{const r=he(e),s=this.children.get(r);return s?s.get(Ie(e)):null}}setTree(e,r){if(ge(e))return r;{const s=he(e),a=(this.children.get(s)||new Re(null)).setTree(Ie(e),r);let c;return a.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,a),new Re(this.value,c)}}fold(e){return this.fold_(Ee(),e)}fold_(e,r){const s={};return this.children.inorderTraversal((l,a)=>{s[l]=a.fold_(Ue(e,l),r)}),r(e,this.value,s)}findOnPath(e,r){return this.findOnPath_(e,Ee(),r)}findOnPath_(e,r,s){const l=this.value?s(r,this.value):!1;if(l)return l;if(ge(e))return null;{const a=he(e),c=this.children.get(a);return c?c.findOnPath_(Ie(e),Ue(r,a),s):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,Ee(),r)}foreachOnPath_(e,r,s){if(ge(e))return this;{this.value&&s(r,this.value);const l=he(e),a=this.children.get(l);return a?a.foreachOnPath_(Ie(e),Ue(r,l),s):new Re(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,r){this.children.inorderTraversal((s,l)=>{l.foreach_(Ue(e,s),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,s)=>{s.value&&e(r,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.writeTree_=e}static empty(){return new nn(new Re(null))}}function ps(n,e,r){if(ge(e))return new nn(new Re(r));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let a=s.value;const c=_t(l,e);return a=a.updateChild(c,r),new nn(n.writeTree_.set(l,a))}else{const l=new Re(r),a=n.writeTree_.setTree(e,l);return new nn(a)}}}function kc(n,e,r){let s=n;return at(r,(l,a)=>{s=ps(s,Ue(e,l),a)}),s}function wm(n,e){if(ge(e))return nn.empty();{const r=n.writeTree_.setTree(e,new Re(null));return new nn(r)}}function Rc(n,e){return Rr(n,e)!=null}function Rr(n,e){const r=n.writeTree_.findRootMostValueAndPath(e);return r!=null?n.writeTree_.get(r.path).getChild(_t(r.path,e)):null}function Em(n){const e=[],r=n.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Be,(s,l)=>{e.push(new pe(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new pe(s,l.value))}),e}function Jn(n,e){if(ge(e))return n;{const r=Rr(n,e);return r!=null?new nn(new Re(r)):new nn(n.writeTree_.subtree(e))}}function Tc(n){return n.writeTree_.isEmpty()}function ai(n,e){return ay(Ee(),n.writeTree_,e)}function ay(n,e,r){if(e.value!=null)return r.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,a)=>{l===".priority"?(Q(a.value!==null,"Priority writes must always be leaf nodes"),s=a.value):r=ay(Ue(n,l),a,r)}),!r.getChild(n).isEmpty()&&s!==null&&(r=r.updateChild(Ue(n,".priority"),s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(n,e){return fy(e,n)}function YS(n,e,r,s,l){Q(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:r,writeId:s,visible:l}),l&&(n.visibleWrites=ps(n.visibleWrites,e,r)),n.lastWriteId=s}function JS(n,e,r,s){Q(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:r,writeId:s,visible:!0}),n.visibleWrites=kc(n.visibleWrites,e,r),n.lastWriteId=s}function XS(n,e){for(let r=0;r<n.allWrites.length;r++){const s=n.allWrites[r];if(s.writeId===e)return s}return null}function ZS(n,e){const r=n.allWrites.findIndex(h=>h.writeId===e);Q(r>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[r];n.allWrites.splice(r,1);let l=s.visible,a=!1,c=n.allWrites.length-1;for(;l&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=r&&e1(h,s.path)?l=!1:Ht(s.path,h.path)&&(a=!0)),c--}if(l){if(a)return t1(n),!0;if(s.snap)n.visibleWrites=wm(n.visibleWrites,s.path);else{const h=s.children;at(h,p=>{n.visibleWrites=wm(n.visibleWrites,Ue(s.path,p))})}return!0}else return!1}function e1(n,e){if(n.snap)return Ht(n.path,e);for(const r in n.children)if(n.children.hasOwnProperty(r)&&Ht(Ue(n.path,r),e))return!0;return!1}function t1(n){n.visibleWrites=uy(n.allWrites,n1,Ee()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function n1(n){return n.visible}function uy(n,e,r){let s=nn.empty();for(let l=0;l<n.length;++l){const a=n[l];if(e(a)){const c=a.path;let h;if(a.snap)Ht(r,c)?(h=_t(r,c),s=ps(s,h,a.snap)):Ht(c,r)&&(h=_t(c,r),s=ps(s,Ee(),a.snap.getChild(h)));else if(a.children){if(Ht(r,c))h=_t(r,c),s=kc(s,h,a.children);else if(Ht(c,r))if(h=_t(c,r),ge(h))s=kc(s,Ee(),a.children);else{const p=ii(a.children,he(h));if(p){const m=p.getChild(Ie(h));s=ps(s,Ee(),m)}}}else throw fi("WriteRecord should have .snap or .children")}}return s}function cy(n,e,r,s,l){if(!s&&!l){const a=Rr(n.visibleWrites,e);if(a!=null)return a;{const c=Jn(n.visibleWrites,e);if(Tc(c))return r;if(r==null&&!Rc(c,Ee()))return null;{const h=r||le.EMPTY_NODE;return ai(c,h)}}}else{const a=Jn(n.visibleWrites,e);if(!l&&Tc(a))return r;if(!l&&r==null&&!Rc(a,Ee()))return null;{const c=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(Ht(m.path,e)||Ht(e,m.path))},h=uy(n.allWrites,c,e),p=r||le.EMPTY_NODE;return ai(h,p)}}}function r1(n,e,r){let s=le.EMPTY_NODE;const l=Rr(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Be,(a,c)=>{s=s.updateImmediateChild(a,c)}),s;if(r){const a=Jn(n.visibleWrites,e);return r.forEachChild(Be,(c,h)=>{const p=ai(Jn(a,new xe(c)),h);s=s.updateImmediateChild(c,p)}),Em(a).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const a=Jn(n.visibleWrites,e);return Em(a).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function i1(n,e,r,s,l){Q(s||l,"Either existingEventSnap or existingServerSnap must exist");const a=Ue(e,r);if(Rc(n.visibleWrites,a))return null;{const c=Jn(n.visibleWrites,a);return Tc(c)?l.getChild(r):ai(c,l.getChild(r))}}function s1(n,e,r,s){const l=Ue(e,r),a=Rr(n.visibleWrites,l);if(a!=null)return a;if(s.isCompleteForChild(r)){const c=Jn(n.visibleWrites,l);return ai(c,s.getNode().getImmediateChild(r))}else return null}function o1(n,e){return Rr(n.visibleWrites,e)}function l1(n,e,r,s,l,a,c){let h;const p=Jn(n.visibleWrites,e),m=Rr(p,Ee());if(m!=null)h=m;else if(r!=null)h=ai(p,r);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const _=[],y=c.getCompare(),v=a?h.getReverseIteratorFrom(s,c):h.getIteratorFrom(s,c);let S=v.getNext();for(;S&&_.length<l;)y(S,s)!==0&&_.push(S),S=v.getNext();return _}else return[]}function a1(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function Sl(n,e,r,s){return cy(n.writeTree,n.treePath,e,r,s)}function ud(n,e){return r1(n.writeTree,n.treePath,e)}function Cm(n,e,r,s){return i1(n.writeTree,n.treePath,e,r,s)}function xl(n,e){return o1(n.writeTree,Ue(n.treePath,e))}function u1(n,e,r,s,l,a){return l1(n.writeTree,n.treePath,e,r,s,l,a)}function cd(n,e,r){return s1(n.writeTree,n.treePath,e,r)}function dy(n,e){return fy(Ue(n.treePath,e),n.writeTree)}function fy(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,s=e.childName;Q(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),Q(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const a=l.type;if(r==="child_added"&&a==="child_removed")this.changeMap.set(s,Ss(s,e.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&a==="child_added")this.changeMap.delete(s);else if(r==="child_removed"&&a==="child_changed")this.changeMap.set(s,Cs(s,l.oldSnap));else if(r==="child_changed"&&a==="child_added")this.changeMap.set(s,oi(s,e.snapshotNode));else if(r==="child_changed"&&a==="child_changed")this.changeMap.set(s,Ss(s,e.snapshotNode,l.oldSnap));else throw fi("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{getCompleteChild(e){return null}getChildAfterChild(e,r,s){return null}}const hy=new d1;class dd{constructor(e,r,s=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=s}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new tr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cd(this.writes_,e,s)}}getChildAfterChild(e,r,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sr(this.viewCache_),a=u1(this.writes_,l,r,1,s,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n){return{filter:n}}function h1(n,e){Q(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function p1(n,e,r,s,l){const a=new c1;let c,h;if(r.type===tn.OVERWRITE){const m=r;m.source.fromUser?c=Ic(n,e,m.path,m.snap,s,l,a):(Q(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!ge(m.path),c=Nl(n,e,m.path,m.snap,s,l,h,a))}else if(r.type===tn.MERGE){const m=r;m.source.fromUser?c=g1(n,e,m.path,m.children,s,l,a):(Q(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=Pc(n,e,m.path,m.children,s,l,h,a))}else if(r.type===tn.ACK_USER_WRITE){const m=r;m.revert?c=v1(n,e,m.path,s,l,a):c=y1(n,e,m.path,m.affectedTree,s,l,a)}else if(r.type===tn.LISTEN_COMPLETE)c=_1(n,e,r.path,s,a);else throw fi("Unknown operation type: "+r.type);const p=a.getChanges();return m1(e,c,p),{viewCache:c,changes:p}}function m1(n,e,r){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),a=Cl(n);(r.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(a)||!s.getNode().getPriority().equals(a.getPriority()))&&r.push(sy(Cl(e)))}}function py(n,e,r,s,l,a){const c=e.eventCache;if(xl(s,r)!=null)return e;{let h,p;if(ge(r))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Sr(e),_=m instanceof le?m:le.EMPTY_NODE,y=ud(s,_);h=n.filter.updateFullNode(e.eventCache.getNode(),y,a)}else{const m=Sl(s,Sr(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const m=he(r);if(m===".priority"){Q(er(r)===1,"Can't have a priority with additional path components");const _=c.getNode();p=e.serverCache.getNode();const y=Cm(s,r,_,p);y!=null?h=n.filter.updatePriority(_,y):h=c.getNode()}else{const _=Ie(r);let y;if(c.isCompleteForChild(m)){p=e.serverCache.getNode();const v=Cm(s,r,c.getNode(),p);v!=null?y=c.getNode().getImmediateChild(m).updateChild(_,v):y=c.getNode().getImmediateChild(m)}else y=cd(s,m,e.serverCache);y!=null?h=n.filter.updateChild(c.getNode(),m,y,_,l,a):h=c.getNode()}}return hs(e,h,c.isFullyInitialized()||ge(r),n.filter.filtersNodes())}}function Nl(n,e,r,s,l,a,c,h){const p=e.serverCache;let m;const _=c?n.filter:n.filter.getIndexedFilter();if(ge(r))m=_.updateFullNode(p.getNode(),s,null);else if(_.filtersNodes()&&!p.isFiltered()){const S=p.getNode().updateChild(r,s);m=_.updateFullNode(p.getNode(),S,null)}else{const S=he(r);if(!p.isCompleteForPath(r)&&er(r)>1)return e;const C=Ie(r),R=p.getNode().getImmediateChild(S).updateChild(C,s);S===".priority"?m=_.updatePriority(p.getNode(),R):m=_.updateChild(p.getNode(),S,R,C,hy,null)}const y=ly(e,m,p.isFullyInitialized()||ge(r),_.filtersNodes()),v=new dd(l,y,a);return py(n,y,r,l,v,h)}function Ic(n,e,r,s,l,a,c){const h=e.eventCache;let p,m;const _=new dd(l,e,a);if(ge(r))m=n.filter.updateFullNode(e.eventCache.getNode(),s,c),p=hs(e,m,!0,n.filter.filtersNodes());else{const y=he(r);if(y===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),p=hs(e,m,h.isFullyInitialized(),h.isFiltered());else{const v=Ie(r),S=h.getNode().getImmediateChild(y);let C;if(ge(v))C=s;else{const k=_.getCompleteChild(y);k!=null?ed(v)===".priority"&&k.getChild(Xg(v)).isEmpty()?C=k:C=k.updateChild(v,s):C=le.EMPTY_NODE}if(S.equals(C))p=e;else{const k=n.filter.updateChild(h.getNode(),y,C,v,_,c);p=hs(e,k,h.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function Sm(n,e){return n.eventCache.isCompleteForChild(e)}function g1(n,e,r,s,l,a,c){let h=e;return s.foreach((p,m)=>{const _=Ue(r,p);Sm(e,he(_))&&(h=Ic(n,h,_,m,l,a,c))}),s.foreach((p,m)=>{const _=Ue(r,p);Sm(e,he(_))||(h=Ic(n,h,_,m,l,a,c))}),h}function xm(n,e,r){return r.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Pc(n,e,r,s,l,a,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;ge(r)?m=s:m=new Re(null).setTree(r,s);const _=e.serverCache.getNode();return m.children.inorderTraversal((y,v)=>{if(_.hasChild(y)){const S=e.serverCache.getNode().getImmediateChild(y),C=xm(n,S,v);p=Nl(n,p,new xe(y),C,l,a,c,h)}}),m.children.inorderTraversal((y,v)=>{const S=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!_.hasChild(y)&&!S){const C=e.serverCache.getNode().getImmediateChild(y),k=xm(n,C,v);p=Nl(n,p,new xe(y),k,l,a,c,h)}}),p}function y1(n,e,r,s,l,a,c){if(xl(l,r)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(ge(r)&&p.isFullyInitialized()||p.isCompleteForPath(r))return Nl(n,e,r,p.getNode().getChild(r),l,a,h,c);if(ge(r)){let m=new Re(null);return p.getNode().forEachChild(ri,(_,y)=>{m=m.set(new xe(_),y)}),Pc(n,e,r,m,l,a,h,c)}else return e}else{let m=new Re(null);return s.foreach((_,y)=>{const v=Ue(r,_);p.isCompleteForPath(v)&&(m=m.set(_,p.getNode().getChild(v)))}),Pc(n,e,r,m,l,a,h,c)}}function _1(n,e,r,s,l){const a=e.serverCache,c=ly(e,a.getNode(),a.isFullyInitialized()||ge(r),a.isFiltered());return py(n,c,r,s,hy,l)}function v1(n,e,r,s,l,a){let c;if(xl(s,r)!=null)return e;{const h=new dd(s,e,l),p=e.eventCache.getNode();let m;if(ge(r)||he(r)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Sl(s,Sr(e));else{const y=e.serverCache.getNode();Q(y instanceof le,"serverChildren would be complete if leaf node"),_=ud(s,y)}_=_,m=n.filter.updateFullNode(p,_,a)}else{const _=he(r);let y=cd(s,_,e.serverCache);y==null&&e.serverCache.isCompleteForChild(_)&&(y=p.getImmediateChild(_)),y!=null?m=n.filter.updateChild(p,_,y,Ie(r),h,a):e.eventCache.getNode().hasChild(_)?m=n.filter.updateChild(p,_,le.EMPTY_NODE,Ie(r),h,a):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Sl(s,Sr(e)),c.isLeafNode()&&(m=n.filter.updateFullNode(m,c,a)))}return c=e.serverCache.isFullyInitialized()||xl(s,Ee())!=null,hs(e,m,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new id(s.getIndex()),a=jS(s);this.processor_=f1(a);const c=r.serverCache,h=r.eventCache,p=l.updateFullNode(le.EMPTY_NODE,c.getNode(),null),m=a.updateFullNode(le.EMPTY_NODE,h.getNode(),null),_=new tr(p,c.isFullyInitialized(),l.filtersNodes()),y=new tr(m,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=Ml(y,_),this.eventGenerator_=new HS(this.query_)}get query(){return this.query_}}function E1(n){return n.viewCache_.serverCache.getNode()}function C1(n){return Cl(n.viewCache_)}function S1(n,e){const r=Sr(n.viewCache_);return r&&(n.query._queryParams.loadsAllData()||!ge(e)&&!r.getImmediateChild(he(e)).isEmpty())?r.getChild(e):null}function Nm(n){return n.eventRegistrations_.length===0}function x1(n,e){n.eventRegistrations_.push(e)}function km(n,e,r){const s=[];if(r){Q(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(a=>{const c=a.createCancelEvent(r,l);c&&s.push(c)})}if(e){let l=[];for(let a=0;a<n.eventRegistrations_.length;++a){const c=n.eventRegistrations_[a];if(!c.matches(e))l.push(c);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(a+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Rm(n,e,r,s){e.type===tn.MERGE&&e.source.queryId!==null&&(Q(Sr(n.viewCache_),"We should always have a full cache before handling merges"),Q(Cl(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,a=p1(n.processor_,l,e,r,s);return h1(n.processor_,a.viewCache),Q(a.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,my(n,a.changes,a.viewCache.eventCache.getNode(),null)}function N1(n,e){const r=n.viewCache_.eventCache,s=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Be,(a,c)=>{s.push(oi(a,c))}),r.isFullyInitialized()&&s.push(sy(r.getNode())),my(n,s,r.getNode(),e)}function my(n,e,r,s){const l=s?[s]:n.eventRegistrations_;return VS(n.eventGenerator_,e,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl;class gy{constructor(){this.views=new Map}}function k1(n){Q(!kl,"__referenceConstructor has already been defined"),kl=n}function R1(){return Q(kl,"Reference.ts has not been loaded"),kl}function T1(n){return n.views.size===0}function fd(n,e,r,s){const l=e.source.queryId;if(l!==null){const a=n.views.get(l);return Q(a!=null,"SyncTree gave us an op for an invalid query."),Rm(a,e,r,s)}else{let a=[];for(const c of n.views.values())a=a.concat(Rm(c,e,r,s));return a}}function yy(n,e,r,s,l){const a=e._queryIdentifier,c=n.views.get(a);if(!c){let h=Sl(r,l?s:null),p=!1;h?p=!0:s instanceof le?(h=ud(r,s),p=!1):(h=le.EMPTY_NODE,p=!1);const m=Ml(new tr(h,p,!1),new tr(s,l,!1));return new w1(e,m)}return c}function I1(n,e,r,s,l,a){const c=yy(n,e,s,l,a);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),x1(c,r),N1(c,r)}function P1(n,e,r,s){const l=e._queryIdentifier,a=[];let c=[];const h=nr(n);if(l==="default")for(const[p,m]of n.views.entries())c=c.concat(km(m,r,s)),Nm(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||a.push(m.query));else{const p=n.views.get(l);p&&(c=c.concat(km(p,r,s)),Nm(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||a.push(p.query)))}return h&&!nr(n)&&a.push(new(R1())(e._repo,e._path)),{removed:a,events:c}}function _y(n){const e=[];for(const r of n.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function Xn(n,e){let r=null;for(const s of n.views.values())r=r||S1(s,e);return r}function vy(n,e){if(e._queryParams.loadsAllData())return jl(n);{const s=e._queryIdentifier;return n.views.get(s)}}function wy(n,e){return vy(n,e)!=null}function nr(n){return jl(n)!=null}function jl(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl;function A1(n){Q(!Rl,"__referenceConstructor has already been defined"),Rl=n}function O1(){return Q(Rl,"Reference.ts has not been loaded"),Rl}let D1=1;class Tm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=a1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ey(n,e,r,s,l){return YS(n.pendingWriteTree_,e,r,s,l),l?pi(n,new Cr(od(),e,r)):[]}function L1(n,e,r,s){JS(n.pendingWriteTree_,e,r,s);const l=Re.fromObject(r);return pi(n,new li(od(),e,l))}function Gn(n,e,r=!1){const s=XS(n.pendingWriteTree_,e);if(ZS(n.pendingWriteTree_,e)){let a=new Re(null);return s.snap!=null?a=a.set(Ee(),!0):at(s.children,c=>{a=a.set(new xe(c),!0)}),pi(n,new El(s.path,a,r))}else return[]}function js(n,e,r){return pi(n,new Cr(ld(),e,r))}function b1(n,e,r){const s=Re.fromObject(r);return pi(n,new li(ld(),e,s))}function M1(n,e){return pi(n,new Ns(ld(),e))}function F1(n,e,r){const s=pd(n,r);if(s){const l=md(s),a=l.path,c=l.queryId,h=_t(a,e),p=new Ns(ad(c),h);return gd(n,a,p)}else return[]}function Tl(n,e,r,s,l=!1){const a=e._path,c=n.syncPointTree_.get(a);let h=[];if(c&&(e._queryIdentifier==="default"||wy(c,e))){const p=P1(c,e,r,s);T1(c)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const m=p.removed;if(h=p.events,!l){const _=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(a,(v,S)=>nr(S));if(_&&!y){const v=n.syncPointTree_.subtree(a);if(!v.isEmpty()){const S=U1(v);for(let C=0;C<S.length;++C){const k=S[C],R=k.query,L=Ny(n,k);n.listenProvider_.startListening(ms(R),ks(n,R),L.hashFn,L.onComplete)}}}!y&&m.length>0&&!s&&(_?n.listenProvider_.stopListening(ms(e),null):m.forEach(v=>{const S=n.queryToTagMap.get(zl(v));n.listenProvider_.stopListening(ms(v),S)}))}B1(n,m)}return h}function Cy(n,e,r,s){const l=pd(n,s);if(l!=null){const a=md(l),c=a.path,h=a.queryId,p=_t(c,e),m=new Cr(ad(h),p,r);return gd(n,c,m)}else return[]}function j1(n,e,r,s){const l=pd(n,s);if(l){const a=md(l),c=a.path,h=a.queryId,p=_t(c,e),m=Re.fromObject(r),_=new li(ad(h),p,m);return gd(n,c,_)}else return[]}function Ac(n,e,r,s=!1){const l=e._path;let a=null,c=!1;n.syncPointTree_.foreachOnPath(l,(v,S)=>{const C=_t(v,l);a=a||Xn(S,C),c=c||nr(S)});let h=n.syncPointTree_.get(l);h?(c=c||nr(h),a=a||Xn(h,Ee())):(h=new gy,n.syncPointTree_=n.syncPointTree_.set(l,h));let p;a!=null?p=!0:(p=!1,a=le.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((S,C)=>{const k=Xn(C,Ee());k&&(a=a.updateImmediateChild(S,k))}));const m=wy(h,e);if(!m&&!e._queryParams.loadsAllData()){const v=zl(e);Q(!n.queryToTagMap.has(v),"View does not exist, but we have a tag");const S=$1();n.queryToTagMap.set(v,S),n.tagToQueryMap.set(S,v)}const _=Fl(n.pendingWriteTree_,l);let y=I1(h,e,r,_,a,p);if(!m&&!c&&!s){const v=vy(h,e);y=y.concat(q1(n,e,v))}return y}function hd(n,e,r){const l=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(c,h)=>{const p=_t(c,e),m=Xn(h,p);if(m)return m});return cy(l,e,a,r,!0)}function z1(n,e){const r=e._path;let s=null;n.syncPointTree_.foreachOnPath(r,(m,_)=>{const y=_t(m,r);s=s||Xn(_,y)});let l=n.syncPointTree_.get(r);l?s=s||Xn(l,Ee()):(l=new gy,n.syncPointTree_=n.syncPointTree_.set(r,l));const a=s!=null,c=a?new tr(s,!0,!1):null,h=Fl(n.pendingWriteTree_,e._path),p=yy(l,e,h,a?c.getNode():le.EMPTY_NODE,a);return C1(p)}function pi(n,e){return Sy(e,n.syncPointTree_,null,Fl(n.pendingWriteTree_,Ee()))}function Sy(n,e,r,s){if(ge(n.path))return xy(n,e,r,s);{const l=e.get(Ee());r==null&&l!=null&&(r=Xn(l,Ee()));let a=[];const c=he(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const m=r?r.getImmediateChild(c):null,_=dy(s,c);a=a.concat(Sy(h,p,m,_))}return l&&(a=a.concat(fd(l,n,s,r))),a}}function xy(n,e,r,s){const l=e.get(Ee());r==null&&l!=null&&(r=Xn(l,Ee()));let a=[];return e.children.inorderTraversal((c,h)=>{const p=r?r.getImmediateChild(c):null,m=dy(s,c),_=n.operationForChild(c);_&&(a=a.concat(xy(_,h,p,m)))}),l&&(a=a.concat(fd(l,n,s,r))),a}function Ny(n,e){const r=e.query,s=ks(n,r);return{hashFn:()=>(E1(e)||le.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?F1(n,r._path,s):M1(n,r._path);{const a=MC(l,r);return Tl(n,r,null,a)}}}}function ks(n,e){const r=zl(e);return n.queryToTagMap.get(r)}function zl(n){return n._path.toString()+"$"+n._queryIdentifier}function pd(n,e){return n.tagToQueryMap.get(e)}function md(n){const e=n.indexOf("$");return Q(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new xe(n.substr(0,e))}}function gd(n,e,r){const s=n.syncPointTree_.get(e);Q(s,"Missing sync point for query tag that we're tracking");const l=Fl(n.pendingWriteTree_,e);return fd(s,r,l,null)}function U1(n){return n.fold((e,r,s)=>{if(r&&nr(r))return[jl(r)];{let l=[];return r&&(l=_y(r)),at(s,(a,c)=>{l=l.concat(c)}),l}})}function ms(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(O1())(n._repo,n._path):n}function B1(n,e){for(let r=0;r<e.length;++r){const s=e[r];if(!s._queryParams.loadsAllData()){const l=zl(s),a=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(a)}}}function $1(){return D1++}function q1(n,e,r){const s=e._path,l=ks(n,e),a=Ny(n,r),c=n.listenProvider_.startListening(ms(e),l,a.hashFn,a.onComplete),h=n.syncPointTree_.subtree(s);if(l)Q(!nr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,_,y)=>{if(!ge(m)&&_&&nr(_))return[jl(_).query];{let v=[];return _&&(v=v.concat(_y(_).map(S=>S.query))),at(y,(S,C)=>{v=v.concat(C)}),v}});for(let m=0;m<p.length;++m){const _=p[m];n.listenProvider_.stopListening(ms(_),ks(n,_))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new yd(r)}node(){return this.node_}}class _d{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=Ue(this.path_,e);return new _d(this.syncTree_,r)}node(){return hd(this.syncTree_,this.path_)}}const W1=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Im=function(n,e,r){if(!n||typeof n!="object")return n;if(Q(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return H1(n[".sv"],e,r);if(typeof n[".sv"]=="object")return V1(n[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},H1=function(n,e,r){switch(n){case"timestamp":return r.timestamp;default:Q(!1,"Unexpected server value: "+n)}},V1=function(n,e,r){n.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&Q(!1,"Unexpected increment value: "+s);const l=e.node();if(Q(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const c=l.getValue();return typeof c!="number"?s:c+s},ky=function(n,e,r,s){return vd(e,new _d(r,n),s)},Ry=function(n,e,r){return vd(n,new yd(e),r)};function vd(n,e,r){const s=n.getPriority().val(),l=Im(s,e.getImmediateChild(".priority"),r);let a;if(n.isLeafNode()){const c=n,h=Im(c.getValue(),e,r);return h!==c.getValue()||l!==c.getPriority().val()?new tt(h,Ke(l)):n}else{const c=n;return a=c,l!==c.getPriority().val()&&(a=a.updatePriority(new tt(l))),c.forEachChild(Be,(h,p)=>{const m=vd(p,e.getImmediateChild(h),r);m!==p&&(a=a.updateImmediateChild(h,m))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e="",r=null,s={children:{},childCount:0}){this.name=e,this.parent=r,this.node=s}}function Ed(n,e){let r=e instanceof xe?e:new xe(e),s=n,l=he(r);for(;l!==null;){const a=ii(s.node.children,l)||{children:{},childCount:0};s=new wd(l,s,a),r=Ie(r),l=he(r)}return s}function mi(n){return n.node.value}function Ty(n,e){n.node.value=e,Oc(n)}function Iy(n){return n.node.childCount>0}function Q1(n){return mi(n)===void 0&&!Iy(n)}function Ul(n,e){at(n.node.children,(r,s)=>{e(new wd(r,n,s))})}function Py(n,e,r,s){r&&!s&&e(n),Ul(n,l=>{Py(l,e,!0,s)}),r&&s&&e(n)}function G1(n,e,r){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function zs(n){return new xe(n.parent===null?n.name:zs(n.parent)+"/"+n.name)}function Oc(n){n.parent!==null&&K1(n.parent,n.name,n)}function K1(n,e,r){const s=Q1(r),l=hn(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Oc(n)):!s&&!l&&(n.node.children[e]=r.node,n.node.childCount++,Oc(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=/[\[\].#$\/\u0000-\u001F\u007F]/,J1=/[\[\].#$\u0000-\u001F\u007F]/,lc=10*1024*1024,Cd=function(n){return typeof n=="string"&&n.length!==0&&!Y1.test(n)},Ay=function(n){return typeof n=="string"&&n.length!==0&&!J1.test(n)},X1=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ay(n)},Z1=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Kc(n)||n&&typeof n=="object"&&hn(n,".sv")},Oy=function(n,e,r,s){s&&e===void 0||Bl(Dl(n,"value"),e,r)},Bl=function(n,e,r){const s=r instanceof xe?new gS(r,n):r;if(e===void 0)throw new Error(n+"contains undefined "+yr(s));if(typeof e=="function")throw new Error(n+"contains a function "+yr(s)+" with contents = "+e.toString());if(Kc(e))throw new Error(n+"contains "+e.toString()+" "+yr(s));if(typeof e=="string"&&e.length>lc/3&&Ll(e)>lc)throw new Error(n+"contains a string greater than "+lc+" utf8 bytes "+yr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,a=!1;if(at(e,(c,h)=>{if(c===".value")l=!0;else if(c!==".priority"&&c!==".sv"&&(a=!0,!Cd(c)))throw new Error(n+" contains an invalid key ("+c+") "+yr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yS(s,c),Bl(n,h,s),_S(s)}),l&&a)throw new Error(n+' contains ".value" child '+yr(s)+" in addition to actual children.")}},ex=function(n,e){let r,s;for(r=0;r<e.length;r++){s=e[r];const a=Es(s);for(let c=0;c<a.length;c++)if(!(a[c]===".priority"&&c===a.length-1)){if(!Cd(a[c]))throw new Error(n+"contains an invalid key ("+a[c]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(mS);let l=null;for(r=0;r<e.length;r++){if(s=e[r],l!==null&&Ht(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},tx=function(n,e,r,s){const l=Dl(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const a=[];at(e,(c,h)=>{const p=new xe(c);if(Bl(l,h,Ue(r,p)),ed(p)===".priority"&&!Z1(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(p)}),ex(l,a)},Dy=function(n,e,r,s){if(!Ay(r))throw new Error(Dl(n,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nx=function(n,e,r,s){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Dy(n,e,r)},Sd=function(n,e){if(he(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},rx=function(n,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Cd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!X1(r))throw new Error(Dl(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $l(n,e){let r=null;for(let s=0;s<e.length;s++){const l=e[s],a=l.getPath();r!==null&&!td(a,r.path)&&(n.eventLists_.push(r),r=null),r===null&&(r={events:[],path:a}),r.events.push(l)}r&&n.eventLists_.push(r)}function Ly(n,e,r){$l(n,r),by(n,s=>td(s,e))}function Vt(n,e,r){$l(n,r),by(n,s=>Ht(s,e)||Ht(e,s))}function by(n,e){n.recursionDepth_++;let r=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const a=l.path;e(a)?(sx(n.eventLists_[s]),n.eventLists_[s]=null):r=!1}}r&&(n.eventLists_=[]),n.recursionDepth_--}function sx(n){for(let e=0;e<n.events.length;e++){const r=n.events[e];if(r!==null){n.events[e]=null;const s=r.getEventRunner();ds&&ot("event: "+r.toString()),hi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="repo_interrupt",lx=25;class ax{constructor(e,r,s,l){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ix,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wl(),this.transactionQueueTree_=new wd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ux(n,e,r){if(n.stats_=Xc(n.repoInfo_),n.forceRestClient_||UC())n.server_=new vl(n.repoInfo_,(s,l,a,c)=>{Pm(n,s,l,a,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Am(n,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ye(r)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new xn(n.repoInfo_,e,(s,l,a,c)=>{Pm(n,s,l,a,c)},s=>{Am(n,s)},s=>{cx(n,s)},n.authTokenProvider_,n.appCheckProvider_,r),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=HC(n.repoInfo_,()=>new WS(n.stats_,n.server_)),n.infoData_=new zS,n.infoSyncTree_=new Tm({startListening:(s,l,a,c)=>{let h=[];const p=n.infoData_.getNode(s._path);return p.isEmpty()||(h=js(n.infoSyncTree_,s._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),xd(n,"connected",!1),n.serverSyncTree_=new Tm({startListening:(s,l,a,c)=>(n.server_.listen(s,a,l,(h,p)=>{const m=c(h,p);Vt(n.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function My(n){const r=n.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function ql(n){return W1({timestamp:My(n)})}function Pm(n,e,r,s,l){n.dataUpdateCount++;const a=new xe(e);r=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,r):r;let c=[];if(l)if(s){const p=hl(r,m=>Ke(m));c=j1(n.serverSyncTree_,a,p,l)}else{const p=Ke(r);c=Cy(n.serverSyncTree_,a,p,l)}else if(s){const p=hl(r,m=>Ke(m));c=b1(n.serverSyncTree_,a,p)}else{const p=Ke(r);c=js(n.serverSyncTree_,a,p)}let h=a;c.length>0&&(h=ui(n,a)),Vt(n.eventQueue_,h,c)}function Am(n,e){xd(n,"connected",e),e===!1&&px(n)}function cx(n,e){at(e,(r,s)=>{xd(n,r,s)})}function xd(n,e,r){const s=new xe("/.info/"+e),l=Ke(r);n.infoData_.updateSnapshot(s,l);const a=js(n.infoSyncTree_,s,l);Vt(n.eventQueue_,s,a)}function Nd(n){return n.nextWriteId_++}function dx(n,e,r){const s=z1(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const a=Ke(l).withIndex(e._queryParams.getIndex());Ac(n.serverSyncTree_,e,r,!0);let c;if(e._queryParams.loadsAllData())c=js(n.serverSyncTree_,e._path,a);else{const h=ks(n.serverSyncTree_,e);c=Cy(n.serverSyncTree_,e._path,a,h)}return Vt(n.eventQueue_,e._path,c),Tl(n.serverSyncTree_,e,r,null,!0),a},l=>(Us(n,"get for query "+Ye(e)+" failed: "+l),Promise.reject(new Error(l))))}function fx(n,e,r,s,l){Us(n,"set",{path:e.toString(),value:r,priority:s});const a=ql(n),c=Ke(r,s),h=hd(n.serverSyncTree_,e),p=Ry(c,h,a),m=Nd(n),_=Ey(n.serverSyncTree_,e,p,m,!0);$l(n.eventQueue_,_),n.server_.put(e.toString(),c.val(!0),(v,S)=>{const C=v==="ok";C||vt("set at "+e+" failed: "+v);const k=Gn(n.serverSyncTree_,m,!C);Vt(n.eventQueue_,e,k),Dc(n,l,v,S)});const y=Rd(n,e);ui(n,y),Vt(n.eventQueue_,y,[])}function hx(n,e,r,s){Us(n,"update",{path:e.toString(),value:r});let l=!0;const a=ql(n),c={};if(at(r,(h,p)=>{l=!1,c[h]=ky(Ue(e,h),Ke(p),n.serverSyncTree_,a)}),l)ot("update() called with empty data.  Don't do anything."),Dc(n,s,"ok",void 0);else{const h=Nd(n),p=L1(n.serverSyncTree_,e,c,h);$l(n.eventQueue_,p),n.server_.merge(e.toString(),r,(m,_)=>{const y=m==="ok";y||vt("update at "+e+" failed: "+m);const v=Gn(n.serverSyncTree_,h,!y),S=v.length>0?ui(n,e):e;Vt(n.eventQueue_,S,v),Dc(n,s,m,_)}),at(r,m=>{const _=Rd(n,Ue(e,m));ui(n,_)}),Vt(n.eventQueue_,e,[])}}function px(n){Us(n,"onDisconnectEvents");const e=ql(n),r=wl();Nc(n.onDisconnect_,Ee(),(l,a)=>{const c=ky(l,a,n.serverSyncTree_,e);oy(r,l,c)});let s=[];Nc(r,Ee(),(l,a)=>{s=s.concat(js(n.serverSyncTree_,l,a));const c=Rd(n,l);ui(n,c)}),n.onDisconnect_=wl(),Vt(n.eventQueue_,Ee(),s)}function mx(n,e,r){let s;he(e._path)===".info"?s=Ac(n.infoSyncTree_,e,r):s=Ac(n.serverSyncTree_,e,r),Ly(n.eventQueue_,e._path,s)}function Om(n,e,r){let s;he(e._path)===".info"?s=Tl(n.infoSyncTree_,e,r):s=Tl(n.serverSyncTree_,e,r),Ly(n.eventQueue_,e._path,s)}function gx(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ox)}function Us(n,...e){let r="";n.persistentConnection_&&(r=n.persistentConnection_.id+":"),ot(r,...e)}function Dc(n,e,r,s){e&&hi(()=>{if(r==="ok")e(null);else{const l=(r||"error").toUpperCase();let a=l;s&&(a+=": "+s);const c=new Error(a);c.code=l,e(c)}})}function Fy(n,e,r){return hd(n.serverSyncTree_,e,r)||le.EMPTY_NODE}function kd(n,e=n.transactionQueueTree_){if(e||Wl(n,e),mi(e)){const r=zy(n,e);Q(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&yx(n,zs(e),r)}else Iy(e)&&Ul(e,r=>{kd(n,r)})}function yx(n,e,r){const s=r.map(m=>m.currentWriteId),l=Fy(n,e,s);let a=l;const c=l.hash();for(let m=0;m<r.length;m++){const _=r[m];Q(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const y=_t(e,_.path);a=a.updateChild(y,_.currentOutputSnapshotRaw)}const h=a.val(!0),p=e;n.server_.put(p.toString(),h,m=>{Us(n,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const y=[];for(let v=0;v<r.length;v++)r[v].status=2,_=_.concat(Gn(n.serverSyncTree_,r[v].currentWriteId)),r[v].onComplete&&y.push(()=>r[v].onComplete(null,!0,r[v].currentOutputSnapshotResolved)),r[v].unwatcher();Wl(n,Ed(n.transactionQueueTree_,e)),kd(n,n.transactionQueueTree_),Vt(n.eventQueue_,e,_);for(let v=0;v<y.length;v++)hi(y[v])}else{if(m==="datastale")for(let y=0;y<r.length;y++)r[y].status===3?r[y].status=4:r[y].status=0;else{vt("transaction at "+p.toString()+" failed: "+m);for(let y=0;y<r.length;y++)r[y].status=4,r[y].abortReason=m}ui(n,e)}},c)}function ui(n,e){const r=jy(n,e),s=zs(r),l=zy(n,r);return _x(n,l,s),s}function _x(n,e,r){if(e.length===0)return;const s=[];let l=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=_t(r,p.path);let _=!1,y;if(Q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,y=p.abortReason,l=l.concat(Gn(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=lx)_=!0,y="maxretry",l=l.concat(Gn(n.serverSyncTree_,p.currentWriteId,!0));else{const v=Fy(n,p.path,c);p.currentInputSnapshot=v;const S=e[h].update(v.val());if(S!==void 0){Bl("transaction failed: Data returned ",S,p.path);let C=Ke(S);typeof S=="object"&&S!=null&&hn(S,".priority")||(C=C.updatePriority(v.getPriority()));const R=p.currentWriteId,L=ql(n),F=Ry(C,v,L);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=F,p.currentWriteId=Nd(n),c.splice(c.indexOf(R),1),l=l.concat(Ey(n.serverSyncTree_,p.path,F,p.currentWriteId,p.applyLocally)),l=l.concat(Gn(n.serverSyncTree_,R,!0))}else _=!0,y="nodata",l=l.concat(Gn(n.serverSyncTree_,p.currentWriteId,!0))}Vt(n.eventQueue_,r,l),l=[],_&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(y),!1,null))))}Wl(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)hi(s[h]);kd(n,n.transactionQueueTree_)}function jy(n,e){let r,s=n.transactionQueueTree_;for(r=he(e);r!==null&&mi(s)===void 0;)s=Ed(s,r),e=Ie(e),r=he(e);return s}function zy(n,e){const r=[];return Uy(n,e,r),r.sort((s,l)=>s.order-l.order),r}function Uy(n,e,r){const s=mi(e);if(s)for(let l=0;l<s.length;l++)r.push(s[l]);Ul(e,l=>{Uy(n,l,r)})}function Wl(n,e){const r=mi(e);if(r){let s=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[s]=r[l],s++);r.length=s,Ty(e,r.length>0?r:void 0)}Ul(e,s=>{Wl(n,s)})}function Rd(n,e){const r=zs(jy(n,e)),s=Ed(n.transactionQueueTree_,e);return G1(s,l=>{ac(n,l)}),ac(n,s),Py(s,l=>{ac(n,l)}),r}function ac(n,e){const r=mi(e);if(r){const s=[];let l=[],a=-1;for(let c=0;c<r.length;c++)r[c].status===3||(r[c].status===1?(Q(a===c-1,"All SENT items should be at beginning of queue."),a=c,r[c].status=3,r[c].abortReason="set"):(Q(r[c].status===0,"Unexpected transaction status in abort"),r[c].unwatcher(),l=l.concat(Gn(n.serverSyncTree_,r[c].currentWriteId,!0)),r[c].onComplete&&s.push(r[c].onComplete.bind(null,new Error("set"),!1,null))));a===-1?Ty(e,void 0):r.length=a+1,Vt(n.eventQueue_,zs(e),l);for(let c=0;c<s.length;c++)hi(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n){let e="";const r=n.split("/");for(let s=0;s<r.length;s++)if(r[s].length>0){let l=r[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function wx(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const r of n.split("&")){if(r.length===0)continue;const s=r.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):vt(`Invalid query segment '${r}' in query '${n}'`)}return e}const Dm=function(n,e){const r=Ex(n),s=r.namespace;r.domain==="firebase.com"&&kn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&r.domain!=="localhost"&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||AC();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new qg(r.host,r.secure,s,l,e,"",s!==r.subdomain),path:new xe(r.pathString)}},Ex=function(n){let e="",r="",s="",l="",a="",c=!0,h="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let _=n.indexOf("/");_===-1&&(_=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(_,y)),_<y&&(l=vx(n.substring(_,y)));const v=wx(n.substring(Math.min(n.length,y)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const S=e.slice(0,m);if(S.toLowerCase()==="localhost")r="localhost";else if(S.split(".").length<=2)r=S;else{const C=e.indexOf(".");s=e.substring(0,C).toLowerCase(),r=e.substring(C+1),a=s}"ns"in v&&(a=v.ns)}return{host:e,port:p,domain:r,subdomain:s,secure:c,scheme:h,pathString:l,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cx=function(){let n=0;const e=[];return function(r){const s=r===n;n=r;let l;const a=new Array(8);for(l=7;l>=0;l--)a[l]=Lm.charAt(r%64),r=Math.floor(r/64);Q(r===0,"Cannot push at time == 0");let c=a.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)c+=Lm.charAt(e[l]);return Q(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,r,s,l){this.eventType=e,this.eventRegistration=r,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ye(this.snapshot.exportVal())}}class xx{constructor(e,r,s){this.eventRegistration=e,this.error=r,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,r,s,l){this._repo=e,this._path=r,this._queryParams=s,this._orderByCalled=l}get key(){return ge(this._path)?null:ed(this._path)}get ref(){return new Tn(this._repo,this._path)}get _queryIdentifier(){const e=_m(this._queryParams),r=Yc(e);return r==="{}"?"default":r}get _queryObject(){return _m(this._queryParams)}isEqual(e){if(e=Nr(e),!(e instanceof Td))return!1;const r=this._repo===e._repo,s=td(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return r&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+pS(this._path)}}class Tn extends Td{constructor(e,r){super(e,r,new sd,!1)}get parent(){const e=Xg(this._path);return e===null?null:new Tn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Rs{constructor(e,r,s){this._node=e,this.ref=r,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new xe(e),s=Ts(this.ref,e);return new Rs(this._node.getChild(r),s,Be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Rs(l,Ts(this.ref,s),Be)))}hasChild(e){const r=new xe(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ce(n,e){return n=Nr(n),n._checkNotDeleted("ref"),e!==void 0?Ts(n._root,e):n._root}function Ts(n,e){return n=Nr(n),he(n._path)===null?nx("child","path",e):Dy("child","path",e),new Tn(n._repo,Ue(n._path,e))}function Nx(n,e){n=Nr(n),Sd("push",n._path),Oy("push",e,n._path,!0);const r=My(n._repo),s=Cx(r),l=Ts(n,s),a=Ts(n,s);let c;return e!=null?c=It(a,e).then(()=>a):c=Promise.resolve(a),l.then=c.then.bind(c),l.catch=c.then.bind(c,void 0),l}function ll(n){return Sd("remove",n._path),It(n,null)}function It(n,e){n=Nr(n),Sd("set",n._path),Oy("set",e,n._path,!1);const r=new Ds;return fx(n._repo,n._path,e,null,r.wrapCallback(()=>{})),r.promise}function kx(n,e){tx("update",e,n._path);const r=new Ds;return hx(n._repo,n._path,e,r.wrapCallback(()=>{})),r.promise}function He(n){n=Nr(n);const e=new By(()=>{}),r=new Hl(e);return dx(n._repo,n,r).then(s=>new Rs(s,new Tn(n._repo,n._path),n._queryParams.getIndex()))}class Hl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const s=r._queryParams.getIndex();return new Sx("value",this,new Rs(e.snapshotNode,new Tn(r._repo,r._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new xx(this,e,r):null}matches(e){return e instanceof Hl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Rx(n,e,r,s,l){let a;if(typeof s=="object"&&(a=void 0,l=s),typeof s=="function"&&(a=s),l&&l.onlyOnce){const p=r,m=(_,y)=>{Om(n._repo,n,h),p(_,y)};m.userCallback=r.userCallback,m.context=r.context,r=m}const c=new By(r,a||void 0),h=new Hl(c);return mx(n._repo,n,h),()=>Om(n._repo,n,h)}function bm(n,e,r,s){return Rx(n,"value",e,r,s)}k1(Tn);A1(Tn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="FIREBASE_DATABASE_EMULATOR_HOST",Lc={};let Ix=!1;function Px(n,e,r,s){n.repoInfo_=new qg(`${e}:${r}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}function Ax(n,e,r,s,l){let a=s||n.options.databaseURL;a===void 0&&(n.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=Dm(a,l),h=c.repoInfo,p;typeof process<"u"&&em&&(p=em[Tx]),p?(a=`http://${p}?ns=${h.namespace}`,c=Dm(a,l),h=c.repoInfo):c.repoInfo.secure;const m=new $C(n.name,n.options,e);rx("Invalid Firebase Database URL",c),ge(c.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=Dx(h,n,m,new BC(n.name,r));return new Lx(_,n)}function Ox(n,e){const r=Lc[e];(!r||r[n.key]!==n)&&kn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),gx(n),delete r[n.key]}function Dx(n,e,r,s){let l=Lc[e.name];l||(l={},Lc[e.name]=l);let a=l[n.toURLString()];return a&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new ax(n,Ix,r,s),l[n.toURLString()]=a,a}class Lx{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ux(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tn(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Ox(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&kn("Cannot call "+e+" on a deleted database.")}}function lt(n=hC(),e){const r=uC(n,"database").getImmediate({identifier:e});if(!r._instanceStarted){const s=Z0("database");s&&bx(r,...s)}return r}function bx(n,e,r,s={}){n=Nr(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&kn("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let a;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ol(ol.OWNER);else if(s.mockUserToken){const c=typeof s.mockUserToken=="string"?s.mockUserToken:eE(s.mockUserToken,n.app.options.projectId);a=new ol(c)}Px(l,e,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(n){NC(fC),ml(new _s("database",(e,{instanceIdentifier:r})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return Ax(s,l,a,r)},"PUBLIC").setMultipleInstances(!0)),ti(tm,nm,n),ti(tm,nm,"esm2017")}xn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};xn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Mx();const Fx={apiKey:"AIzaSyCK58aeUtjlLq919pxe2wTZnhJqjEO_7kk",authDomain:"quizdb-ad0a2.firebaseapp.com",databaseURL:"https://quizdb-ad0a2-default-rtdb.firebaseio.com",projectId:"quizdb-ad0a2",storageBucket:"quizdb-ad0a2.firebasestorage.app",messagingSenderId:"595917417664",appId:"1:595917417664:web:f284273d498e384cdf5125",measurementId:"G-YC37Q9XL2X"},jx=kg(Fx),pt=lt(jx);function zx(){const n=Je(),e=wt(),[r,s]=T.useState({id:0,name:"Q0",legend:"",numOptions:0,option1:"",answer:""}),[l,a]=T.useState([]),[c,h]=T.useState([]),[p,m]=T.useState(1),[_,y]=T.useState([]),v=p===1,S=p===l.length;T.useEffect(()=>{n.state.username?C(n.state):k()},[n.state.id]);const C=b=>{m(1);const $=ce(pt,`groups/${b.groupName}/quizzes/${b.quizId}/questions`);He($).then(M=>{if(M.exists()){const j=M.val(),re=Object.keys(j);console.log(re),a(re),R(re[0])}else console.log("No questions found in the database.")}).catch(M=>{console.log("Error while getting questions: "+M)})},k=()=>{try{console.log(n.state.id),m(n.state.id);try{y(n.state.answers)}catch{console.log("No answers, using empty array")}}catch($){console.log("Error getting state: "+$)}const b=ce(pt,"questions/");He(b).then($=>{if($.exists()){const M=$.val(),j=Object.keys(M);console.log(j),a(j),R(j[0])}else console.log("No questions found in the database.")}).catch($=>{console.log("Error while getting questions: "+$)})},R=b=>{if(n.state.groupName){const $=ce(pt,`groups/${n.state.groupName}/quizzes/${n.state.quizId}/questions/${b}`);He($).then(M=>{if(M.exists()){const j=M.val();console.log(j),s(j.question),h(G(j.choices))}else console.log("No question found with the specified ID.")}).catch(M=>{console.log("Error getting question data: "+M)})}else{const $=ce(pt,`questions/${b}`);He($).then(M=>{if(M.exists()){const j=M.val();console.log(j),s(j),h(G(Array.from({length:j.numOptions},(re,Fe)=>Fe+1)))}else console.log("No question found with the specified ID.")}).catch(M=>{console.log("Error getting question data: "+M)})}};T.useEffect(()=>{console.log(l.length),l.length>-1&&(y(new Array(l.length).fill(null)),console.log("asnwers"),console.log(_))},[l]);function L(){const b=p<l.length?p+1:p;R(l[b-1]),m(b)}function F(){const b=p>1?p-1:p;R(l[b-1]),m(b)}function H(b){const $=b.target.value;y(M=>{const j=[...M];return j[p-1]=$,j})}function W(){K(_)&&(n.state.username?e("/done",{state:{answers:_,username:n.state.username,groupName:n.state.groupName,quizId:n.state.quizId}}):e("/done",{state:{answers:_}}))}function G(b){const $=[...b];for(let M=$.length-1;M>0;M--){const j=Math.floor(Math.random()*(M+1));[$[M],$[j]]=[$[j],$[M]]}return $}function K(b){let $=!0;for(const M of b)if(!M){document.getElementById("warning").innerHTML="Please answer all questions",$=!1;break}return $}return l.length?w.jsx(w.Fragment,{children:w.jsx("div",{id:"all-quiz",children:w.jsxs("div",{id:"quiz",className:"quiz_center",children:[w.jsx("span",{id:"INFO",children:w.jsxs("span",{children:["Question: ",w.jsx("span",{id:"questionNumber",children:p})]})}),w.jsx("form",{name:"quiz_form",id:"quiz_form",method:"get",children:r&&!n.state.username?w.jsxs("fieldset",{children:[w.jsx("legend",{children:r.legend}),c.map(b=>{const $=r[`option${b}`];return w.jsxs("div",{children:[w.jsx("input",{type:"radio",id:$,name:r.name,value:$,checked:_[p-1]===$||!1,onChange:H}),w.jsx("label",{htmlFor:$,children:$})]},$)})]}):w.jsx("div",{children:r&&n.state.username?w.jsxs("fieldset",{children:[w.jsx("legend",{children:r}),c.map(b=>{const $=b;return w.jsxs("div",{children:[w.jsx("input",{type:"radio",id:$,name:r.question,value:$,checked:_[p-1]===$||!1,onChange:H}),w.jsx("label",{htmlFor:$,children:$})]},$)})]}):w.jsx("div",{children:"No question to display"})})}),w.jsx("div",{id:"warning"}),w.jsxs("div",{className:"button-container",children:[!v&&w.jsx("button",{onClick:F,id:"prev",children:"Previous"}),!S&&w.jsx("button",{onClick:L,id:"next",children:"Next"}),S&&w.jsx("button",{onClick:W,id:"Finish",children:"Finish"})]})]})})}):w.jsx("div",{children:"Loading..."})}function Ux(){const n=wt(),[e,r]=T.useState(""),[s,l]=T.useState(""),[a,c]=T.useState(""),[h,p]=T.useState(!1),[m,_]=T.useState(!1);function y(){if(e&&s){const S=lt(),C=ce(S,"users/"+e);He(C).then(k=>{if(k.exists()){const R=k.val();R.password===s?n("/options",{state:{username:e,isAdmin:R.isAdmin}}):c("Invalid password. Please try again.")}else c("User not found. Please sign up first.")}).catch(k=>{c("Error logging in: "+k.message)})}else c("Please fill out both fields.")}function v(){if(e&&s){console.log(e);const S=lt();console.log(ce(S,"users/"+e)),console.log(S),It(ce(S,"users/"+e),{username:e,password:s,isAdmin:m}).then(()=>{c(""),p(!1),alert("Account created successfully! You can now log in.")}).catch(C=>{c("Error creating account: "+C.message)})}else c("Please fill out both fields.")}return w.jsx("div",{className:"login-container",children:w.jsxs("div",{className:"login-card",children:[w.jsx("h2",{children:h?"Create Account":"Login"}),w.jsx("p",{children:h?"Enter a username and password to create a new account.":"Enter your username and password to start the quiz."}),w.jsxs("div",{className:"login-form",children:[w.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:S=>r(S.target.value),required:!0,className:"input-field"}),w.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:S=>l(S.target.value),required:!0,className:"input-field"}),a&&w.jsx("p",{className:"error-message",children:a}),w.jsx("button",{onClick:h?v:y,className:"login-btn",children:h?"Create Account":"Log In"}),w.jsx("button",{onClick:()=>p(!h),className:"toggle-btn",children:h?"Already have an account? Log in":"Don't have an account? Create one"})]})]})})}function Bx(){const n=wt(),e=Je(),[r,s]=T.useState(""),[l,a]=T.useState(!1),[c,h]=T.useState([]),[p,m]=T.useState([]),[_,y]=T.useState(""),[v,S]=T.useState(""),[C,k]=T.useState("");T.useEffect(()=>{const b=lt(),$=ce(b,"users/"+r);He($).then(j=>{if(j.exists()){const re=j.val();console.log(re),console.log(e.state.username),s(e.state.username),a(re.isAdmin),console.log(re.isAdmin),h(Object.keys(re.groups||{}))}}).catch(j=>{k("Error loading user data: "+j.message)});const M=ce(b,"groups");He(M).then(j=>{if(j.exists()){const re=j.val();m(Object.values(re||{}))}}).catch(j=>{k("Error loading groups: "+j.message)})},[r]);function R(){const b=lt(),$=ce(b,"users/"+r);He($).then(j=>{if(j.exists()){const re=j.val();console.log(re),console.log(e.state.username),s(e.state.username),a(re.isAdmin),console.log(re.isAdmin),h(Object.keys(re.groups||{}))}}).catch(j=>{k("Error loading user data: "+j.message)});const M=ce(b,"groups");He(M).then(j=>{if(j.exists()){const re=j.val();m(Object.values(re||{}))}}).catch(j=>{k("Error loading groups: "+j.message)})}function L(b=8){const $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let M="";for(let j=0;j<b;j++)M+=$.charAt(Math.floor(Math.random()*$.length));return M}const F=()=>{if(!_){k("Please enter a group name.");return}const b=lt(),$=r,M=ce(b,"groups/"+_);It(M,{groupName:_,admin:$,members:{[$]:!0},joinCode:L(),latest:{latestQuiz:{date:"null",id:"null"}}}).then(()=>{const j=ce(b,"users/"+$+"/groups/"+_);It(j,!0),y(""),k(""),R()}).catch(j=>{k("Error creating group: "+j.message)})},H=b=>{S(b)},W=()=>{for(const b of p)if(console.log(b.joinCode),b.joinCode==v){G(b.groupName);return}k("Error joining group: Group Not Found")},G=b=>{const $=lt(),M=ce($,"groups/"+b+"/members/"+r);It(M,!0).then(()=>{const j=ce($,"users/"+r+"/groups/"+b);It(j,!0),R()}).catch(j=>{k("Error joining group: "+j.message)})},K=b=>{const $=lt(),M=ce($,"groups/"+b);He(M).then(j=>{if(j.exists()){const re=j.val();l?n("/admin",{state:{groupName:b,username:r,quizId:re.latest.latestQuiz.id}}):n("/quizPage",{state:{groupName:b,username:r,quizId:re.latest.latestQuiz.id}})}else k("Group data not found.")}).catch(j=>{k("Error fetching group data: "+j.message)})};return w.jsxs("div",{className:"options-container",children:[w.jsx("h1",{children:"User Control"}),w.jsxs("h3",{children:["Welcome, ",r]}),l&&w.jsx("p",{children:"You are an admin in all groups!"}),w.jsxs("div",{children:[w.jsx("h2",{children:"Your Groups"}),c.length>0?w.jsx("ul",{children:c.map(b=>w.jsx("li",{onClick:()=>K(b),children:b},b))}):w.jsx("p",{children:"You are not in any groups yet."})]}),w.jsxs("div",{children:[w.jsx("h2",{children:"Join Groups"}),w.jsx("input",{type:"text",placeholder:"Enter Group Code",value:v,onChange:b=>H(b.target.value)}),w.jsx("button",{onClick:W,children:"Join Group"})]}),w.jsxs("div",{children:[w.jsx("h2",{children:"Create a New Group"}),w.jsx("input",{type:"text",placeholder:"Enter Group Name",value:_,onChange:b=>y(b.target.value)}),w.jsx("button",{onClick:F,children:"Create Group"})]}),C&&w.jsx("p",{className:"error-message",children:C})]})}function $x(){const n=wt(),e=Je(),[r,s]=T.useState([]),[l,a]=T.useState([]);T.useEffect(()=>{e.state.username?h(e.state):p()},[e.state]);function c(){if(e.state.username){const _=lt(),y=ce(_,"users/"+e.state.username);He(y).then(v=>{if(v.exists()){const S=v.val(),C=lt(),k=ce(C,"groups/"+e.state.groupName+"/quizzes/"+e.state.quizId+"/answers/"+e.state.username);It(k,{user:e.state.username,answers:r}).then(()=>{n("/options",{state:{username:e.state.username,isAdmin:S.isAdmin}})}).catch(R=>{setError("Error creating group: "+R.message)})}else console.log("User not found. Please sign up first.")}).catch(v=>{console.log("Error logging in: "+v.message)})}else n("/")}const h=_=>{try{s(Object.values(e.state.answers)),console.log("User answers:",Object.values(e.state.answers))}catch{console.log("No answers, using an empty array.")}const y=ce(pt,`groups/${_.groupName}/quizzes/${_.quizId}/questions`);He(y).then(v=>{if(v.exists()){const S=v.val();console.log(S);const C=Object.keys(S).map(k=>({id:k,...S[k]}));a(C),console.log("Questions from Firebase:",C)}else console.log("No questions found in Firebase.")}).catch(v=>{console.error("Error while fetching questions from Firebase:",v)})},p=()=>{try{s(Object.values(e.state.answers)),console.log("User answers:",Object.values(e.state.answers))}catch{console.log("No answers, using an empty array.")}const _=ce(pt,"questions");He(_).then(y=>{if(y.exists()){const v=y.val(),S=Object.keys(v).map(C=>({id:C,...v[C]}));a(S),console.log("Questions from Firebase:",S)}else console.log("No questions found in Firebase.")}).catch(y=>{console.error("Error while fetching questions from Firebase:",y)})};function m(){var v,S;let _=0;if(e.state.username)for(let C=0;C<l.length;C++)l[C].choices[(v=l[C])==null?void 0:v.correctAnswer]==r[C]&&e.state.username&&_++;else for(let C=0;C<l.length;C++)((S=l[C])==null?void 0:S.answer)===r[C]&&!e.state.username&&_++;return(_/l.length*100).toFixed(2)}return console.log(typeof l),l[0]?w.jsx("div",{className:"finish-container",children:w.jsxs("div",{className:"finish-content",children:[w.jsxs("p",{className:"score-text",children:["You Finished with a ",w.jsxs("span",{children:[m(),"%"]})," score"]}),r.length>0&&!e.state.username?r.map((_,y)=>{var v,S;return w.jsxs("div",{className:`answer-item ${((v=l[y])==null?void 0:v.answer)===_?"correct":"incorrect"}`,children:[w.jsxs("strong",{children:[((S=l[y])==null?void 0:S.legend)||`Question ${y+1}`,":"]})," ",_]},y)}):w.jsx("div",{children:r.length>0&&e.state.username?r.map((_,y)=>{var v,S;return w.jsxs("div",{className:`answer-item ${l[y].choices[(v=l[y])==null?void 0:v.correctAnswer]===_?"correct":"incorrect"}`,children:[w.jsxs("strong",{children:[((S=l[y])==null?void 0:S.question)||`Question ${y+1}`,":"]})," ",_]},y)}):w.jsx("p",{children:"No answers to display"})}),w.jsx("div",{className:"button-container",children:w.jsx("button",{onClick:c,className:"finish-button",children:"Finish"})})]})}):(console.log(l),w.jsx("div",{children:"Loading..."}))}function $y(n,e){return function(){return n.apply(e,arguments)}}const{toString:qx}=Object.prototype,{getPrototypeOf:Id}=Object,Vl=(n=>e=>{const r=qx.call(e);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),rn=n=>(n=n.toLowerCase(),e=>Vl(e)===n),Ql=n=>e=>typeof e===n,{isArray:gi}=Array,Is=Ql("undefined");function Wx(n){return n!==null&&!Is(n)&&n.constructor!==null&&!Is(n.constructor)&&Mt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const qy=rn("ArrayBuffer");function Hx(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&qy(n.buffer),e}const Vx=Ql("string"),Mt=Ql("function"),Wy=Ql("number"),Gl=n=>n!==null&&typeof n=="object",Qx=n=>n===!0||n===!1,al=n=>{if(Vl(n)!=="object")return!1;const e=Id(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Gx=rn("Date"),Kx=rn("File"),Yx=rn("Blob"),Jx=rn("FileList"),Xx=n=>Gl(n)&&Mt(n.pipe),Zx=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Mt(n.append)&&((e=Vl(n))==="formdata"||e==="object"&&Mt(n.toString)&&n.toString()==="[object FormData]"))},eN=rn("URLSearchParams"),[tN,nN,rN,iN]=["ReadableStream","Request","Response","Headers"].map(rn),sN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bs(n,e,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let s,l;if(typeof n!="object"&&(n=[n]),gi(n))for(s=0,l=n.length;s<l;s++)e.call(null,n[s],s,n);else{const a=r?Object.getOwnPropertyNames(n):Object.keys(n),c=a.length;let h;for(s=0;s<c;s++)h=a[s],e.call(null,n[h],h,n)}}function Hy(n,e){e=e.toLowerCase();const r=Object.keys(n);let s=r.length,l;for(;s-- >0;)if(l=r[s],e===l.toLowerCase())return l;return null}const vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vy=n=>!Is(n)&&n!==vr;function bc(){const{caseless:n}=Vy(this)&&this||{},e={},r=(s,l)=>{const a=n&&Hy(e,l)||l;al(e[a])&&al(s)?e[a]=bc(e[a],s):al(s)?e[a]=bc({},s):gi(s)?e[a]=s.slice():e[a]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&Bs(arguments[s],r);return e}const oN=(n,e,r,{allOwnKeys:s}={})=>(Bs(e,(l,a)=>{r&&Mt(l)?n[a]=$y(l,r):n[a]=l},{allOwnKeys:s}),n),lN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),aN=(n,e,r,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),r&&Object.assign(n.prototype,r)},uN=(n,e,r,s)=>{let l,a,c;const h={};if(e=e||{},n==null)return e;do{for(l=Object.getOwnPropertyNames(n),a=l.length;a-- >0;)c=l[a],(!s||s(c,n,e))&&!h[c]&&(e[c]=n[c],h[c]=!0);n=r!==!1&&Id(n)}while(n&&(!r||r(n,e))&&n!==Object.prototype);return e},cN=(n,e,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=e.length;const s=n.indexOf(e,r);return s!==-1&&s===r},dN=n=>{if(!n)return null;if(gi(n))return n;let e=n.length;if(!Wy(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=n[e];return r},fN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Id(Uint8Array)),hN=(n,e)=>{const s=(n&&n[Symbol.iterator]).call(n);let l;for(;(l=s.next())&&!l.done;){const a=l.value;e.call(n,a[0],a[1])}},pN=(n,e)=>{let r;const s=[];for(;(r=n.exec(e))!==null;)s.push(r);return s},mN=rn("HTMLFormElement"),gN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,l){return s.toUpperCase()+l}),Mm=(({hasOwnProperty:n})=>(e,r)=>n.call(e,r))(Object.prototype),yN=rn("RegExp"),Qy=(n,e)=>{const r=Object.getOwnPropertyDescriptors(n),s={};Bs(r,(l,a)=>{let c;(c=e(l,a,n))!==!1&&(s[a]=c||l)}),Object.defineProperties(n,s)},_N=n=>{Qy(n,(e,r)=>{if(Mt(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=n[r];if(Mt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},vN=(n,e)=>{const r={},s=l=>{l.forEach(a=>{r[a]=!0})};return gi(n)?s(n):s(String(n).split(e)),r},wN=()=>{},EN=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,uc="abcdefghijklmnopqrstuvwxyz",Fm="0123456789",Gy={DIGIT:Fm,ALPHA:uc,ALPHA_DIGIT:uc+uc.toUpperCase()+Fm},CN=(n=16,e=Gy.ALPHA_DIGIT)=>{let r="";const{length:s}=e;for(;n--;)r+=e[Math.random()*s|0];return r};function SN(n){return!!(n&&Mt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const xN=n=>{const e=new Array(10),r=(s,l)=>{if(Gl(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[l]=s;const a=gi(s)?[]:{};return Bs(s,(c,h)=>{const p=r(c,l+1);!Is(p)&&(a[h]=p)}),e[l]=void 0,a}}return s};return r(n,0)},NN=rn("AsyncFunction"),kN=n=>n&&(Gl(n)||Mt(n))&&Mt(n.then)&&Mt(n.catch),Ky=((n,e)=>n?setImmediate:e?((r,s)=>(vr.addEventListener("message",({source:l,data:a})=>{l===vr&&a===r&&s.length&&s.shift()()},!1),l=>{s.push(l),vr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Mt(vr.postMessage)),RN=typeof queueMicrotask<"u"?queueMicrotask.bind(vr):typeof process<"u"&&process.nextTick||Ky,D={isArray:gi,isArrayBuffer:qy,isBuffer:Wx,isFormData:Zx,isArrayBufferView:Hx,isString:Vx,isNumber:Wy,isBoolean:Qx,isObject:Gl,isPlainObject:al,isReadableStream:tN,isRequest:nN,isResponse:rN,isHeaders:iN,isUndefined:Is,isDate:Gx,isFile:Kx,isBlob:Yx,isRegExp:yN,isFunction:Mt,isStream:Xx,isURLSearchParams:eN,isTypedArray:fN,isFileList:Jx,forEach:Bs,merge:bc,extend:oN,trim:sN,stripBOM:lN,inherits:aN,toFlatObject:uN,kindOf:Vl,kindOfTest:rn,endsWith:cN,toArray:dN,forEachEntry:hN,matchAll:pN,isHTMLForm:mN,hasOwnProperty:Mm,hasOwnProp:Mm,reduceDescriptors:Qy,freezeMethods:_N,toObjectSet:vN,toCamelCase:gN,noop:wN,toFiniteNumber:EN,findKey:Hy,global:vr,isContextDefined:Vy,ALPHABET:Gy,generateString:CN,isSpecCompliantForm:SN,toJSONObject:xN,isAsyncFn:NN,isThenable:kN,setImmediate:Ky,asap:RN};function ue(n,e,r,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}D.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const Yy=ue.prototype,Jy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Jy[n]={value:n}});Object.defineProperties(ue,Jy);Object.defineProperty(Yy,"isAxiosError",{value:!0});ue.from=(n,e,r,s,l,a)=>{const c=Object.create(Yy);return D.toFlatObject(n,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),ue.call(c,n.message,e,r,s,l),c.cause=n,c.name=n.name,a&&Object.assign(c,a),c};const TN=null;function Mc(n){return D.isPlainObject(n)||D.isArray(n)}function Xy(n){return D.endsWith(n,"[]")?n.slice(0,-2):n}function jm(n,e,r){return n?n.concat(e).map(function(l,a){return l=Xy(l),!r&&a?"["+l+"]":l}).join(r?".":""):e}function IN(n){return D.isArray(n)&&!n.some(Mc)}const PN=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function Kl(n,e,r){if(!D.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,r=D.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,R){return!D.isUndefined(R[k])});const s=r.metaTokens,l=r.visitor||_,a=r.dots,c=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(l))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(D.isDate(C))return C.toISOString();if(!p&&D.isBlob(C))throw new ue("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(C)||D.isTypedArray(C)?p&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function _(C,k,R){let L=C;if(C&&!R&&typeof C=="object"){if(D.endsWith(k,"{}"))k=s?k:k.slice(0,-2),C=JSON.stringify(C);else if(D.isArray(C)&&IN(C)||(D.isFileList(C)||D.endsWith(k,"[]"))&&(L=D.toArray(C)))return k=Xy(k),L.forEach(function(H,W){!(D.isUndefined(H)||H===null)&&e.append(c===!0?jm([k],W,a):c===null?k:k+"[]",m(H))}),!1}return Mc(C)?!0:(e.append(jm(R,k,a),m(C)),!1)}const y=[],v=Object.assign(PN,{defaultVisitor:_,convertValue:m,isVisitable:Mc});function S(C,k){if(!D.isUndefined(C)){if(y.indexOf(C)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(C),D.forEach(C,function(L,F){(!(D.isUndefined(L)||L===null)&&l.call(e,L,D.isString(F)?F.trim():F,k,v))===!0&&S(L,k?k.concat(F):[F])}),y.pop()}}if(!D.isObject(n))throw new TypeError("data must be an object");return S(n),e}function zm(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Pd(n,e){this._pairs=[],n&&Kl(n,this,e)}const Zy=Pd.prototype;Zy.append=function(e,r){this._pairs.push([e,r])};Zy.toString=function(e){const r=e?function(s){return e.call(this,s,zm)}:zm;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function AN(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function e_(n,e,r){if(!e)return n;const s=r&&r.encode||AN;D.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let a;if(l?a=l(e,r):a=D.isURLSearchParams(e)?e.toString():new Pd(e,r).toString(s),a){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Um{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(s){s!==null&&e(s)})}}const t_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ON=typeof URLSearchParams<"u"?URLSearchParams:Pd,DN=typeof FormData<"u"?FormData:null,LN=typeof Blob<"u"?Blob:null,bN={isBrowser:!0,classes:{URLSearchParams:ON,FormData:DN,Blob:LN},protocols:["http","https","file","blob","url","data"]},Ad=typeof window<"u"&&typeof document<"u",Fc=typeof navigator=="object"&&navigator||void 0,MN=Ad&&(!Fc||["ReactNative","NativeScript","NS"].indexOf(Fc.product)<0),FN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jN=Ad&&window.location.href||"http://localhost",zN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ad,hasStandardBrowserEnv:MN,hasStandardBrowserWebWorkerEnv:FN,navigator:Fc,origin:jN},Symbol.toStringTag,{value:"Module"})),ht={...zN,...bN};function UN(n,e){return Kl(n,new ht.classes.URLSearchParams,Object.assign({visitor:function(r,s,l,a){return ht.isNode&&D.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function BN(n){return D.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $N(n){const e={},r=Object.keys(n);let s;const l=r.length;let a;for(s=0;s<l;s++)a=r[s],e[a]=n[a];return e}function n_(n){function e(r,s,l,a){let c=r[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=a>=r.length;return c=!c&&D.isArray(l)?l.length:c,p?(D.hasOwnProp(l,c)?l[c]=[l[c],s]:l[c]=s,!h):((!l[c]||!D.isObject(l[c]))&&(l[c]=[]),e(r,s,l[c],a)&&D.isArray(l[c])&&(l[c]=$N(l[c])),!h)}if(D.isFormData(n)&&D.isFunction(n.entries)){const r={};return D.forEachEntry(n,(s,l)=>{e(BN(s),l,r,0)}),r}return null}function qN(n,e,r){if(D.isString(n))try{return(e||JSON.parse)(n),D.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(n)}const $s={transitional:t_,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const s=r.getContentType()||"",l=s.indexOf("application/json")>-1,a=D.isObject(e);if(a&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return l?JSON.stringify(n_(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e)||D.isReadableStream(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return UN(e,this.formSerializer).toString();if((h=D.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Kl(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||l?(r.setContentType("application/json",!1),qN(e)):e}],transformResponse:[function(e){const r=this.transitional||$s.transitional,s=r&&r.forcedJSONParsing,l=this.responseType==="json";if(D.isResponse(e)||D.isReadableStream(e))return e;if(e&&D.isString(e)&&(s&&!this.responseType||l)){const c=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?ue.from(h,ue.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ht.classes.FormData,Blob:ht.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],n=>{$s.headers[n]={}});const WN=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HN=n=>{const e={};let r,s,l;return n&&n.split(`
`).forEach(function(c){l=c.indexOf(":"),r=c.substring(0,l).trim().toLowerCase(),s=c.substring(l+1).trim(),!(!r||e[r]&&WN[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},Bm=Symbol("internals");function cs(n){return n&&String(n).trim().toLowerCase()}function ul(n){return n===!1||n==null?n:D.isArray(n)?n.map(ul):String(n)}function VN(n){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(n);)e[s[1]]=s[2];return e}const QN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function cc(n,e,r,s,l){if(D.isFunction(s))return s.call(this,e,r);if(l&&(e=r),!!D.isString(e)){if(D.isString(s))return e.indexOf(s)!==-1;if(D.isRegExp(s))return s.test(e)}}function GN(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function KN(n,e){const r=D.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+r,{value:function(l,a,c){return this[s].call(this,e,l,a,c)},configurable:!0})})}class Pt{constructor(e){e&&this.set(e)}set(e,r,s){const l=this;function a(h,p,m){const _=cs(p);if(!_)throw new Error("header name must be a non-empty string");const y=D.findKey(l,_);(!y||l[y]===void 0||m===!0||m===void 0&&l[y]!==!1)&&(l[y||p]=ul(h))}const c=(h,p)=>D.forEach(h,(m,_)=>a(m,_,p));if(D.isPlainObject(e)||e instanceof this.constructor)c(e,r);else if(D.isString(e)&&(e=e.trim())&&!QN(e))c(HN(e),r);else if(D.isHeaders(e))for(const[h,p]of e.entries())a(p,h,s);else e!=null&&a(r,e,s);return this}get(e,r){if(e=cs(e),e){const s=D.findKey(this,e);if(s){const l=this[s];if(!r)return l;if(r===!0)return VN(l);if(D.isFunction(r))return r.call(this,l,s);if(D.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=cs(e),e){const s=D.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||cc(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let l=!1;function a(c){if(c=cs(c),c){const h=D.findKey(s,c);h&&(!r||cc(s,s[h],h,r))&&(delete s[h],l=!0)}}return D.isArray(e)?e.forEach(a):a(e),l}clear(e){const r=Object.keys(this);let s=r.length,l=!1;for(;s--;){const a=r[s];(!e||cc(this,this[a],a,e,!0))&&(delete this[a],l=!0)}return l}normalize(e){const r=this,s={};return D.forEach(this,(l,a)=>{const c=D.findKey(s,a);if(c){r[c]=ul(l),delete r[a];return}const h=e?GN(a):String(a).trim();h!==a&&delete r[a],r[h]=ul(l),s[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return D.forEach(this,(s,l)=>{s!=null&&s!==!1&&(r[l]=e&&D.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(l=>s.set(l)),s}static accessor(e){const s=(this[Bm]=this[Bm]={accessors:{}}).accessors,l=this.prototype;function a(c){const h=cs(c);s[h]||(KN(l,c),s[h]=!0)}return D.isArray(e)?e.forEach(a):a(e),this}}Pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(Pt.prototype,({value:n},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[r]=s}}});D.freezeMethods(Pt);function dc(n,e){const r=this||$s,s=e||r,l=Pt.from(s.headers);let a=s.data;return D.forEach(n,function(h){a=h.call(r,a,l.normalize(),e?e.status:void 0)}),l.normalize(),a}function r_(n){return!!(n&&n.__CANCEL__)}function yi(n,e,r){ue.call(this,n??"canceled",ue.ERR_CANCELED,e,r),this.name="CanceledError"}D.inherits(yi,ue,{__CANCEL__:!0});function i_(n,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?n(r):e(new ue("Request failed with status code "+r.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function YN(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function JN(n,e){n=n||10;const r=new Array(n),s=new Array(n);let l=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),_=s[a];c||(c=m),r[l]=p,s[l]=m;let y=a,v=0;for(;y!==l;)v+=r[y++],y=y%n;if(l=(l+1)%n,l===a&&(a=(a+1)%n),m-c<e)return;const S=_&&m-_;return S?Math.round(v*1e3/S):void 0}}function XN(n,e){let r=0,s=1e3/e,l,a;const c=(m,_=Date.now())=>{r=_,l=null,a&&(clearTimeout(a),a=null),n.apply(null,m)};return[(...m)=>{const _=Date.now(),y=_-r;y>=s?c(m,_):(l=m,a||(a=setTimeout(()=>{a=null,c(l)},s-y)))},()=>l&&c(l)]}const Il=(n,e,r=3)=>{let s=0;const l=JN(50,250);return XN(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,p=c-s,m=l(p),_=c<=h;s=c;const y={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&_?(h-c)/m:void 0,event:a,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(y)},r)},$m=(n,e)=>{const r=n!=null;return[s=>e[0]({lengthComputable:r,total:n,loaded:s}),e[1]]},qm=n=>(...e)=>D.asap(()=>n(...e)),ZN=ht.hasStandardBrowserEnv?((n,e)=>r=>(r=new URL(r,ht.origin),n.protocol===r.protocol&&n.host===r.host&&(e||n.port===r.port)))(new URL(ht.origin),ht.navigator&&/(msie|trident)/i.test(ht.navigator.userAgent)):()=>!0,ek=ht.hasStandardBrowserEnv?{write(n,e,r,s,l,a){const c=[n+"="+encodeURIComponent(e)];D.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),D.isString(s)&&c.push("path="+s),D.isString(l)&&c.push("domain="+l),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tk(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function nk(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function s_(n,e){return n&&!tk(e)?nk(n,e):e}const Wm=n=>n instanceof Pt?{...n}:n;function xr(n,e){e=e||{};const r={};function s(m,_,y,v){return D.isPlainObject(m)&&D.isPlainObject(_)?D.merge.call({caseless:v},m,_):D.isPlainObject(_)?D.merge({},_):D.isArray(_)?_.slice():_}function l(m,_,y,v){if(D.isUndefined(_)){if(!D.isUndefined(m))return s(void 0,m,y,v)}else return s(m,_,y,v)}function a(m,_){if(!D.isUndefined(_))return s(void 0,_)}function c(m,_){if(D.isUndefined(_)){if(!D.isUndefined(m))return s(void 0,m)}else return s(void 0,_)}function h(m,_,y){if(y in e)return s(m,_);if(y in n)return s(void 0,m)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,_,y)=>l(Wm(m),Wm(_),y,!0)};return D.forEach(Object.keys(Object.assign({},n,e)),function(_){const y=p[_]||l,v=y(n[_],e[_],_);D.isUndefined(v)&&y!==h||(r[_]=v)}),r}const o_=n=>{const e=xr({},n);let{data:r,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:a,headers:c,auth:h}=e;e.headers=c=Pt.from(c),e.url=e_(s_(e.baseURL,e.url),n.params,n.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(D.isFormData(r)){if(ht.hasStandardBrowserEnv||ht.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,..._]=p?p.split(";").map(y=>y.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",..._].join("; "))}}if(ht.hasStandardBrowserEnv&&(s&&D.isFunction(s)&&(s=s(e)),s||s!==!1&&ZN(e.url))){const m=l&&a&&ek.read(a);m&&c.set(l,m)}return e},rk=typeof XMLHttpRequest<"u",ik=rk&&function(n){return new Promise(function(r,s){const l=o_(n);let a=l.data;const c=Pt.from(l.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=l,_,y,v,S,C;function k(){S&&S(),C&&C(),l.cancelToken&&l.cancelToken.unsubscribe(_),l.signal&&l.signal.removeEventListener("abort",_)}let R=new XMLHttpRequest;R.open(l.method.toUpperCase(),l.url,!0),R.timeout=l.timeout;function L(){if(!R)return;const H=Pt.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),G={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:H,config:n,request:R};i_(function(b){r(b),k()},function(b){s(b),k()},G),R=null}"onloadend"in R?R.onloadend=L:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(L)},R.onabort=function(){R&&(s(new ue("Request aborted",ue.ECONNABORTED,n,R)),R=null)},R.onerror=function(){s(new ue("Network Error",ue.ERR_NETWORK,n,R)),R=null},R.ontimeout=function(){let W=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const G=l.transitional||t_;l.timeoutErrorMessage&&(W=l.timeoutErrorMessage),s(new ue(W,G.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,n,R)),R=null},a===void 0&&c.setContentType(null),"setRequestHeader"in R&&D.forEach(c.toJSON(),function(W,G){R.setRequestHeader(G,W)}),D.isUndefined(l.withCredentials)||(R.withCredentials=!!l.withCredentials),h&&h!=="json"&&(R.responseType=l.responseType),m&&([v,C]=Il(m,!0),R.addEventListener("progress",v)),p&&R.upload&&([y,S]=Il(p),R.upload.addEventListener("progress",y),R.upload.addEventListener("loadend",S)),(l.cancelToken||l.signal)&&(_=H=>{R&&(s(!H||H.type?new yi(null,n,R):H),R.abort(),R=null)},l.cancelToken&&l.cancelToken.subscribe(_),l.signal&&(l.signal.aborted?_():l.signal.addEventListener("abort",_)));const F=YN(l.url);if(F&&ht.protocols.indexOf(F)===-1){s(new ue("Unsupported protocol "+F+":",ue.ERR_BAD_REQUEST,n));return}R.send(a||null)})},sk=(n,e)=>{const{length:r}=n=n?n.filter(Boolean):[];if(e||r){let s=new AbortController,l;const a=function(m){if(!l){l=!0,h();const _=m instanceof Error?m:this.reason;s.abort(_ instanceof ue?_:new yi(_ instanceof Error?_.message:_))}};let c=e&&setTimeout(()=>{c=null,a(new ue(`timeout ${e} of ms exceeded`,ue.ETIMEDOUT))},e);const h=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),n=null)};n.forEach(m=>m.addEventListener("abort",a));const{signal:p}=s;return p.unsubscribe=()=>D.asap(h),p}},ok=function*(n,e){let r=n.byteLength;if(r<e){yield n;return}let s=0,l;for(;s<r;)l=s+e,yield n.slice(s,l),s=l},lk=async function*(n,e){for await(const r of ak(n))yield*ok(r,e)},ak=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},Hm=(n,e,r,s)=>{const l=lk(n,e);let a=0,c,h=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:m,value:_}=await l.next();if(m){h(),p.close();return}let y=_.byteLength;if(r){let v=a+=y;r(v)}p.enqueue(new Uint8Array(_))}catch(m){throw h(m),m}},cancel(p){return h(p),l.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",l_=Yl&&typeof ReadableStream=="function",uk=Yl&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),a_=(n,...e)=>{try{return!!n(...e)}catch{return!1}},ck=l_&&a_(()=>{let n=!1;const e=new Request(ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Vm=64*1024,jc=l_&&a_(()=>D.isReadableStream(new Response("").body)),Pl={stream:jc&&(n=>n.body)};Yl&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Pl[e]&&(Pl[e]=D.isFunction(n[e])?r=>r[e]():(r,s)=>{throw new ue(`Response type '${e}' is not supported`,ue.ERR_NOT_SUPPORT,s)})})})(new Response);const dk=async n=>{if(n==null)return 0;if(D.isBlob(n))return n.size;if(D.isSpecCompliantForm(n))return(await new Request(ht.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(D.isArrayBufferView(n)||D.isArrayBuffer(n))return n.byteLength;if(D.isURLSearchParams(n)&&(n=n+""),D.isString(n))return(await uk(n)).byteLength},fk=async(n,e)=>{const r=D.toFiniteNumber(n.getContentLength());return r??dk(e)},hk=Yl&&(async n=>{let{url:e,method:r,data:s,signal:l,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:_,withCredentials:y="same-origin",fetchOptions:v}=o_(n);m=m?(m+"").toLowerCase():"text";let S=sk([l,a&&a.toAbortSignal()],c),C;const k=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let R;try{if(p&&ck&&r!=="get"&&r!=="head"&&(R=await fk(_,s))!==0){let G=new Request(e,{method:"POST",body:s,duplex:"half"}),K;if(D.isFormData(s)&&(K=G.headers.get("content-type"))&&_.setContentType(K),G.body){const[b,$]=$m(R,Il(qm(p)));s=Hm(G.body,Vm,b,$)}}D.isString(y)||(y=y?"include":"omit");const L="credentials"in Request.prototype;C=new Request(e,{...v,signal:S,method:r.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:L?y:void 0});let F=await fetch(C);const H=jc&&(m==="stream"||m==="response");if(jc&&(h||H&&k)){const G={};["status","statusText","headers"].forEach(M=>{G[M]=F[M]});const K=D.toFiniteNumber(F.headers.get("content-length")),[b,$]=h&&$m(K,Il(qm(h),!0))||[];F=new Response(Hm(F.body,Vm,b,()=>{$&&$(),k&&k()}),G)}m=m||"text";let W=await Pl[D.findKey(Pl,m)||"text"](F,n);return!H&&k&&k(),await new Promise((G,K)=>{i_(G,K,{data:W,headers:Pt.from(F.headers),status:F.status,statusText:F.statusText,config:n,request:C})})}catch(L){throw k&&k(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,n,C),{cause:L.cause||L}):ue.from(L,L&&L.code,n,C)}}),zc={http:TN,xhr:ik,fetch:hk};D.forEach(zc,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Qm=n=>`- ${n}`,pk=n=>D.isFunction(n)||n===null||n===!1,u_={getAdapter:n=>{n=D.isArray(n)?n:[n];const{length:e}=n;let r,s;const l={};for(let a=0;a<e;a++){r=n[a];let c;if(s=r,!pk(r)&&(s=zc[(c=String(r)).toLowerCase()],s===void 0))throw new ue(`Unknown adapter '${c}'`);if(s)break;l[c||"#"+a]=s}if(!s){const a=Object.entries(l).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(Qm).join(`
`):" "+Qm(a[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:zc};function fc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new yi(null,n)}function Gm(n){return fc(n),n.headers=Pt.from(n.headers),n.data=dc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),u_.getAdapter(n.adapter||$s.adapter)(n).then(function(s){return fc(n),s.data=dc.call(n,n.transformResponse,s),s.headers=Pt.from(s.headers),s},function(s){return r_(s)||(fc(n),s&&s.response&&(s.response.data=dc.call(n,n.transformResponse,s.response),s.response.headers=Pt.from(s.response.headers))),Promise.reject(s)})}const c_="1.7.9",Jl={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Jl[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const Km={};Jl.transitional=function(e,r,s){function l(a,c){return"[Axios v"+c_+"] Transitional option '"+a+"'"+c+(s?". "+s:"")}return(a,c,h)=>{if(e===!1)throw new ue(l(c," has been removed"+(r?" in "+r:"")),ue.ERR_DEPRECATED);return r&&!Km[c]&&(Km[c]=!0,console.warn(l(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,c,h):!0}};Jl.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function mk(n,e,r){if(typeof n!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let l=s.length;for(;l-- >0;){const a=s[l],c=e[a];if(c){const h=n[a],p=h===void 0||c(h,a,n);if(p!==!0)throw new ue("option "+a+" must be "+p,ue.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ue("Unknown option "+a,ue.ERR_BAD_OPTION)}}const cl={assertOptions:mk,validators:Jl},cn=cl.validators;class wr{constructor(e){this.defaults=e,this.interceptors={request:new Um,response:new Um}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const a=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=xr(this.defaults,r);const{transitional:s,paramsSerializer:l,headers:a}=r;s!==void 0&&cl.assertOptions(s,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1),l!=null&&(D.isFunction(l)?r.paramsSerializer={serialize:l}:cl.assertOptions(l,{encode:cn.function,serialize:cn.function},!0)),cl.assertOptions(r,{baseUrl:cn.spelling("baseURL"),withXsrfToken:cn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=a&&D.merge(a.common,a[r.method]);a&&D.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),r.headers=Pt.concat(c,a);const h=[];let p=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(p=p&&k.synchronous,h.unshift(k.fulfilled,k.rejected))});const m=[];this.interceptors.response.forEach(function(k){m.push(k.fulfilled,k.rejected)});let _,y=0,v;if(!p){const C=[Gm.bind(this),void 0];for(C.unshift.apply(C,h),C.push.apply(C,m),v=C.length,_=Promise.resolve(r);y<v;)_=_.then(C[y++],C[y++]);return _}v=h.length;let S=r;for(y=0;y<v;){const C=h[y++],k=h[y++];try{S=C(S)}catch(R){k.call(this,R);break}}try{_=Gm.call(this,S)}catch(C){return Promise.reject(C)}for(y=0,v=m.length;y<v;)_=_.then(m[y++],m[y++]);return _}getUri(e){e=xr(this.defaults,e);const r=s_(e.baseURL,e.url);return e_(r,e.params,e.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(e){wr.prototype[e]=function(r,s){return this.request(xr(s||{},{method:e,url:r,data:(s||{}).data}))}});D.forEach(["post","put","patch"],function(e){function r(s){return function(a,c,h){return this.request(xr(h||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}wr.prototype[e]=r(),wr.prototype[e+"Form"]=r(!0)});class Od{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(l=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](l);s._listeners=null}),this.promise.then=l=>{let a;const c=new Promise(h=>{s.subscribe(h),a=h}).then(l);return c.cancel=function(){s.unsubscribe(a)},c},e(function(a,c,h){s.reason||(s.reason=new yi(a,c,h),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Od(function(l){e=l}),cancel:e}}}function gk(n){return function(r){return n.apply(null,r)}}function yk(n){return D.isObject(n)&&n.isAxiosError===!0}const Uc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uc).forEach(([n,e])=>{Uc[e]=n});function d_(n){const e=new wr(n),r=$y(wr.prototype.request,e);return D.extend(r,wr.prototype,e,{allOwnKeys:!0}),D.extend(r,e,null,{allOwnKeys:!0}),r.create=function(l){return d_(xr(n,l))},r}const Ve=d_($s);Ve.Axios=wr;Ve.CanceledError=yi;Ve.CancelToken=Od;Ve.isCancel=r_;Ve.VERSION=c_;Ve.toFormData=Kl;Ve.AxiosError=ue;Ve.Cancel=Ve.CanceledError;Ve.all=function(e){return Promise.all(e)};Ve.spread=gk;Ve.isAxiosError=yk;Ve.mergeConfig=xr;Ve.AxiosHeaders=Pt;Ve.formToJSON=n=>n_(D.isHTMLForm(n)?new FormData(n):n);Ve.getAdapter=u_.getAdapter;Ve.HttpStatusCode=Uc;Ve.default=Ve;function f_(n=null){const e=n?{Authorization:`Bearer ${n}`,"Content-Type":"multipart/form-data"}:{"Content-Type":"multipart/form-data"},r=Ve.create({baseURL:"https://quizdb-ad0a2-default-rtdb.firebaseio.com",headers:e,timeout:6e4,withCredentials:!1});return r.interceptors.request.use(s=>{const l=localStorage.getItem("ACCESS_TOKEN");return s.headers=s.headers||{},l&&(s.headers.Authorization=`Bearer ${l}`),s}),r.interceptors.response.use(s=>s,s=>{try{const{response:l}=s;(l==null?void 0:l.status)===401&&localStorage.removeItem("ACCESS_TOKEN")}catch(l){console.error(l)}throw s}),r}function _k(){const n=wt(),e=Je(),r=f_(),[s,l]=T.useState([]),[a,c]=T.useState([]);T.useEffect(()=>{try{l(Object.values(e.state.answers)),console.log(Object.values(e.state.answers))}catch{console.log("No answers using empty array")}r.get(`/groups/${e.state.groupName}/quizzes/${e.state.quizId}/questions.json`).then(m=>{const _=m.data;_?(c(_),console.log(_)):console.log("No questions found.")}).catch(m=>{console.error("Error while getting questions:",m)})},[]);function h(){n("/quizPage",{state:{groupName:e.state.groupName,username:e.state.username,quizId:e.state.quizId}})}function p(){const m=lt(),_=ce(m,`groups/${e.state.groupName}/quizzes/${e.state.quizId}/answers/${e.state.username}`);It(_,{user:e.state.username,answers:s}).then(()=>{n("/options",{state:{username:e.state.username}})}).catch(y=>{console.error("Error submitting answers:",y.message)})}return w.jsx("div",{className:"user-finish-container",children:w.jsxs("div",{className:"user-finish-card",children:[w.jsx("h2",{className:"user-finish-title",children:"Thank You for Taking This Quiz!"}),w.jsx("div",{className:"user-finish-answers",children:s.length>0?s.map((m,_)=>w.jsxs("div",{className:"user-finish-answer-item",children:[w.jsxs("strong",{children:["Q",_+1,": "]}),a[_]||"Question not found"," ",w.jsx("br",{}),w.jsx("span",{className:"user-finish-answer",children:m})]},_)):w.jsx("p",{className:"user-finish-no-answers",children:"No answers to display"})}),w.jsxs("div",{className:"user-finish-buttons",children:[w.jsx("button",{onClick:h,className:"user-finish-button retake",children:"Retake"}),w.jsx("button",{onClick:p,className:"user-finish-button submit",children:"Submit"})]})]})})}function vk(){const n=wt(),e=Je(),[r,s]=T.useState([]),[l,a]=T.useState(1),[c,h]=T.useState([""]),[p,m]=T.useState(""),[_,y]=T.useState(""),[v,S]=T.useState(null),[C,k]=T.useState(!1);T.useEffect(()=>{try{s(Object.values(e.state.answers)),e.state.id&&S(e.state.id),e.state.id&&R(e.state.id)}catch{console.log("No answers or Firebase key provided, using default values.")}},[e.state]);function R(M){const j=ce(pt,`questions/${M}`);console.log(M),He(j).then(re=>{if(re.exists()){console.log(re);const Fe=re.val();y(Fe.legend),a(Fe.numOptions);const rt=Array.from({length:Fe.numOptions},(Ft,jt)=>Fe[`option${jt+1}`]);h(rt),m(Fe.answer),k(!0)}else console.error("Question not found in the database.")}).catch(re=>{console.error("Error retrieving question:",re)})}function L(M){const j=parseInt(M.target.value,10)||1;a(j),j>c.length?h([...c,...Array(j-c.length).fill("")]):h(c.slice(0,j))}function F(M,j){const re=[...c];re[M]=j.target.value,h(re)}function H(M){m(M.target.value)}function W(M){y(M.target.value)}function G(){return c.includes(p)}function K(){if(!G()){document.getElementById("warning").innerHTML="Please make sure your correct value is one of the available options.";return}const M={name:`Q${v||"New"}`,legend:_,numOptions:l,...c.reduce((re,Fe,rt)=>(re[`option${rt+1}`]=Fe,re),{}),answer:p},j=ce(pt,"questions");if(v){const re=ce(pt,`questions/${v}`);kx(re,M).then(()=>console.log("Question updated successfully")).catch(Fe=>console.error("Error updating question:",Fe))}else Nx(j,M).then(()=>console.log("Question added successfully")).catch(re=>console.error("Error adding question:",re));n("/done",{state:{answers:r}})}function b(){const M=ce(pt,`questions/${v}`);ll(M).then(()=>n("/done",{state:{answers:r}})).catch(j=>{console.error("Error deleting question:",j),alert("Failed to delete the question. Please try again.")})}function $(){n("/done",{state:{answers:r}})}return w.jsx("div",{id:"all-quiz",children:w.jsxs("div",{id:"instructions",children:[w.jsx("h2",{children:"Question Creation"}),w.jsx("label",{htmlFor:"prompt",children:"Prompt:"}),w.jsx("textarea",{rows:"5",cols:"40",id:"prompt",value:_,onChange:W,className:"fillable"}),w.jsx("label",{htmlFor:"numOptions",children:"Number of Options:"}),w.jsx("input",{type:"number",id:"numOptions",min:"1",max:"100",step:"1",value:l,onChange:L,className:"fillable"}),w.jsx("ul",{id:"options",children:c.map((M,j)=>w.jsx("li",{children:w.jsx("input",{type:"text",value:M,onChange:re=>F(j,re),placeholder:`Option ${j+1}`,className:"fillable"})},j))}),w.jsx("label",{htmlFor:"CV",children:"Correct Value:"}),w.jsx("input",{type:"text",id:"CV",value:p,onChange:H,className:"fillable"}),w.jsx("div",{id:"warning"}),w.jsxs("div",{className:"button-container",children:[w.jsx("button",{onClick:K,children:"Finish"}),v&&w.jsx("button",{onClick:b,children:"Delete"}),w.jsx("button",{onClick:$,children:"Cancel"})]})]})})}function wk(){const n=wt(),e=f_(),r=Je(),[s,l]=T.useState([]),[a,c]=T.useState([]);T.useEffect(()=>{try{l(Object.values(r.state.answers)),setId(r.state.id),console.log(Object.values(r.state.answers))}catch{console.log("no answers using empty array")}e.get("/questions.json").then(_=>{const y=_.data;if(y){const v=Object.keys(y).map(S=>({id:S,...y[S]}));c(v),console.log(v)}else console.log("No questions found.")}).catch(_=>{console.error("Error while getting questions:",_)})},[]);function h(_){n("/create",{state:{answers:s,id:_-1}})}function p(){n("/done",{state:{answers:s}})}function m(_){_.target.style.cursor="pointer"}return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"content-container",children:[w.jsx("h2",{className:"title",children:"Questions"}),w.jsx("ul",{children:a.map((_,y)=>w.jsx("li",{onClick:()=>h(_.id),children:w.jsx("div",{className:"card",onMouseOver:v=>m(v),children:w.jsx("div",{className:"card-content",children:w.jsx("div",{className:"content",children:w.jsx("div",{className:"name",children:_.legend},"question.legend")})})})},_.id))}),w.jsx("button",{onClick:p,children:"Back"})]})})}function Ek(){const n=wt(),{state:e}=Je(),{groupName:r}=e,[s,l]=T.useState(""),[a,c]=T.useState([]),[h,p]=T.useState(""),m=()=>{if(!s||a.length===0){p("Please provide a title and at least one question.");return}const y=lt(),v=new Date().toISOString().replace(/[:.]/g,"-"),S=ce(y,`groups/${r}/quizzes/${v}`);console.log("Saving to path:",`groups/${r}/quizzes/${v}`);const C={title:s,questions:a,date:new Date().toISOString().split("T")[0]};console.log(C),It(S,C).then(()=>{const k=ce(y,`groups/${r}/latest`);It(k,{latestQuiz:{id:v,date:new Date().toISOString().split("T")[0]}}).then(()=>{n("/quizPage",{state:{groupName:r,quizId:v,username:e.username}})}).catch(R=>{p("Error updating group with latest quiz: "+R.message)})}).catch(k=>{p("Error creating quiz: "+k.message)})},_=()=>{n("/createMC",{state:{groupName:r,username:e.username}})};return w.jsx("div",{className:"quiz-creation-container",children:w.jsxs("div",{className:"quiz-creation-card",children:[w.jsxs("h2",{children:["Create a Quiz for ",r]}),w.jsx("button",{onClick:_,className:"btn primary-btn",children:"Make Quiz Multiple Choice"}),w.jsx("div",{className:"input-group",children:w.jsx("input",{type:"text",placeholder:"Enter Quiz Title",value:s,onChange:y=>l(y.target.value),className:"input-field"})}),w.jsx("div",{className:"input-group",children:w.jsx("textarea",{placeholder:"Enter Questions (separate by new lines)",value:a.join(`
`),onChange:y=>c(y.target.value.split(`
`)),className:"textarea-field"})}),w.jsx("button",{onClick:m,className:"create-quiz-btn",children:"Create Quiz"}),h&&w.jsx("p",{className:"error-message",children:h})]})})}function Ck(){const n=wt(),{state:e}=Je(),{groupName:r}=e,[s,l]=T.useState(""),[a,c]=T.useState([]),[h,p]=T.useState(""),[m,_]=T.useState(["",""]),[y,v]=T.useState(null),[S,C]=T.useState("");console.log("loaded");const k=()=>{m.length<4&&_([...m,""])},R=W=>{if(m.length>2){const G=m.filter((K,b)=>b!==W);_(G),y===W?v(null):y>W&&v(y-1)}},L=()=>{if(!h||m.some(G=>G.trim()==="")||y===null){C("Please fill in the question, all answer choices, and select the correct answer.");return}const W={question:h,choices:m,correctAnswer:y};c([...a,W]),p(""),_(["",""]),v(null),C("")},F=()=>{if(console.log("click"),!s||a.length<1){C("Please provide a title and at least 1 question.");return}console.log("click");const W=lt(),G=new Date().toISOString().replace(/[:.]/g,"-"),K=ce(W,`groups/${r}/quizzes/${G}`),b={title:s,questions:a,date:new Date().toISOString().split("T")[0]};It(K,b).then(()=>{const $=ce(W,`groups/${r}/latest`);It($,{latestQuiz:{id:G,date:new Date().toISOString().split("T")[0]}}).then(()=>{n("/quizPage",{state:{groupName:r,quizId:G,username:e.username}})}).catch(M=>C("Error updating group with latest quiz: "+M.message))}).catch($=>C("Error creating quiz: "+$.message))},H=()=>{n("/quiz-create",{state:{groupName:r,username:e.username}})};return w.jsx("div",{className:"quiz-creation-container",children:w.jsxs("div",{className:"quiz-creation-card",children:[w.jsxs("h2",{children:["Create a Quiz for ",r]}),w.jsx("button",{onClick:H,className:"btn primary-btn",children:"Make Standard Quiz"}),w.jsx("div",{className:"input-group",children:w.jsx("input",{type:"text",placeholder:"Enter Quiz Title",value:s,onChange:W=>l(W.target.value),className:"input-field"})}),w.jsxs("div",{className:"question-form",children:[w.jsx("input",{type:"text",placeholder:"Enter Question",value:h,onChange:W=>p(W.target.value),className:"input-field"}),w.jsx("div",{className:"choices-container",children:m.map((W,G)=>w.jsxs("div",{className:"choice-input",children:[w.jsx("input",{type:"text",placeholder:`Choice ${G+1}`,value:W,onChange:K=>{const b=[...m];b[G]=K.target.value,_(b)},className:"input-field"}),w.jsx("input",{type:"radio",name:"correctAnswer",checked:y===G,onChange:()=>v(G)}),"Correct",m.length>2&&w.jsx("button",{onClick:()=>R(G),className:"btn remove-btn",children:"Remove"})]},G))}),w.jsx("button",{onClick:k,className:"add-option-btn",children:"Add Option"}),w.jsx("button",{onClick:L,className:"add-question-btn",children:"Add Question"})]}),w.jsxs("div",{className:"questions-list",children:[w.jsx("h3",{children:"Questions Added:"}),a.length>0?a.map((W,G)=>w.jsxs("div",{className:"question-item",children:[w.jsxs("p",{children:[G+1,". ",W.question]}),w.jsx("ul",{children:W.choices.map((K,b)=>w.jsx("li",{style:{color:W.correctAnswer===b?"green":"black"},children:K},b))})]},G)):w.jsx("p",{children:"No questions added yet."})]}),w.jsx("button",{onClick:F,className:"create-quiz-btn",children:"Create Quiz"}),S&&w.jsx("p",{className:"error-message",children:S})]})})}function Sk(){const n=Je(),e=wt(),[r,s]=T.useState({id:0,name:"Q0",legend:"",answer:""}),[l,a]=T.useState([]),[c,h]=T.useState(1),[p,m]=T.useState([]),_=c===1,y=c===l.length;T.useEffect(()=>{try{console.log(n.state.id),h(1),n.state.answers?m(n.state.answers):m(new Array(l.length).fill(""))}catch(W){console.log("Error getting state: "+W)}console.log(n.state.quizId);const H=ce(pt,`groups/${n.state.groupName}/quizzes/${n.state.quizId}/questions`);He(H).then(W=>{if(W.exists()){const G=W.val(),K=Object.keys(G);console.log(K),a(K),v(K[0])}else console.log("No questions found in the database."),e("/admin",{state:{groupName:n.state.groupName,username:n.state.username,quizId:n.state.quizId}})}).catch(W=>{console.log("Error while getting questions: "+W)})},[n.state.id]);const v=H=>{var b,$;const W=(b=n.state)==null?void 0:b.groupName,G=(($=n.state)==null?void 0:$.quizId)||"2024-12-10T19-37-39-210Z";if(!W||!H){console.log("Missing required parameters: groupName or questionId.");return}const K=ce(pt,`groups/${W}/quizzes/${G}`);He(K).then(M=>{if(M.exists()){const j=M.val();console.log(j.questions[H]),s(j.questions[H])}else console.log(`No question found with the specified ID: ${H} in quiz: ${G}`)}).catch(M=>{console.error(`Error getting question data for group: ${W}, quiz: ${G}, question: ${H}.`,M)})};T.useEffect(()=>{l.length>0&&(m(new Array(l.length).fill("")),console.log("Answers initialized"))},[l]);const S=H=>{const W=H.target.value;m(G=>{const K=[...G];return K[c-1]=W,K})},C=()=>{const H=c<l.length?c+1:c;m(W=>{const G=[...W];return G[c-1]=p[c-1]||"",G}),v(l[H-1]),h(H)},k=()=>{const H=c>1?c-1:c;m(W=>{const G=[...W];return G[c-1]=p[c-1]||"",G}),v(l[H-1]),h(H)};function R(){L(p)&&e("/doneUser",{state:{answers:p,username:n.state.username,groupName:n.state.groupName,quizId:n.state.quizId}})}function L(H){let W=!0;for(const G of H)if(!G){document.getElementById("warning").innerHTML="Please answer all questions",W=!1;break}return W}const F=()=>{e("/quiz",{state:{username:n.state.username,groupName:n.state.groupName,quizId:n.state.quizId}})};return l.length===0||!p?(console.log(l.length),console.log(p),console.log(r),w.jsx("div",{children:"Loading..."})):typeof r=="string"?w.jsx("div",{id:"all-quiz",children:w.jsxs("div",{id:"quiz",className:"quiz_center",children:[w.jsx("span",{id:"INFO",children:w.jsxs("span",{children:["Question: ",w.jsx("span",{id:"questionNumber",children:c})]})}),w.jsx("form",{name:"quiz_form",id:"quiz_form",method:"get",children:r?w.jsxs("fieldset",{children:[w.jsx("legend",{children:r}),w.jsx("div",{children:w.jsx("textarea",{value:p[c-1]||"",onChange:S,placeholder:"Type your answer here"})})]}):w.jsx("div",{children:"No question to display"})}),w.jsx("div",{id:"warning"}),w.jsxs("div",{className:"button-container",children:[!_&&w.jsx("button",{onClick:k,id:"prev",children:"Previous"}),!y&&w.jsx("button",{onClick:C,id:"next",children:"Next"}),y&&w.jsx("button",{onClick:R,id:"Finish",children:"Finish"})]})]})}):typeof r=="object"?w.jsxs("div",{children:["Multiple choice ",F()]}):w.jsxs("div",{children:["Loading...",typeof r]})}function xk(){const n=Je(),e=n.state.groupName,r=wt(),[s,l]=T.useState({}),[a,c]=T.useState([]),[h,p]=T.useState([]),[m,_]=T.useState(""),[y,v]=T.useState("");T.useEffect(()=>{S(),_(n.state.quizId)},[e]);function S(){const K=lt(),b=ce(K,`groups/${e}`),$=ce(K,`groups/${e}/quizzes`);bm(b,M=>{if(M.exists()){const j=M.val();l(j),c(Object.keys(j.members)||[])}else v("Group not found.")},M=>{v("Error fetching group data: "+M.message)}),bm($,M=>{M.exists()?p(Object.entries(M.val()).map(([j,re])=>({id:j,...re}))):p([])},M=>{v("Error fetching quizzes: "+M.message)})}const C=K=>{const b=lt(),$=ce(b,`groups/${e}/members/${K}`),M=ce(b,`users/${K}/groups/${e}`);ll($).then(()=>ll(M)).then(()=>{c(a.filter(j=>j!==K)),S()}).catch(j=>{alert("Error removing member: "+j.message)})},k=()=>{r("/quiz-create",{state:{groupName:e,username:n.state.username}})},R=()=>{m=="null"?v("No Quizzes to Take"):(console.log(m),r("/quizPage",{state:{groupName:e,username:n.state.username,quizId:m}}))},L=K=>{_(K);const b=lt(),$=ce(b,`groups/${e}/latest`);It($,{latestQuiz:{id:K,date:new Date().toISOString().split("T")[0]}}).then(()=>{}).catch(M=>{alert("Error activating quiz: "+M.message)})},F=K=>{const b=lt(),$=ce(b,`groups/${e}/quizzes/${K}`);ll($).then(()=>{p(h.filter(M=>M.id!==K))}).catch(M=>{alert("Error removing quiz: "+M.message)})};function H(K){r("/user-answers",{state:{member:K,groupName:n.state.groupName}})}const W=K=>{r("/quiz-answers",{state:{quizId:K,groupName:n.state.groupName}})},G=()=>{r("/options",{state:{username:n.state.username}})};return w.jsxs("div",{className:"group-admin-container",children:[w.jsxs("header",{children:[w.jsxs("h1",{children:["Admin Dashboard for ",e]}),w.jsxs("p",{className:"group-description",children:["Join Code: ",s.joinCode]}),w.jsx("button",{onClick:G,children:"Return to User"})]}),w.jsxs("section",{className:"actions",children:[w.jsx("button",{onClick:k,className:"btn primary-btn",children:"Create Quiz"}),w.jsx("button",{onClick:R,className:"btn secondary-btn",children:"Take Quiz"})]}),w.jsxs("section",{className:"members-section",children:[w.jsx("h2",{children:"Members"}),a.length>0?w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Name"}),w.jsx("th",{children:"Actions"})]})}),w.jsx("tbody",{children:a.map(K=>w.jsxs("tr",{children:[w.jsx("td",{children:K}),w.jsx("td",{children:w.jsxs("div",{className:"button-container",children:[w.jsx("button",{onClick:()=>C(K),className:"btn remove-btn",children:"Remove"}),w.jsx("button",{onClick:()=>H(K),className:"btn primary-btn",children:"View"})]})})]},K))})]}):w.jsx("p",{children:"No members found."})]}),w.jsxs("section",{className:"quizzes-section",children:[w.jsx("h2",{children:"Quizzes"}),h.length>0?w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Quiz Name"}),w.jsx("th",{children:"Actions"})]})}),w.jsx("tbody",{children:h.map(K=>w.jsxs("tr",{children:[w.jsx("td",{children:K.title}),w.jsx("td",{children:w.jsxs("div",{className:"button-container",children:[w.jsx("button",{onClick:()=>L(K.id),className:"btn activate-btn",children:"Activate"}),w.jsx("button",{onClick:()=>F(K.id),className:"btn remove-quiz-btn",children:"Remove"}),w.jsx("button",{onClick:()=>W(K.id),className:"btn primary-btn",children:"View"})]})})]},K.id))})]}):w.jsx("p",{children:"No quizzes available."})]}),y&&w.jsx("div",{className:"error",children:y})]})}function Nk(){const n=Je(),e=wt(),{member:r,groupName:s}=n.state,[l,a]=T.useState(null),[c,h]=T.useState([]);if(T.useEffect(()=>{const m=ce(pt,`groups/${s}/quizzes`);He(m).then(_=>{if(_.exists()){const y=_.val();h(y);const S=Object.keys(y).map(C=>{const k=ce(pt,`groups/${s}/quizzes/${C}/answers/${r}`);return He(k).then(R=>({quizId:C,answers:R.exists()?R.val():null}))});Promise.all(S).then(C=>{a(C.filter(k=>k.answers))})}else a([])}).catch(_=>console.error("Error fetching quizzes:",_))},[s,r]),l===null)return w.jsx("div",{className:"loading",children:"Loading..."});const p=()=>{e(-1)};return w.jsxs("div",{className:"answers-page",children:[w.jsxs("h2",{className:"header",children:["All Answers by ",r," in Group ",s]}),w.jsx("button",{className:"return-button",onClick:p,children:"Return"}),l.length===0?w.jsx("p",{className:"no-answers",children:"No answers found for this user."}):l.map(({quizId:m,answers:_})=>{const y=c[m];return w.jsxs("div",{className:"quiz-container",children:[w.jsx("h3",{className:"quiz-title",children:y==null?void 0:y.title}),(y==null?void 0:y.questions)&&Object.entries(_.answers).map(([v,S])=>w.jsxs("div",{className:"question-container",children:[!y.questions[v].question&&w.jsx("h4",{className:"question-text",children:y.questions[v]}),y.questions[v].question&&w.jsx("h4",{className:"question-text",children:y.questions[v].question}),w.jsx("p",{className:"answer-text",children:S})]},v))]},m)})]})}function kk(){const n=Je(),e=wt(),{quizId:r,groupName:s}=n.state,[l,a]=T.useState(null),[c,h]=T.useState(null);if(T.useEffect(()=>{const m=ce(pt,`groups/${s}/quizzes/${r}`);He(m).then(y=>{y.exists()?(console.log(y.val()),h(y.val())):console.error("Quiz not found")}).catch(y=>console.error("Error fetching quiz:",y));const _=ce(pt,`groups/${s}/quizzes/${r}/answers`);He(_).then(y=>{y.exists()?a(y.val()):a({})}).catch(y=>console.error("Error fetching quiz answers:",y))},[r,s]),l===null||c===null)return w.jsx("div",{className:"loading",children:"Loading..."});const p=()=>{e(-1)};return w.jsxs("div",{className:"quiz-answers-page",children:[w.jsxs("h2",{className:"header",children:["Answers for Quiz: ",c.title]}),w.jsx("button",{className:"return-button",onClick:p,children:"Return"}),Object.entries(l).map(([m,_])=>w.jsxs("div",{className:"user-answers-container",children:[w.jsxs("h3",{className:"user-name",children:[m,"'s Answers:"]}),Object.entries(_.answers).map(([y,v])=>w.jsxs("div",{className:"question-answer-container",children:[!c.questions[y].question&&w.jsx("h4",{className:"question-text",children:c.questions[y]}),c.questions[y].question&&w.jsx("h4",{className:"question-text",children:c.questions[y].question}),w.jsx("p",{className:"answer-text",children:v})]},y))]},m)),Object.keys(l).length===0&&w.jsx("p",{className:"no-answers",children:"No answers submitted for this quiz yet."})]})}function Rk(){return w.jsxs(u0,{children:[w.jsx(yt,{path:"/",element:w.jsx(q0,{})}),w.jsx(yt,{path:"/quiz",element:w.jsx(zx,{})}),w.jsx(yt,{path:"/quiz-create",element:w.jsx(Ek,{})}),w.jsx(yt,{path:"/quizPage",element:w.jsx(Sk,{})}),w.jsx(yt,{path:"/login",element:w.jsx(Ux,{})}),w.jsx(yt,{path:"/options",element:w.jsx(Bx,{})}),w.jsx(yt,{path:"/done",element:w.jsx($x,{})}),w.jsx(yt,{path:"/doneUser",element:w.jsx(_k,{})}),w.jsx(yt,{path:"/create",element:w.jsx(vk,{})}),w.jsx(yt,{path:"/createMC",element:w.jsx(Ck,{})}),w.jsx(yt,{path:"/edit",element:w.jsx(wk,{})}),w.jsx(yt,{path:"/admin",element:w.jsx(xk,{})}),w.jsx(yt,{path:"/user-answers",element:w.jsx(Nk,{})}),w.jsx(yt,{path:"/quiz-answers",element:w.jsx(kk,{})})]})}vw.createRoot(document.getElementById("root")).render(w.jsx(fw.StrictMode,{children:w.jsx(D0,{children:w.jsx(Rk,{})})}));
